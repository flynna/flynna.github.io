<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>[è½¬] Decorator è£…é¥°å™¨çš„å®ç°åŸç†åŠå®è·µ</title>
      <link href="/notes/decorator/"/>
      <url>/notes/decorator/</url>
      
        <content type="html"><![CDATA[<p><a href="https://zhuanlan.zhihu.com/p/63414586"><img src="/images/notes/decorator/p1.png" alt="&#39;decorator-p1&#39;" loading="lazy"></a></p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> decorator </tag>
            
            <tag> è£…é¥°å™¨ </tag>
            
            <tag> javascript </tag>
            
            <tag> es7 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OAuth2.0 çš„å››ç§æˆæƒæ–¹å¼</title>
      <link href="/notes/oauth/"/>
      <url>/notes/oauth/</url>
      
        <content type="html"><![CDATA[<h3 id="Beforeâ€¦"><a href="#Beforeâ€¦" class="headerlink" title="Beforeâ€¦"></a>Beforeâ€¦</h3><blockquote><p><code>OAuth 2.0</code> é€šè¿‡æˆæƒæœºåˆ¶ï¼Œè®©ç¬¬ä¸‰æ–¹åº”ç”¨å¯ä»¥è·å–ç”¨æˆ·æˆ–è€…ç³»ç»Ÿæ•°æ®ã€‚</p></blockquote><p>å‰åç«¯åœ¨è¿›è¡Œé€šä¿¡(æˆ–è€…ç§°ä¹‹ä¸ºæ•°æ®è¯·æ±‚)æ—¶ï¼Œéœ€è¦åœ¨è¯·æ±‚æ—¶æºå¸¦ç”¨æˆ· <code>token</code>ï¼Œç”¨æ¥éªŒè¯ç”¨æˆ·çš„ç™»å½•æƒ…å†µå‡è½»æœåŠ¡å™¨å‹åŠ›ã€‚</p><p><code>OAuth</code> çš„æ ¸å¿ƒä½œç”¨å°±æ˜¯å‘å®¢æˆ·ç«¯é¢å‘ä»¤ç‰Œ(<code>token</code>)ã€‚</p><p>é€šå¸¸æ‰€è¯´çš„ä»¤ç‰Œ<code>token</code>ï¼Œåˆ†ä¸ºä¸¤ç§ï¼šå®¢æˆ·ç«¯ä»¤ç‰Œ(ä»»ä½•æ—¶å€™éƒ½èƒ½è®¿é—®èµ„æºçš„å‡­è¯ï¼Œé€šå¸¸ç”± <code>client_id(èº«ä»½id)/client_secret(å¯†é’¥ï¼šåªèƒ½ä¿å­˜åˆ°åç«¯)</code> ç”Ÿæˆ)ã€ç”¨æˆ·ä»¤ç‰Œ(å®Œæˆç™»å½•åç”Ÿæˆ)ã€‚</p><span id="more"></span><h3 id="æˆæƒæ–¹å¼"><a href="#æˆæƒæ–¹å¼" class="headerlink" title="æˆæƒæ–¹å¼"></a>æˆæƒæ–¹å¼</h3><h4 id="æˆæƒç "><a href="#æˆæƒç " class="headerlink" title="æˆæƒç "></a>æˆæƒç </h4><blockquote><p>é€‚ç”¨äºæœ‰ä¸­é—´å±‚çš„ <code>web</code> é¡¹ç›®,å¹¶å°†ç”Ÿæˆçš„ <code>token</code> å­˜åˆ° <code>node</code> åç«¯ï¼Œé¿å…ä»¤ç‰Œæ³„éœ²ã€‚è¿™ç§æ–¹å¼å®‰å…¨æ€§æœ€é«˜ï¼Œä¹Ÿæ˜¯æˆ‘æœ€è¿‘é¡¹ç›®ç”¨åˆ°çš„é‰´æƒæ–¹å¼ã€‚</p></blockquote><ul><li><p>æ­¥éª¤ä¸€ï¼šç½‘ç«™<code>A(client)</code>ç‚¹å‡»ç™»å½•(æˆ–è€…å…¶ä»–é“¾æ¥)ï¼Œè·³è½¬è‡³ç½‘ç«™<code>B(JAVAæˆ–è€…å…¶ä»–åç«¯)ï¼šhttps://b.com/oauth/authorize?query</code>,<code>query</code>å‚æ•°å¦‚ä¸‹ï¼š</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"response_type"</span><span class="token operator">:</span> <span class="token string">"code"</span><span class="token punctuation">,</span> <span class="token comment">// è¡¨ç¤ºè¦æ±‚è¿”å›æˆæƒç </span>  <span class="token property">"client_id"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token comment">// åº”ç”¨æ ‡è¯† å‘Šè¯‰ B æ˜¯å“ªä¸ªç«™ç‚¹åº”ç”¨åœ¨è¯·æ±‚</span>  <span class="token property">"redirect_uri"</span><span class="token operator">:</span> <span class="token string">""</span> <span class="token comment">// å‚æ•°è¡¨ç¤º B å®Œæˆå®Œæˆæˆæƒè¿‡ç¨‹åé‡å®šå‘çš„é“¾æ¥åœ°å€</span>  <span class="token comment">// "scope": ""  // å‚æ•°è¡¨ç¤ºè¦æ±‚çš„æˆæƒèŒƒå›´ï¼Œå¯ä¸è®¾</span><span class="token punctuation">&#125;</span></code></pre><ul><li><p>ç™»å½•é€»è¾‘æ”¾åˆ°äº†å‰ç«¯<code>A</code>ï¼Œé‚£ä¹ˆç”±å‰ç«¯<code>A</code>å®Œæˆè´¦å·å¯†ç å½•å…¥ï¼Œå‘èµ·ç™»å½•è¯·æ±‚<code>https://b.com/oauth/login(æä¾›ç™»å½•æˆåŠŸåçš„é‡å®šå‘åœ°å€ successRedirect... æ³¨æ„åŒºåˆ† redirect_uri)</code>ï¼Œç”±ç½‘ç«™<code>B</code>é‡å®šå‘åˆ°<code>A(node)ï¼š/a.com/oauth/successRedirect(ä¸­é—´å±‚è·å–æˆæƒç )</code>ï¼Œç”±<code>A(node: /successRedirect)</code>æ‹¿åˆ°æˆæƒç è¿›è¡Œé‡å®šå‘<code>(redirect_uri)</code>â€¦</p></li><li><p>ç™»å½•é€»è¾‘æ”¾åˆ°äº†åç«¯<code>B</code>ï¼Œé‚£ä¹ˆåœ¨ç‚¹å‡»äº†<code>A</code>æä¾›çš„é“¾æ¥åï¼Œä¼šåœ¨<code>B</code>ç½‘ç«™ç™»å½•é¡µå®Œæˆç™»å½•å¹¶æç¤ºæ¥å—<code>A</code>æˆæƒï¼Œå®Œæˆç™»å½•è¿‡ç¨‹,å¹¶ç”Ÿæˆæˆæƒç ï¼Œç„¶åé‡å®šå‘â€¦</p></li></ul><p>åŸºäºä¸¤ç§ä¸åŒåœºæ™¯ä¸‹çš„ç™»å½•ï¼Œæœ€ç»ˆéƒ½å°†ç”Ÿæˆæˆæƒç ï¼Œå¹¶ä½œä¸º<code>query</code>æºå¸¦ï¼Œé‡å®šå‘å›<code>A(nodeçš„ä¸€ä¸ªæ¥å£ï¼Œeg. https://a.com/SSOCheckUser?code=xxx)</code></p></li><li><p>æ­¥éª¤äºŒï¼šç½‘ç«™<code>A(node)</code>æ‹¿åˆ°æˆæƒç (<code>code</code>)åï¼Œå°±å¯ä»¥å‘<code>B</code>è¯·æ±‚ä»¤ç‰Œ <code>https://b.com/oauth/token?query</code>ï¼Œ<code>query</code>å‚æ•°å¦‚ä¸‹ï¼š</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"client_id"</span><span class="token operator">:</span> <span class="token string">"CLIENT_ID"</span><span class="token punctuation">,</span> <span class="token comment">// åº”ç”¨æ ‡è¯†</span>  <span class="token property">"client_secret"</span><span class="token operator">:</span> <span class="token string">"CLIENT_SECRET"</span><span class="token punctuation">,</span> <span class="token comment">// å¯†é’¥ï¼Œåªèƒ½å­˜å‚¨åœ¨ A(node) å±‚</span>  <span class="token comment">// B é€šè¿‡ A æä¾› client_id client_secret æ¥åˆ¤å®š A çš„èº«ä»½ (èº«ä»½è¯†åˆ«ç ï¼Œè¿™ä¸ªé€šå¸¸æ˜¯ä¼šå¤‡æ¡ˆåˆ°ç½‘ç«™ B)</span>  <span class="token property">"grant_type"</span><span class="token operator">:</span> <span class="token string">"authorization_code"</span><span class="token punctuation">,</span> <span class="token comment">// æ ‡è¯†æˆæƒæ–¹å¼æ˜¯æˆæƒç </span>  <span class="token property">"code"</span><span class="token operator">:</span> <span class="token string">"xxx"</span> <span class="token comment">// ç¬¬ä¸€æ­¥æ‹¿åˆ°çš„æˆæƒç </span>  <span class="token comment">// "redirect_uri": "WEB_REDIRECT_URL" // å¯ä»¥æ˜¯ A(node) çš„ä¸€ä¸ªé…ç½®ï¼Œæ¯”å¦‚è·³è½¬åˆ° A(client) çš„é¦–é¡µ</span><span class="token punctuation">&#125;</span></code></pre><p>è¯¥è¯·æ±‚ä¼šè¿”å›ä»¤ç‰Œä¿¡æ¯ï¼šåŒ…å«<code>access_token(ä»¤ç‰Œ)/refresh_token(ç”¨äºæ›´æ–°ä»¤ç‰Œ)/expires_in(è¿‡æœŸæ—¶é—´)...</code></p><p>åŒæ—¶ï¼Œä½ å¯ä»¥é€šè¿‡æ‹¿åˆ°çš„ä»¤ç‰Œä¿¡æ¯è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„è¯¦ç»†ä¸ªäººä¿¡æ¯ï¼Œå¹¶å°†ç”¨æˆ·ä¿¡æ¯åŠ<code>refresh_token</code>å­˜å‚¨åˆ°<code>node:session</code>ã€‚<del>è¿˜å¯ä»¥æŠŠç”¨æˆ· access_token å­˜åˆ° redisï¼Œkey å³ä¸º sessionId</del></p><p>æœ€ç»ˆé‡å®šå‘å›<code>A(client)</code>é…ç½®çš„ä¸€ä¸ªåœ°å€ã€‚</p><p>å‰ç«¯è®¿é—®åç«¯æœåŠ¡æ—¶ï¼Œé€šè¿‡ä¸­é—´å±‚ä»£ç†ï¼Œè¿½åŠ <code>token</code>ä¿¡æ¯åˆ°<code>header</code>ä¸­ï¼Œå¦‚æœ<code>token</code>è¿‡æœŸï¼Œåˆ™é€šè¿‡<code>refresh_token</code>æ›´æ–°ä»¤ç‰Œï¼Œå¦‚æœç™»å½•è¿‡æœŸï¼Œåˆ™é‡å®šå‘åˆ°ç™»å½•åœ°å€ã€‚</p></li></ul><p><code>åŸºäºè¿™ç§æ–¹å¼è®¤è¯ï¼ŒA(client)è¯·æ±‚ä»»ä½•æ¥å£éƒ½å°†é€šè¿‡ A(node) è¿›è¡Œè½¬å‘ï¼Œåœ¨ A(client) ä»…ä¿å­˜å›è¯id(sessionId)ï¼Œè¯¥ sessionId ç”± A(node) ä¿å­˜è®¾ç½®è‡³ cookie ä¸­(ä¼šè¯æœŸé—´æœ‰æ•ˆ)ï¼Œå‰ç«¯ A(client) åœ¨å‘èµ· http è¯·æ±‚æ—¶ä¼šè‡ªåŠ¨æºå¸¦ï¼ŒA(node) ä» req.session ä¸­è§£æå‰é¢æ­¥éª¤å­˜å…¥çš„ refresh_token è·å–å½“å‰çš„ access_token(å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œå¯ä»¥å°† ak å­˜å…¥ redis) ä¿å­˜åˆ° res.localsï¼Œè®¾ç½® proxyMiddleWare æ·»åŠ ä»£ç†è¯·æ±‚çš„ headers: proxyReq.setHeader(&#39;Authorization&#39;, token)</code></p><blockquote><p><code>res.locals</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ç”¨äºæ¸²æŸ“è§†å›¾çš„ä¸Šä¸‹æ–‡ã€‚ä½œç”¨ï¼šåœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ã€ç”¨æ¥å­˜å‚¨ä¸€äº›å…¨å±€å˜é‡</p></blockquote><h4 id="å‡­è¯å¼"><a href="#å‡­è¯å¼" class="headerlink" title="å‡­è¯å¼"></a>å‡­è¯å¼</h4><blockquote><p>é€‚ç”¨äºæœ‰åç«¯(<code>node</code>)çš„<code>web</code>åº”ç”¨ï¼Œåœ¨ä¸­é—´å±‚é€šè¿‡å®¢æˆ·ç«¯ä»¤ç‰Œå®Œæˆä¸€äº›éœ€è¦ç™»å½•ï¼ˆä½†å¹¶æ²¡æœ‰ç™»å½•ï¼‰æ‰èƒ½è·å–èµ„æºçš„è¯·æ±‚ã€‚</p></blockquote><blockquote><p>åŒæ—¶é€‚ç”¨äºå‘½ä»¤è¡Œ&#x2F;<code>postman</code>æ¥å£æµ‹è¯•ä½¿ç”¨ã€‚</p></blockquote><p>è¿™ç§æ–¹å¼è·å–çš„ä»¤ç‰Œå¹¶ä¸æ˜¯é’ˆå¯¹ç”¨æˆ·ä½¿ç”¨çš„ï¼Œå› ä¸ºç”Ÿæˆçš„ä»¤ç‰Œå¯ä»¥å¤šä¸ªç”¨æˆ·å…±äº«ã€‚<del>å½“ç„¶åç«¯å¯ä»¥é€šè¿‡åˆ¤æ–­ session çš„ç”¨æˆ·ä¿¡æ¯ï¼Œæ ‡è®°å½“å‰ä½¿ç”¨å®¢æˆ·ç«¯ä»¤ç‰Œçš„èµ„æºè¯·æ±‚èŒƒå›´</del></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://b.com/oauth/token</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">grant_type</span><span class="token operator">:</span> <span class="token string">'client_credentials'</span><span class="token punctuation">,</span> <span class="token comment">// é‡‡ç”¨å‡­è¯å¼</span>    <span class="token literal-property property">client_id</span><span class="token operator">:</span> <span class="token constant">CLIENT_ID</span><span class="token punctuation">,</span> <span class="token comment">// åº”ç”¨æ ‡è¯†</span>    <span class="token literal-property property">client_secret</span><span class="token operator">:</span> <span class="token constant">CLIENT_SECRET</span><span class="token punctuation">,</span> <span class="token comment">// å¯†é’¥</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="å¯†ç å¼"><a href="#å¯†ç å¼" class="headerlink" title="å¯†ç å¼"></a>å¯†ç å¼</h4><blockquote><p>é€‚ç”¨èŒƒå›´å°ã€‚ä¸ºäº†ç¡®ä¿å®‰å…¨æ€§ï¼Œä¸€èˆ¬æ˜¯åœ¨ä¸­é—´å±‚ä½¿ç”¨ï¼Œæˆ–è€…åœ¨æ¥å£è°ƒè¯•çš„æ—¶å€™ä½¿ç”¨</p></blockquote><p>è¿™ç§æ–¹å¼éœ€è¦ç”¨æˆ·ç»™å‡ºè‡ªå·±çš„è´¦å·å¯†ç ï¼Œé£é™©å¤§ï¼Œéœ€è¦é«˜åº¦ä¿¡ä»»ç½‘ç«™<code>B</code>ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚è·å–æ–¹å¼ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://b.com/oauth/token</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">grant_type</span><span class="token operator">:</span> <span class="token string">'password'</span><span class="token punctuation">,</span> <span class="token comment">// è¡¨ç¤ºå¯†ç å¼</span>    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token constant">USERNAME</span><span class="token punctuation">,</span> <span class="token comment">// è´¦å·</span>    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token constant">PASSWORD</span><span class="token punctuation">,</span> <span class="token comment">// å¯†ç </span>    <span class="token literal-property property">client_id</span><span class="token operator">:</span> <span class="token constant">CLIENT_ID</span><span class="token punctuation">,</span> <span class="token comment">// åº”ç”¨æ ‡è¯†</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¯¥æ–¹å¼æ˜¯å°†ä»¤ç‰Œæ”¾åˆ° <code>response</code> ä¸­ä½œä¸º <code>json</code> æ•°æ®è¿›è¡Œè¿”å›çš„ï¼Œä¸è¿›è¡Œé‡å®šå‘ã€‚</p><h4 id="éšè—å¼"><a href="#éšè—å¼" class="headerlink" title="éšè—å¼"></a>éšè—å¼</h4><blockquote><p>é€‚ç”¨äºå‰åç«¯åˆ†ç¦»ï¼Œä¸”æ²¡æœ‰<code>node</code>ä¸­é—´å±‚æœåŠ¡çš„<code>web</code>åº”ç”¨ã€‚</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://b.com/oauth/authorize</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">response_type</span><span class="token operator">:</span> <span class="token string">'token'</span><span class="token punctuation">,</span> <span class="token comment">// è¡¨ç¤ºè¦æ±‚ç›´æ¥è¿”å›ä»¤ç‰Œ</span>    <span class="token literal-property property">client_id</span><span class="token operator">:</span> <span class="token constant">CLIENT_ID</span><span class="token punctuation">,</span> <span class="token comment">// åº”ç”¨æ ‡è¯†</span>    <span class="token literal-property property">redirect_uri</span><span class="token operator">:</span> <span class="token constant">REDIRECT_URL</span><span class="token punctuation">,</span> <span class="token comment">// å®Œæˆè®¤è¯åçš„é‡å®šå‘åœ°å€</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿™ç§æ–¹å¼è™½ç„¶ä½¿ç”¨é¢æœ€å¹¿ï¼Œä½†æ˜¯ä¹Ÿå¾ˆä¸å®‰å…¨ï¼Œå› ä¸º<code>token</code>æ˜¯ç›´æ¥ä¼ é€’ç»™å‰ç«¯çš„ï¼Œåªé€‚åˆå®‰å…¨è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼ŒåŒæ—¶æœ‰æ•ˆæœŸé€šå¸¸ä¸ºä¼šè¯æœŸé—´(<code>session</code>).</p>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oauth </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>v-foråœ¨ç‰¹å®šåœºæ™¯ä¸‹ä¼šå¤±å»å“åº”å¼</title>
      <link href="/bugs/v-for-unresponsive/"/>
      <url>/bugs/v-for-unresponsive/</url>
      
        <content type="html"><![CDATA[<h3 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>å‰æ®µæ—¶é—´ï¼Œå®ç°ä¸€ä¸ªè¡¨å•å­—æ®µæäº¤æ ¡éªŒåŠŸèƒ½æ—¶ç¢°åˆ°çš„ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜â€¦<code>v-for</code>çš„å…ƒç´ å±…ç„¶å¤±å»å“åº”å¼äº†ï¼Ÿ<code>what...</code><del>å¼€å§‹æ€€ç–‘äººç”Ÿ ğŸ™„ğŸ™„ğŸ™„</del></p><p>ä»£ç å¤§è‡´å¦‚ä¸‹ï¼š</p><span id="more"></span><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>actionNodeValidate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>el-icon-edit<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>addFieldCheckCondition<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ·»åŠ å­—æ®µæ ¡éªŒ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item, idx) in checkConditions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>idx<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex<span class="token punctuation">"</span></span> <span class="token attr-name">justify</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>space-between<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mt-5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>21<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">readonly</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.conditions<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>el-icon-edit<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>editFieldConditions(idx)<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>danger<span class="token punctuation">"</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>el-icon-delete<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>delFieldConditions(idx)<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ ¡éªŒé€šè¿‡æ¡ä»¶é…ç½®<span class="token punctuation">"</span></span> <span class="token attr-name">append-to-body</span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>visible<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FormularPattern</span>        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentConf.conditions<span class="token punctuation">"</span></span>        <span class="token attr-name">@close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>visible = false<span class="token punctuation">"</span></span>        <span class="token attr-name">@confirm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>setFieldCondition<span class="token punctuation">"</span></span>      <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">  <span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> PropSync<span class="token punctuation">,</span> Vue <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>  <span class="token keyword">import</span> FieldCheckConditions <span class="token keyword">from</span> <span class="token string">'./FieldCheckConditions'</span><span class="token punctuation">;</span>  <span class="token keyword">import</span> FormularPattern <span class="token keyword">from</span> <span class="token string">'./FormularPattern/index.vue'</span><span class="token punctuation">;</span>  @<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ActionNodeValidate'</span><span class="token punctuation">,</span> <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> FormularPattern <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ActionNodeValidate</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">&#123;</span>    @<span class="token function">PropSync</span><span class="token punctuation">(</span><span class="token string">'conditions'</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> checkConditions<span class="token operator">!</span><span class="token operator">:</span> FieldCheckConditions<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> visible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> conditionIdx <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// æ ‡è®°å½“å‰çš„é…ç½®é¡¹ç´¢å¼•</span>    <span class="token keyword">public</span> <span class="token literal-property property">currentConf</span><span class="token operator">:</span> FieldCheckConditions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FieldCheckConditions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">addFieldCheckCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentConf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FieldCheckConditions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>conditionIdx <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token function">delFieldConditions</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">idx</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>checkConditions<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>idx<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token function">editFieldConditions</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">idx</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>conditionIdx <span class="token operator">=</span> idx<span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentConf <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkConditions<span class="token punctuation">[</span>idx<span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token function">setFieldCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>conditionIdx <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>checkConditions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentConf <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>checkConditions<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>conditionIdx<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentConf <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><blockquote><p>å¯¹äºæ•°ç»„ç±»å‹å€¼çš„ä¿®æ”¹ä½¿ç”¨çš„<code>pushã€splice</code>ï¼Œ<del>å½“ç„¶ä¹Ÿå¯ä»¥æ˜¯<code>$set</code></del>ã€‚çœ‹èµ·æ¥ä¼¼ä¹å¹¶æ²¡æœ‰ä»€ä¹ˆæ¯›ç—…â€¦</p></blockquote><h3 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h3><p>é€šè¿‡<code>dev-tools</code>åˆ†æï¼Œå‘ç°<code>v-for</code>ç»‘å®šçš„å€¼æ˜¯å®æ—¶å˜æ›´äº†ï¼Œä¸”ç»„ä»¶ä¹Ÿç›‘å¬åˆ°å˜åŒ–äº†ï¼Œä½†ç•Œé¢å°±æ˜¯æ²¡æ¸²æŸ“â€¦</p><p><a href="/images/bugs/v-for-unresponsive/p1.png"><img src="/images/bugs/v-for-unresponsive/p1.png" alt="v-for-unresponsive-p1" loading="lazy"></a><br><a href="/images/bugs/v-for-unresponsive/p2.png"><img src="/images/bugs/v-for-unresponsive/p2.png" alt="v-for-unresponsive-p2" loading="lazy"></a></p><p>é‚£å°±ä»æºç åˆ†æâ€¦<code>vue</code>åœ¨æ›´æ–°<code>dom</code>å…ƒç´ æ—¶,ä¼šè°ƒç”¨<code>updateChildren</code>æ–¹æ³•ï¼š</p><p><a href="/images/bugs/v-for-unresponsive/p3.png"><img src="/images/bugs/v-for-unresponsive/p3.png" alt="v-for-unresponsive-p3" loading="lazy"></a><br><a href="/images/bugs/v-for-unresponsive/p4.png"><img src="/images/bugs/v-for-unresponsive/p4.png" alt="v-for-unresponsive-p4" loading="lazy"></a></p><blockquote><p>è¿›è¡Œ <code>diff</code> æ¯”å¯¹ï¼Œé‡‡ç”¨â€™å°±åœ°å¤ç”¨â€™åŸåˆ™ï¼Œå‡å°å¼€é”€ï¼Œ<code>eg. dataæ•°æ® ä» [1] -&gt; [0,2,3,1,4,5] è¿‡ç¨‹ä¸­ï¼Œè¿›è¿‡æ¯”å¯¹ï¼Œéœ€è¦åœ¨1è¿™ä¸ªdomä¹‹å‰æ’å…¥ 0,2,3</code>ï¼Œæ¯”å¯¹å®Œæˆæ‰§è¡Œ<code>addVnodes</code>å‡½æ•°ã€‚</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">addVnodes</span><span class="token punctuation">(</span><span class="token parameter">parentElm<span class="token punctuation">,</span> refElm<span class="token punctuation">,</span> vnodes<span class="token punctuation">,</span> startIdx<span class="token punctuation">,</span> endIdx<span class="token punctuation">,</span> insertedVnodeQueue</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> startIdx <span class="token operator">&lt;=</span> endIdx<span class="token punctuation">;</span> <span class="token operator">++</span>startIdx<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">createElm</span><span class="token punctuation">(</span>vnodes<span class="token punctuation">[</span>startIdx<span class="token punctuation">]</span><span class="token punctuation">,</span> insertedVnodeQueue<span class="token punctuation">,</span> parentElm<span class="token punctuation">,</span> refElm<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> vnodes<span class="token punctuation">,</span> startIdx<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>æˆ‘è¿™è°ƒè¯•çš„æ˜¯<code>push</code>è¿½åŠ <code>currentConf</code>åŠŸèƒ½ï¼Œ<code>debug startIdx/endIdxï¼ˆparentEleçš„childrenIndexï¼‰</code>å‡ä¸º 1.(ä¸éš¾å‘ç°ï¼Œåœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>v-for çš„çˆ¶å…ƒç´ åŒ el-button&lt;æ·»åŠ å­—æ®µæ ¡éªŒ&gt;ï¼ˆindex = 0ï¼‰ï¼Œå‡ä¸º div.actionNodeValidate</code>ï¼Œæ•…<code>startIdx</code>ä¸º 1).</p><p>ç»§ç»­çœ‹<code>createElm</code>å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆâ€¦</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">createElm</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> insertedVnodeQueue<span class="token punctuation">,</span> parentElm<span class="token punctuation">,</span> refElm<span class="token punctuation">,</span> nested<span class="token punctuation">,</span> ownerArray<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>elm<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isDef</span><span class="token punctuation">(</span>ownerArray<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// This vnode was used in a previous render!</span>    <span class="token comment">// now it's used as a new node, overwriting its elm would cause</span>    <span class="token comment">// potential patch errors down the road when it's used as an insertion</span>    <span class="token comment">// reference node. Instead, we clone the node on-demand before creating</span>    <span class="token comment">// associated DOM element for it.</span>    vnode <span class="token operator">=</span> ownerArray<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cloneVNode</span><span class="token punctuation">(</span>vnode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‹·è´å½“å‰éœ€è¦æ·»åŠ çš„ vNode</span>  <span class="token punctuation">&#125;</span>  vnode<span class="token punctuation">.</span>isRootInsert <span class="token operator">=</span> <span class="token operator">!</span>nested<span class="token punctuation">;</span> <span class="token comment">// for transition enter check</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">createComponent</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> insertedVnodeQueue<span class="token punctuation">,</span> parentElm<span class="token punctuation">,</span> refElm<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// æ·»åŠ çš„vnodeå­ç»„ä»¶åˆ›å»ºï¼Œè¿™é‡Œæ˜¯ nullï¼Œè¿”å›undefined</span>    <span class="token keyword">return</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">var</span> data <span class="token operator">=</span> vnode<span class="token punctuation">.</span>data<span class="token punctuation">;</span>  <span class="token keyword">var</span> children <span class="token operator">=</span> vnode<span class="token punctuation">.</span>children<span class="token punctuation">;</span> <span class="token comment">// []</span>  <span class="token keyword">var</span> tag <span class="token operator">=</span> vnode<span class="token punctuation">.</span>tag<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// vue-component-48-ElRow</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>pre<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        creatingElmInVPre<span class="token operator">++</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUnknownElement$$1</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> creatingElmInVPre<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">warn</span><span class="token punctuation">(</span>          <span class="token string">'Unknown custom element: &lt;'</span> <span class="token operator">+</span>            tag <span class="token operator">+</span>            <span class="token string">'> - did you '</span> <span class="token operator">+</span>            <span class="token string">'register the component correctly? For recursive components, '</span> <span class="token operator">+</span>            <span class="token string">'make sure to provide the "name" option.'</span><span class="token punctuation">,</span>          vnode<span class="token punctuation">.</span>context<span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    vnode<span class="token punctuation">.</span>elm <span class="token operator">=</span> vnode<span class="token punctuation">.</span>ns      <span class="token operator">?</span> nodeOps<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>ns<span class="token punctuation">,</span> tag<span class="token punctuation">)</span>      <span class="token operator">:</span> nodeOps<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> vnode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// document.createElement</span>    <span class="token function">setScope</span><span class="token punctuation">(</span>vnode<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* istanbul ignore if */</span>    <span class="token punctuation">&#123;</span>      <span class="token function">createChildren</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> children<span class="token punctuation">,</span> insertedVnodeQueue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// children is [].</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">invokeCreateHooks</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> insertedVnodeQueue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºç›¸å…³ hooks</span>      <span class="token punctuation">&#125;</span>      <span class="token function">insert</span><span class="token punctuation">(</span>parentElm<span class="token punctuation">,</span> vnode<span class="token punctuation">.</span>elm<span class="token punctuation">,</span> refElm<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰§è¡Œ insert</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span> data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>pre<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      creatingElmInVPre<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isTrue</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>isComment<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    vnode<span class="token punctuation">.</span>elm <span class="token operator">=</span> nodeOps<span class="token punctuation">.</span><span class="token function">createComment</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">insert</span><span class="token punctuation">(</span>parentElm<span class="token punctuation">,</span> vnode<span class="token punctuation">.</span>elm<span class="token punctuation">,</span> refElm<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    vnode<span class="token punctuation">.</span>elm <span class="token operator">=</span> nodeOps<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">insert</span><span class="token punctuation">(</span>parentElm<span class="token punctuation">,</span> vnode<span class="token punctuation">.</span>elm<span class="token punctuation">,</span> refElm<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨<code>createElm</code>å‡½æ•°ä¸­ï¼Œæ‰§è¡Œäº†<code>æ‹·è´vNode -&gt; createComponent -&gt; document.createElement -&gt; createChildren -&gt; hooksæŒ‚è½½ -&gt; æœ€ç»ˆæ‰§è¡Œinsertå‡½æ•°</code>â€¦</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> elm<span class="token punctuation">,</span> ref$$1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// div.actionNodeValidate</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>ref$$1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// el-dialog__wrapper.node-validate-dialog ---> v-for çš„ç›¸é‚»å…ƒç´ (æ’å…¥ä½ç½®index+1) ---> (å› ä¸ºv-foræ²¡æœ‰wrapperï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ .node-validate-dialog)</span>      <span class="token comment">// parent(div.actionNodeValidate) !== body</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>nodeOps<span class="token punctuation">.</span><span class="token function">parentNode</span><span class="token punctuation">(</span>ref$$1<span class="token punctuation">)</span> <span class="token operator">===</span> parent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æ¯”å¯¹æ’å…¥ä½ç½®èŠ‚ç‚¹ä¸å…¶ç›¸é‚»å…ƒç´ çš„çˆ¶èŠ‚ç‚¹æ˜¯å¦ä¸€è‡´ï¼Œä¸€è‡´åˆ™ç›´æ¥åœ¨ç›¸é‚»å…ƒç´ å‰æ’å…¥æ–°èŠ‚ç‚¹ï¼Œä¸ä¸€è‡´æ—¶æ²¡æœ‰åšä»»ä½•å¤„ç†</span>        nodeOps<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> elm<span class="token punctuation">,</span> ref$$1<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token comment">// ä¸ä¸€è‡´... æˆ‘ä»¬çš„ä»£ç æ‰§è¡Œåˆ°è¿™  Gäº†...</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// æ²¡æœ‰ç›¸é‚»vNodeï¼Œç›´æ¥åœ¨ parentEle è¿½åŠ  children</span>      nodeOps<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> elm<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p><code>insert</code>å‡½æ•°æ¯”å¯¹äº†â€™æ’å…¥ä½ç½®â€™ä¸å…¶â€™ç›¸é‚»<code>vNode</code>â€˜(<strong>æ’å…¥ä½ç½®<code>index+1</code>çš„<code>vNode</code>èŠ‚ç‚¹</strong>)çš„çˆ¶èŠ‚ç‚¹æ˜¯å¦ä¸€è‡´ï¼Œä¸€è‡´åˆ™åœ¨å…¶â€™ç›¸é‚»èŠ‚ç‚¹â€™å‰æ’å…¥æ–°çš„èŠ‚ç‚¹(<code>insertBefore</code>)ã€‚<del>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç›¸é‚»<code>vNode</code>çš„çˆ¶èŠ‚ç‚¹ä¸å½“å‰<code>parentEle</code>ä¸ç›¸åŒæ—¶ï¼Œæ²¡æœ‰åšä»»ä½•å¤„ç†â€¦ğŸ˜®ğŸ˜®ğŸ˜®</del><br>å¦‚æœç›¸é‚»å…ƒç´ ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ç›´æ¥è¿½åŠ (<code>appendChild</code>).</p></blockquote><p>æœ€ç»ˆå‘ç°<code>nodeOps.parentNode(ref$$1) === parent</code>æ¡ä»¶ä¸º<code>false</code>ï¼Œæ‰€ä»¥é¡µé¢å¹¶æ²¡æœ‰æ¸²æŸ“.<code>whyï¼Ÿ</code>ä¸ºä»€ä¹ˆçˆ¶èŠ‚ç‚¹ä¼šä¸ä¸€è‡´å‘¢ï¼Ÿ</p><p><code>el-dialog</code>æ·»åŠ äº†<code>append-to-body</code>å±æ€§åï¼Œå…¶çˆ¶èŠ‚ç‚¹å˜æˆäº†<code>body</code>ï¼Œæ‰€ä»¥ä»£ç æ‰§è¡Œåˆ°<code>insertï¼ŒparentNode(div.actionNodeValidate) !== body</code>ï¼Œæ¯”å¯¹åå‘ç°<code>parent</code>å‘ç”Ÿå˜æ›´ï¼Œä¸æ‰§è¡Œæ›´æ–°ã€‚å¯¼è‡´é¡µé¢ä¸Šå‘ˆç°çš„æ•ˆæœæ˜¯<code>dom</code>æ²¡æ¸²æŸ“ï¼Œè€Œå“åº”å¼æ•°æ®å·²ç»æ›´æ–°ã€‚<del>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè°ƒè¯•æ—¶<code>nextTick</code>å†…æ‰§è¡Œ<code>forceUpdate</code>ä¹Ÿæ— æ³•é‡æ–°æ¸²æŸ“çš„æ ¹æœ¬åŸå› </del></p><p>æ‰¾åˆ°äº†åŸå› ï¼Œé‚£ä¹ˆè§£å†³æ–¹æ¡ˆè‡ªç„¶ä¹Ÿå°±æœ‰äº†ï¼ˆ<strong>é¿å…æ’å…¥çš„ä½ç½®ç›¸é‚»<code>vNode</code>çš„<code>parent</code>ä¸ä¼šå˜æ›´</strong>å°±<code>ok</code>å•¦ ğŸ˜ğŸ˜ğŸ˜ï¼‰</p><h3 id="hackè§£å†³æ–¹æ¡ˆ"><a href="#hackè§£å†³æ–¹æ¡ˆ" class="headerlink" title="hackè§£å†³æ–¹æ¡ˆ"></a><code>hack</code>è§£å†³æ–¹æ¡ˆ</h3><h4 id="ç»™ç»‘å®šäº†v-forçš„å…ƒç´ æ·»åŠ ä¸€å±‚çˆ¶çº§çš„wrapperèŠ‚ç‚¹"><a href="#ç»™ç»‘å®šäº†v-forçš„å…ƒç´ æ·»åŠ ä¸€å±‚çˆ¶çº§çš„wrapperèŠ‚ç‚¹" class="headerlink" title="ç»™ç»‘å®šäº†v-forçš„å…ƒç´ æ·»åŠ ä¸€å±‚çˆ¶çº§çš„wrapperèŠ‚ç‚¹"></a>ç»™ç»‘å®šäº†<code>v-for</code>çš„å…ƒç´ æ·»åŠ ä¸€å±‚çˆ¶çº§çš„<code>wrapper</code>èŠ‚ç‚¹</h4><p><code>eg.</code></p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>actionNodeValidate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item, idx) in checkConditions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">append-to-body</span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>visible<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre><h4 id="è°ƒæ•´ç»‘å®šäº†append-to-bodyå±æ€§çš„domä½ç½®ï¼Œé¿å…ä¸v-forå…ƒç´ ç›´æ¥ç›¸é‚»"><a href="#è°ƒæ•´ç»‘å®šäº†append-to-bodyå±æ€§çš„domä½ç½®ï¼Œé¿å…ä¸v-forå…ƒç´ ç›´æ¥ç›¸é‚»" class="headerlink" title="è°ƒæ•´ç»‘å®šäº†append-to-bodyå±æ€§çš„domä½ç½®ï¼Œé¿å…ä¸v-forå…ƒç´ ç›´æ¥ç›¸é‚»"></a>è°ƒæ•´ç»‘å®šäº†<code>append-to-body</code>å±æ€§çš„<code>dom</code>ä½ç½®ï¼Œé¿å…ä¸<code>v-for</code>å…ƒç´ ç›´æ¥ç›¸é‚»</h4><p><code>eg.</code></p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>actionNodeValidate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item, idx) in checkConditions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">append-to-body</span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>visible<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre><h4 id="ç§»é™¤append-to-bodyå±æ€§"><a href="#ç§»é™¤append-to-bodyå±æ€§" class="headerlink" title="ç§»é™¤append-to-bodyå±æ€§"></a>ç§»é™¤<code>append-to-body</code>å±æ€§</h4><p><code>eg.</code></p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>actionNodeValidate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item, idx) in checkConditions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>visible<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®è¸©å‘ä¹‹è·¯ </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> vue </tag>
            
            <tag> unresponsive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç•Œé¢åŒ–é…ç½®è‡ªå®šä¹‰çš„ç»„ä»¶cssæ ·å¼</title>
      <link href="/notes/css-config/"/>
      <url>/notes/css-config/</url>
      
        <content type="html"><![CDATA[<h3 id="äº†è§£css-tree"><a href="#äº†è§£css-tree" class="headerlink" title="äº†è§£css-tree"></a>äº†è§£<a href="https://github.com/csstree/csstree">css-tree</a></h3><p><code>CSSTree is a tool set for CSS: fast detailed parser (CSS â†’ AST), walker (AST traversal), generator (AST â†’ CSS) and lexer (validation and matching) based on specs and browser implementations. The main goal is to be efficient and W3C spec compliant, with focus on CSS analyzing and source-to-source transforming tasks.</code></p><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨å®ƒï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨å®ƒï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨å®ƒï¼Ÿ"></a>ä¸ºä»€ä¹ˆä½¿ç”¨å®ƒï¼Ÿ</h3><p>æœ€è¿‘é¡¹ç›®ä¸Šæœ‰ä¸ªéœ€æ±‚ï¼šæä¾›ä¸€ä¸ªç•Œé¢åŒ–çš„<code>css</code>ä»£ç ç¼–è¾‘å™¨ï¼Œç®¡ç†å‘˜å¯ä»¥è¾“å…¥<code>css</code>ä»£ç é…ç½®ä¿®æ”¹è¡¨å•&#x2F;ç»„ä»¶çš„ä¸€äº›é»˜è®¤æ ·å¼ï¼Œä»è€Œé’ˆå¯¹ä¸åŒä¸šåŠ¡éœ€æ±‚å®ç°ä¸åŒçš„ç•Œé¢å‘ˆç°æ•ˆæœã€‚</p><p>ä¸ºäº†é¿å…æ ·å¼çš„å…¨å±€æ±¡æŸ“ï¼Œéœ€è¦å¯¹é…ç½®çš„æ ·å¼æ·»åŠ é»˜è®¤å‰ç½®å¯¼èˆªï¼Œé€šè¿‡å±æ€§é€‰æ‹©å™¨çº¦æŸæ ·å¼çš„ç”Ÿæ•ˆèŒƒå›´ã€‚å¦‚æœé€šè¿‡<code>string</code>çš„ä¸€äº›æ–¹æ³•ç²—æš´çš„å¯¹æ ·å¼è¿›è¡Œæ›¿æ¢<code>or</code>æ­£åˆ™åŒ¹é…ï¼Œæœ‰å¾ˆå¤§çš„å±€é™æ€§ï¼ŒåŒæ—¶ä¹Ÿä¸ç¬¦åˆè§„èŒƒã€‚</p><p>æ€è€ƒå†ä¸‰ï¼Œæ‰¾åˆ°äº†<code>css -&gt; ast -&gt; css.</code>æ–¹æ¡ˆï¼Œå¹¶é€šè¿‡<code>css-tree</code>çš„<code>API</code>å®ç°ã€‚</p><p><del>æ ¹æ®äº§å“ä¸šåŠ¡çš„åŒºåˆ«ï¼Œå¦‚æœåªæ˜¯æƒ³å®ç°æ ·å¼è‡ªå®šä¹‰ï¼Œä¸éœ€è¦é€šè¿‡ä»£ç é…ç½®è¾¾åˆ°æ›´å¼ºçš„äº¤äº’ï¼Œé‚£ä¹ˆå¯ä»¥å†…ç½®<code>class</code>ï¼Œç¼–å†™é»˜è®¤çš„ä¸€äº›<code>style</code>ï¼Œç”¨æˆ·é€šè¿‡åœ¨ç•Œé¢é€‰æ‹©ä¸»é¢˜æ¥å®ç°è¯¥æ•ˆæœã€‚å‚è€ƒç™¾åº¦<a href="https://github.com/baidu/amis">amis</a></del></p><span id="more"></span><h3 id="æºç å®ç°"><a href="#æºç å®ç°" class="headerlink" title="æºç å®ç°"></a>æºç å®ç°</h3><h4 id="ç»™ç»„ä»¶å”¯ä¸€æ ‡è¯†"><a href="#ç»™ç»„ä»¶å”¯ä¸€æ ‡è¯†" class="headerlink" title="ç»™ç»„ä»¶å”¯ä¸€æ ‡è¯†"></a>ç»™ç»„ä»¶å”¯ä¸€æ ‡è¯†</h4><blockquote><p>å¯ä»¥ç»™ç»„ä»¶çš„<code>wrapper-dom</code>æ·»åŠ å…·æœ‰å”¯ä¸€æ ‡å¿—æ€§çš„å±æ€§ï¼Œç”¨äºçº¦æŸè‡ªå®šä¹‰æ ·å¼ç”Ÿæ•ˆçš„åŒºé—´èŒƒå›´.</p></blockquote><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- ç»™ç»„ä»¶ wrapper ç»‘å®šå…·æœ‰å”¯ä¸€æ ‡è¯†çš„ id --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-item_container<span class="token punctuation">"</span></span> <span class="token attr-name">:id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field.__vModel__<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RenderWrapper</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$attrs<span class="token punctuation">"</span></span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$listeners<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre><h4 id="helperå®ç°"><a href="#helperå®ç°" class="headerlink" title="helperå®ç°"></a><code>helper</code>å®ç°</h4><blockquote><p>ç¼–å†™ç”¨äºæ“ä½œ<code>css-code</code>çš„å·¥å…·å‡½æ•°ï¼Œç»™è‡ªå®šä¹‰çš„<code>css-code</code>æ·»åŠ å†…ç½®çš„å±æ€§é€‰æ‹©å™¨å‰ç¼€ã€‚</p></blockquote><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> clone<span class="token punctuation">,</span> generate<span class="token punctuation">,</span> parse<span class="token punctuation">,</span> walk <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'css-tree'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> styleHelper <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token function">addClassPrefix</span><span class="token punctuation">(</span>prefix<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> context<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> orig <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// css -> ast</span>    <span class="token keyword">const</span> ast <span class="token operator">=</span> <span class="token function">clone</span><span class="token punctuation">(</span>orig<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// clone ast node.</span>    <span class="token function">walk</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">(</span>node<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token comment">// ä»…å¯¹é€‰æ‹©å™¨çš„é¦–ä¸ª selector èŠ‚ç‚¹æ·»åŠ å‰ç¼€  eg.  .form .item &#123;&#125; -> .prefix .form .item &#123;&#125;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>item<span class="token operator">?.</span>prev<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'TypeSelector'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">// eg. input div li...</span>          node<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>prefix<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>node<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'ClassSelector'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">// eg. .el-input .customCls...</span>          node<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>prefix<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> .</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>node<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// other process...</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">generate</span><span class="token punctuation">(</span>ast<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ast -> css</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token function">loadCss</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> cssContent<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> styleEle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">style_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>id<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    styleEle<span class="token operator">?.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// çƒ­æ›´æ–°ï¼Œé¿å…é‡å¤æ€§è¿½åŠ  style èŠ‚ç‚¹.</span>    <span class="token comment">// or if (styleEle) return;</span>    <span class="token keyword">const</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> head <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'head'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    style<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">style_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>id<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token keyword">const</span> styleCode <span class="token operator">=</span> styleHelper<span class="token punctuation">.</span><span class="token function">addClassPrefix</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">form-item_container[id=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>id<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> cssContent<span class="token punctuation">)</span><span class="token punctuation">;</span>    style<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>styleCode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h4 id="config-editorå®ç°"><a href="#config-editorå®ç°" class="headerlink" title="config-editorå®ç°"></a><code>config-editor</code>å®ç°</h4><blockquote><p>ç”¨äºé…ç½®<code>css</code>çš„ç¼–è¾‘å™¨ç»„ä»¶.<del>å·äº†ä¸ªæ‡’ï¼Œå¦‚æœä½ éœ€è¦æ›´å‹å¥½çš„å®ç°ï¼Œå¯ä»¥æ·»åŠ <code>css</code>è¯­æ³•æç¤º</del></p></blockquote><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span>    <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è‡ªå®šä¹‰æ ·å¼<span class="token punctuation">"</span></span>    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>codemirror_dialog<span class="token punctuation">"</span></span>    <span class="token attr-name">:destroy-on-close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>    <span class="token attr-name">:close-on-click-modal</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>    <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>customStyleVisible<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VueCodemirror</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>innerValue<span class="token punctuation">"</span></span> <span class="token attr-name">:options</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>options<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>footer</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>customStyleVisible = false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å– æ¶ˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onConfirmHandle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç¡® å®š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">  <span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> ModelSync<span class="token punctuation">,</span> PropSync<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Watch <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>  @<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'StyleConfig'</span><span class="token punctuation">,</span>    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token function-variable function">VueCodemirror</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> codemirror <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "codeMirror" */</span> <span class="token string">'vue-codemirror'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> codemirror<span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">StyleConfig</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">&#123;</span>    @<span class="token function">PropSync</span><span class="token punctuation">(</span><span class="token string">'visible'</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> customStyleVisible<span class="token operator">!</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>    @<span class="token function">ModelSync</span><span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">,</span> <span class="token string">'input'</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> customStyle<span class="token operator">!</span><span class="token operator">:</span> string<span class="token punctuation">;</span>    <span class="token keyword">public</span> innerValue <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">tabSize</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>      <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'text/css'</span><span class="token punctuation">,</span>      <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>      <span class="token literal-property property">styleActiveLine</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token literal-property property">matchBrackets</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token literal-property property">placeholder</span><span class="token operator">:</span>        <span class="token string">'è¯·è¾“å…¥ç»„ä»¶è‡ªå®šä¹‰cssæ ·å¼... eg.\n\n.el-input &#123; color: #f00; &#125; \n\n input &#123; border: none; &#125;'</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    @<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token function">setContentValue</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">v</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>innerValue <span class="token operator">=</span> v<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initCodemirror</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token function">initCodemirror</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "codeMirror" */</span> <span class="token string">'codemirror/mode/css/css.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "codeMirror" */</span> <span class="token string">'codemirror/addon/display/placeholder.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span>        <span class="token comment">/* webpackChunkName: "codeMirror" */</span> <span class="token string">'codemirror/addon/selection/active-line.js'</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "codeMirror" */</span> <span class="token string">'codemirror/addon/edit/matchbrackets.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "codeMirror" */</span> <span class="token string">'codemirror/lib/codemirror.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token function">onConfirmHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>customStyleVisible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>customStyle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>innerValue<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h4 id="parserå®ç°"><a href="#parserå®ç°" class="headerlink" title="parserå®ç°"></a><code>parser</code>å®ç°</h4><blockquote><p>åœ¨è¡¨å•<code>parser</code>ç»„ä»¶<code>created</code>é’©å­<code>loadCss</code>ï¼Œå°†è‡ªå®šä¹‰çš„æ ·å¼ä»£ç åŠ è½½åˆ°<code>html</code>.</p></blockquote><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> styleHelper <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./util/index'</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> code<span class="token punctuation">,</span> css <span class="token punctuation">&#125;</span> <span class="token operator">=</span> field<span class="token punctuation">.</span>__config__<span class="token punctuation">;</span>  styleHelper<span class="token punctuation">.</span><span class="token function">loadCss</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> css<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cssTree </tag>
            
            <tag> è‡ªå®šä¹‰æ ·å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typescript ä¸­çš„ç¬¦å·é›†åˆ</title>
      <link href="/notes/typescript-symbol/"/>
      <url>/notes/typescript-symbol/</url>
      
        <content type="html"><![CDATA[<h3 id="ç´¢å¼•ç±»å‹æŸ¥è¯¢æ“ä½œç¬¦"><a href="#ç´¢å¼•ç±»å‹æŸ¥è¯¢æ“ä½œç¬¦" class="headerlink" title="ç´¢å¼•ç±»å‹æŸ¥è¯¢æ“ä½œç¬¦"></a>ç´¢å¼•ç±»å‹æŸ¥è¯¢æ“ä½œç¬¦</h3><p><code>keyof Tï¼› [ç´¢å¼•ç±»å‹æŸ¥è¯¢æ“ä½œç¬¦] ç»“æœä¸º T ä¸Šå·²çŸ¥çš„ å…¬å…±å±æ€§åçš„ è”åˆã€‚ &#39;XXX&#39; | &#39;YYY&#39;...</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// ä¾‹ï¼šæšä¸¾å·²çŸ¥å±æ€§çš„é›†åˆ</span><span class="token keyword">type</span> <span class="token class-name">Keys</span> <span class="token operator">=</span> <span class="token string">'A'</span> <span class="token operator">|</span> <span class="token string">'B'</span> <span class="token operator">|</span> <span class="token string">'C'</span><span class="token punctuation">;</span>or<span class="token punctuation">;</span><span class="token keyword">interface</span> <span class="token class-name">KeysProps</span> <span class="token punctuation">&#123;</span>  <span class="token constant">A</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token constant">B</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token constant">C</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">type</span> <span class="token class-name">Keys</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> KeysProps<span class="token punctuation">;</span></code></pre><h3 id="ç´¢å¼•è®¿é—®æ“ä½œç¬¦"><a href="#ç´¢å¼•è®¿é—®æ“ä½œç¬¦" class="headerlink" title="ç´¢å¼•è®¿é—®æ“ä½œç¬¦"></a>ç´¢å¼•è®¿é—®æ“ä½œç¬¦</h3><p><code>T[K]; [ç´¢å¼•è®¿é—®æ“ä½œç¬¦] å¯ä»¥é€šè¿‡ç´¢å¼•çš„æ–¹å¼ å–åˆ° Tä¸Šå±æ€§ä¸º K çš„ Type</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// ä¾‹ï¼š</span><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">&#123;</span>  b<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>  c<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">]</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span></code></pre><h3 id="æ˜ å°„ç±»å‹æ“ä½œç¬¦"><a href="#æ˜ å°„ç±»å‹æ“ä½œç¬¦" class="headerlink" title="æ˜ å°„ç±»å‹æ“ä½œç¬¦"></a>æ˜ å°„ç±»å‹æ“ä½œç¬¦</h3><p><code>in T ä»¥åŠ in keyof T [æ˜ å°„ç±»å‹]</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// ä¾‹1  in T   [æ­¤æ—¶çš„ T åº”è¯¥ä¸ºè”åˆç±»å‹] å½“éœ€è¦ä¸ºæŒ‡å®šçš„ key é›†åˆçº¦æŸç±»å‹æ—¶ å¾ˆæœ‰ç”¨</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token string">'aa'</span> <span class="token operator">|</span> <span class="token string">'bb'</span> <span class="token operator">|</span> <span class="token string">'cc'</span><span class="token punctuation">;</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">D</span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span>k <span class="token keyword">in</span> <span class="token constant">C</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//â†“ å¾—åˆ°çš„ç»“æœ</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">D</span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  aa<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  bb<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  cc<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// ä¾‹2 in keyof T [æ­¤æ—¶çš„ T ä¸º interface å¯¹è±¡ç±»å‹] åœ¨å·²çŸ¥ keyé›†åˆçš„æƒ…å†µä¸‹ é‡çº¦æŸ keyçš„ç±»å‹</span><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">&#123;</span>  aa<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  bb<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  cc<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span>k <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">A</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//â†“ å¾—åˆ°çš„ç»“æœ</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  aa<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>  bb<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>  cc<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h3 id="éç©ºæ–­è¨€æ“ä½œç¬¦"><a href="#éç©ºæ–­è¨€æ“ä½œç¬¦" class="headerlink" title="!éç©ºæ–­è¨€æ“ä½œç¬¦"></a><code>!</code>éç©ºæ–­è¨€æ“ä½œç¬¦</h3><p><code>ï¼æ–­è¨€åªæ˜¯å¿½ç•¥TSæ£€æŸ¥ï¼Œå®é™…è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œ è¯¥æŠ¥é”™è¿˜æ˜¯ä¼šæŠ¥é”™, æ­¤å¤– !æ˜¯æ”¾åœ¨å˜é‡åçš„ï¼Œæ³¨æ„éè¿ç®—ç¬¦åŒºåˆ«</code></p><ul><li>å¿½ç•¥<code>undefined</code>å’Œ<code>null</code>ç±»å‹ ï¼ˆ æ¯”å¦‚ï¼š<strong>x! å°†ä» x å€¼åŸŸä¸­æ’é™¤ null å’Œ undefined</strong> ï¼‰</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span>maybeString<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> onlyString<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> maybeString<span class="token punctuation">;</span> <span class="token comment">// Error</span>  <span class="token keyword">const</span> ignoreUndefinedAndNull<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> maybeString<span class="token operator">!</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span><span class="token punctuation">&#125;</span></code></pre><ul><li>è°ƒç”¨å‡½æ•°æ—¶å¿½ç•¥<code>undefined</code></li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">NumGenerator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span>numGenerator<span class="token operator">:</span> NumGenerator <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> num1 <span class="token operator">=</span> <span class="token function">numGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>  <span class="token keyword">const</span> num2 <span class="token operator">=</span> numGenerator<span class="token operator">!</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//OK</span><span class="token punctuation">&#125;</span></code></pre><h3 id="å¯é€‰å±æ€§"><a href="#å¯é€‰å±æ€§" class="headerlink" title="?:å¯é€‰å±æ€§"></a><code>?:</code>å¯é€‰å±æ€§</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'å¼ ä¸‰'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// age å¯é€‰</span></code></pre><h3 id="ç±»å‹è¿ç®—ç¬¦-amp-ã€"><a href="#ç±»å‹è¿ç®—ç¬¦-amp-ã€" class="headerlink" title="ç±»å‹è¿ç®—ç¬¦&amp;ã€ |"></a>ç±»å‹è¿ç®—ç¬¦<code>&amp;ã€ |</code></h3><p><code>ç”¨äºç±»å‹è¿ç®—ï¼š &amp; å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ï¼Œ | å–å€¼å¯ä»¥ä¸ºå¤šç§ç±»å‹ä¸­çš„ä¸€ç§ </code></p><blockquote><p>type A &#x3D; xx &amp; xxx äº¤å‰ç±»å‹</p></blockquote><blockquote><p>type B &#x3D; xx | xxx è”åˆç±»å‹</p></blockquote><h3 id="æ•°å­—åˆ†éš”ç¬¦"><a href="#æ•°å­—åˆ†éš”ç¬¦" class="headerlink" title="_æ•°å­—åˆ†éš”ç¬¦"></a><code>_</code>æ•°å­—åˆ†éš”ç¬¦</h3><p>ä½ å¯ä»¥æŠŠä¸€ä¸ªä¸‹åˆ’çº¿ä½œä¸ºæ•°å­—å†…éƒ¨çš„åˆ†éš”ç¬¦æ¥åˆ†ç»„æ•°å­—ï¼Œ æ¯”å¦‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> inhabitantsOfMunich <span class="token operator">=</span> <span class="token number">1_464_301</span><span class="token punctuation">;</span><span class="token keyword">const</span> distanceEarthSunInKm <span class="token operator">=</span> <span class="token number">149_600_000</span><span class="token punctuation">;</span><span class="token keyword">const</span> fileSystemPermission <span class="token operator">=</span> <span class="token number">0b111_111_000</span><span class="token punctuation">;</span><span class="token keyword">const</span> bytes <span class="token operator">=</span> <span class="token number">0b1111_10101011_11110000_00001101</span><span class="token punctuation">;</span></code></pre><p>ç¼–è¯‘åï¼Œä¼šç”Ÿæˆä»¥ä¸‹ ES5 ä»£ç ï¼š</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token string">'use strict'</span><span class="token punctuation">;</span><span class="token keyword">var</span> inhabitantsOfMunich <span class="token operator">=</span> <span class="token number">1464301</span><span class="token punctuation">;</span><span class="token keyword">var</span> distanceEarthSunInKm <span class="token operator">=</span> <span class="token number">149600000</span><span class="token punctuation">;</span><span class="token keyword">var</span> fileSystemPermission <span class="token operator">=</span> <span class="token number">504</span><span class="token punctuation">;</span><span class="token keyword">var</span> bytes <span class="token operator">=</span> <span class="token number">262926349</span><span class="token punctuation">;</span></code></pre><p><code>æ³¨æ„ï¼š åªèƒ½åœ¨ä¸¤ä¸ªæ•°å­—ä¹‹é—´æ·»åŠ _åˆ†å‰²ç¬¦ï¼Œä¸èƒ½è¿ç»­ä½¿ç”¨å¤šä¸ª </code>_<code>åˆ†éš”ç¬¦</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// Numeric separators are not allowed here.(6188)</span>3_<span class="token punctuation">.</span><span class="token number">141592</span> <span class="token comment">// Error</span><span class="token number">3</span><span class="token punctuation">.</span>_141592 <span class="token comment">// Error</span><span class="token comment">// Numeric separators are not allowed here.(6188)</span>1_e10 <span class="token comment">// Error</span>1e_10 <span class="token comment">// Error</span><span class="token comment">// Cannot find name '_126301'.(2304)</span>_126301  <span class="token comment">// Error</span><span class="token comment">// Numeric separators are not allowed here.(6188)</span>126301_ <span class="token comment">// Error</span><span class="token comment">// Cannot find name 'b111111000'.(2304)</span><span class="token comment">// An identifier or keyword cannot immediately follow a numeric literal.(1351)</span>0_b111111000 <span class="token comment">// Error</span><span class="token comment">// Numeric separators are not allowed here.(6188)</span>0b_111111000 <span class="token comment">// Error</span><span class="token comment">// Multiple consecutive numeric separators are not permitted.(6189)</span>123__456 <span class="token comment">// Error</span></code></pre><ul><li>æ•°å­—åˆ†éš”ç¬¦çš„è§£æï¼š</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// ä¸èƒ½ä½¿ç”¨ Number() parseInt() parseFloat() è§£æ</span><span class="token comment">// è‡ªå®šä¹‰è½¬æ¢å‡½æ•°è§£æå‡ºå®é™…æ•°å­—</span><span class="token comment">// å¦‚  str.replace æ–¹æ³• æ›¿æ¢æ‰ _</span></code></pre><h3 id="lt-Type-gt-åŠ-as-æ–­è¨€"><a href="#lt-Type-gt-åŠ-as-æ–­è¨€" class="headerlink" title="&lt;Type&gt; åŠ as æ–­è¨€"></a><code>&lt;Type&gt; åŠ as</code> æ–­è¨€</h3><ul><li>å°–æ‹¬å·è¯­æ³•(<code>React</code>ä¸­ä¸æ”¯æŒ)</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'asf'</span><span class="token punctuation">;</span><span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span>a<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span></code></pre><ul><li><code>as</code>è¯­æ³•</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'asf'</span><span class="token punctuation">;</span><span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javascript ä¸­çš„ç¬¦å·é›†åˆ</title>
      <link href="/notes/javascript-symbol/"/>
      <url>/notes/javascript-symbol/</url>
      
        <content type="html"><![CDATA[<p>é€†æ°´è¡ŒèˆŸï¼Œä¸è¿›åˆ™é€€ã€‚</p><p>éšç€<code>ECMAScript</code>æ ‡å‡†çš„ä¸æ–­æ›´æ–°è¿­ä»£ï¼Œä½ ä¼šå‘ç°åœ¨<code>js</code>ä»£ç ä¸­ï¼Œç¬¦å·è¶Šæ¥è¶Šå¤šï¼Œç¨ä¸å­¦ä¹ å°±ä¼šä¸æ‡‚å…¶å«ä¹‰ï¼Œæ›´åˆ«è°ˆä½¿ç”¨äº†ã€‚</p><p>æœ¬æ–‡å°±ä¸ªäººåœ¨é¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„ç¬¦å·ç»“åˆä»£ç è¿›è¡Œä»‹ç» ğŸ˜®â€ğŸ’¨ğŸ˜®â€ğŸ’¨ğŸ˜®â€ğŸ’¨<del>å½“ç„¶ç±»ä¼¼åŸºç¡€è¿ç®—ã€å¹‚è¿ç®—ã€è‡ªå¢è‡ªå‡ã€å¤§å°æ¯”è¾ƒã€ä¸‰ç›®è¿ç®—ç¬¦ç­‰ç­‰å°±å¿½ç•¥äº†</del>â€¦</p><span id="more"></span><h3 id="é€»è¾‘ä½è¿ç®—-ã€-amp-ã€-ã€-ã€-lt-lt-ã€-gt-gt"><a href="#é€»è¾‘ä½è¿ç®—-ã€-amp-ã€-ã€-ã€-lt-lt-ã€-gt-gt" class="headerlink" title="é€»è¾‘ä½è¿ç®—|ã€&amp;ã€~ã€^ã€&lt;&lt;ã€&gt;&gt;"></a>é€»è¾‘ä½è¿ç®—<code>|ã€&amp;ã€~ã€^ã€&lt;&lt;ã€&gt;&gt;</code></h3><p>å°†éœ€è¦è¿ç®—çš„ä¸¤ä¸ªå€¼è½¬ä¸ºäºŒè¿›åˆ¶æ•°ï¼Œè¿›è¡Œä½<strong>æˆ–ã€ä¸ã€éã€å¼‚æˆ–ã€å·¦ç§»ã€å³ç§»</strong>è¿ç®—ã€‚ å¯¹åº”è¡ç”Ÿçš„æœ‰<code>~=ã€&amp;=ã€|=ã€^=ã€&lt;&lt;=ã€&gt;&gt;=</code>ã€‚ğŸ™„ğŸ™„<br>ğŸ™„<del>è¿™ä¸ªç›¸å¯¹æ¥è¯´ç”¨çš„å¾ˆå°‘ï¼Œä½†ä½ å¿…é¡»è¦äº†è§£ã€‚</del></p><p><code>eg.</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>a <span class="token operator">&amp;=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// a = a &amp; 3 = 5 &amp; 3 = 1;</span></code></pre><blockquote><p><code>&gt;&gt;</code> å’Œ <code>&lt;&lt;</code> å³ç§»å·¦ç§»è¿ç®—ï¼Œå°†æ“ä½œæ•°è½¬ä¸ºäºŒè¿›åˆ¶åï¼Œè¿”å›ç§»åŠ¨å¯¹åº”ä½æ•°åçš„æ–°å€¼ï¼Œç§»åŠ¨è¿‡ç¨‹ä¸­ï¼Œè¶…å‡ºéƒ¨åˆ†å»é™¤ï¼Œè¡¥å……éƒ¨åˆ†è¡¥ 0</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//  00000000000000000000000000000101</span><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//  00000000000000000000000000000010</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">>></span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  00000000000000000000000000000001</span></code></pre><p>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰æ— ç¬¦å·å³ä½ç§» <code>&gt;&gt;&gt;</code>ï¼Œä¸å³ä½ç§» <code>&gt;&gt;</code>çš„åŒºåˆ«å°±æ˜¯å‰è€…çš„ç¬¦å·ä½å§‹ç»ˆä¸º 0ï¼Œå³æ­£æ•°ã€‚</p><h3 id="é€—å·æ“ä½œç¬¦"><a href="#é€—å·æ“ä½œç¬¦" class="headerlink" title="é€—å·æ“ä½œç¬¦"></a>é€—å·æ“ä½œç¬¦</h3><p>å¯¹é€—å·è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ï¼Œå¹¶è¿”å›æœ€åä¸€é¡¹çš„å€¼ã€‚<del>è¿™ä¸ªç›®å‰ä¹Ÿä¸æ˜¯ç‰¹åˆ«å¸¸è§</del></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>a <span class="token operator">=</span> <span class="token punctuation">(</span>i<span class="token operator">++</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a = 2</span></code></pre><h3 id="è§£æ„èµ‹å€¼è¿ç®—ç¬¦"><a href="#è§£æ„èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="è§£æ„èµ‹å€¼è¿ç®—ç¬¦..."></a>è§£æ„èµ‹å€¼è¿ç®—ç¬¦<code>...</code></h3><p>æ¯”è¾ƒå¸¸è§çš„ä¸€ä¸ªéœ€æ±‚ï¼ŒåŒæ—¶åœ¨é¢è¯•çš„æ—¶å€™ä¹Ÿæœ‰å¯èƒ½ä¼šè¢«é—®åˆ°ã€‚<strong>å¦‚ä½•å¯¹æœªçŸ¥ keys çš„å¯¹è±¡è§£æ„ï¼Œæ‹¿åˆ°é™¤å±æ€§ xx å¤–çš„å…¶ä»–å±æ€§é›†åˆï¼Ÿ</strong></p><p>æœ‰çš„ç«¥é‹å¯èƒ½é©¬ä¸Šå°±æƒ³åˆ°<code>copy å† delete obj.xx</code>â€¦<del>å½“ç„¶æˆ‘ä¸å»ºè®®è¿™ä¹ˆå¹²</del></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> a<span class="token punctuation">,</span> <span class="token operator">...</span>other <span class="token punctuation">&#125;</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#123; b: 'b', c: false &#125;</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token punctuation">[</span>arr0<span class="token punctuation">,</span> <span class="token operator">...</span>arrOther<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr0<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrOther<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 3, 4, 5]</span></code></pre><h3 id="å¯é€‰é“¾æ“ä½œç¬¦"><a href="#å¯é€‰é“¾æ“ä½œç¬¦" class="headerlink" title="å¯é€‰é“¾æ“ä½œç¬¦?."></a>å¯é€‰é“¾æ“ä½œç¬¦<code>?.</code></h3><p><strong>å¾ˆå¸¸ç”¨ï¼Œå¿…é¡»æŒæ¡</strong>ã€‚å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œä½œç”¨ç±»ä¼¼<code>.</code>åŒºåˆ«å°±æ˜¯å‰è€…<code>?.</code>å…è®¸å¯¹è±¡ä¸º<code>null/undefined</code>ï¼Œå½“è®¿é—®çš„å¯¹è±¡ä¸º<code>null/undefined</code>æ—¶ï¼Œä¸ä¼šæ‰§è¡Œ<code>.</code>åé¢çš„é€»è¾‘ï¼Œä¸”ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ˆæ­¤æ—¶è¿”å›<code>undefined</code>ï¼‰ã€‚é™¤æ­¤å¤–ï¼Œ<code>?.</code>ä¹Ÿå¯ä½œç”¨äºæ•°ç»„ã€å‡½æ•°â€¦<code>eg.</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// å‡è®¾ obj å­˜åœ¨ä¸€ä¸ª å­å±æ€§ hh: &#123; a: 11 &#125; ï¼ˆæ¯”å¦‚é€šè¿‡æ¥å£è¿”å›çš„ä¸€ä¸ªå­—æ®µå±æ€§ï¼Œå¯èƒ½æœ‰å€¼ï¼Œå¯èƒ½æ²¡æœ‰ï¼‰</span><span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// å‡è®¾è¿™ä¸ªå‡½æ•°æ˜¯ undefinedï¼Œï¼ˆæ¯”å¦‚æŸäº›é€šè¿‡ props ä¼ é€’ fn åœºæ™¯ï¼Œå¯èƒ½ä¸º undefinedï¼‰</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>hh<span class="token operator">?.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ­¤å¤„ hh æ²¡æœ‰å€¼ï¼Œè¿”å›ä¸€ä¸ª undefinedï¼Œ å¦‚æœä¸å†™ ?. ç›´æ¥ obj.hh.a ä¼šæŠ›å¼‚å¸¸ a of undefined</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token operator">?.</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‡½æ•°è°ƒç”¨ï¼Œfn ä¸ºç©ºï¼Œè¿”å›ä¸€ä¸ª undefinedï¼Œï¼ˆï¼‰å†…ä¼ å…¥å‡½æ•°å®å‚ args</span><span class="token comment">// æ•°ç»„å€¼è®¿é—® (æ•°ç»„å¯èƒ½ä¸º null æˆ– undefined) åŒä¸Š</span><span class="token comment">// arr?.[index]?.xxx;</span><span class="token comment">// æ”¯æŒé“¾å¼æ“ä½œ</span><span class="token comment">// obj?.xx?.xx?.xxx</span></code></pre><h3 id="ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"><a href="#ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦" class="headerlink" title="??ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"></a><code>??</code>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</h3><p>å½“å·¦ä¾§æ“ä½œæ•°ä¸º<code>null</code>æˆ–<code>undefined</code>æ—¶ï¼Œå…¶è¿”å›å³ä¾§çš„æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§çš„æ“ä½œæ•° <strong>(æ³¨æ„<code>&quot;&quot;ã€0ã€falseã€NaN</code>ç­‰å€¼ä¼šè¿”å›å·¦ä¾§å€¼)</strong></p><ul><li>çŸ­è·¯è¿ç®—</li></ul><p>ä¸é€»è¾‘æˆ–<code>||</code>è¿ç®—ç¬¦ä¸åŒï¼Œé€»è¾‘æˆ–ä¼šåœ¨å·¦æ“ä½œæ•°ä¸º<code>false</code>å€¼æ—¶è¿”å›å³ä¾§æ“ä½œæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ ä½¿ç”¨<code>||</code>æ¥ä¸ºæŸäº›å˜é‡è®¾ç½®é»˜è®¤çš„å€¼æ—¶ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token string">'saasf'</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// saasf</span><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">??</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span></code></pre><ul><li>ä¸<code>&amp;&amp;</code>æˆ–<code>||</code>æ“ä½œç¬¦å…±ç”¨</li></ul><p>è‹¥ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦<code>??</code>ç›´æ¥ä¸ <code>ANDï¼ˆ&amp;&amp;ï¼‰</code>å’Œ<code>ORï¼ˆ||ï¼‰</code>æ“ä½œç¬¦ç»„åˆä½¿ç”¨<code>??</code>æ˜¯ä¸è¡Œçš„ã€‚è¿™ç§æƒ…å†µä¸‹ä¼šæŠ›å‡º<code>SyntaxError</code>, æ‰€ä»¥åœ¨ä½¿ç”¨æ—¶éœ€è¦æ˜¾ç¤ºè¡¨æ˜ä¼˜å…ˆçº§ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› "foo"</span></code></pre><ul><li>ä¸<code>?.</code>è”åŠ¨</li></ul><p>ä¸€èˆ¬ç”¨äºæ¥å£æ•°æ®ä½¿ç”¨æˆ–è€…<code>props</code>ä¼ é€’ç­‰åœºæ™¯</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">PageAProps</span> <span class="token punctuation">&#123;</span>  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> <span class="token function-variable function">PageA</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token operator">:</span> PageAProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>props<span class="token operator">?.</span>title <span class="token operator">??</span> <span class="token string">'é¡µé¢A'</span><span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// props?.title ?? 'é¡µé¢A' è”åŠ¨è®¾ç½®é»˜è®¤çš„å€¼</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typescript é«˜çº§ç±»å‹ä»‹ç»</title>
      <link href="/notes/typescript-types/"/>
      <url>/notes/typescript-types/</url>
      
        <content type="html"><![CDATA[<p><code>typescript</code>æ”¯æŒä¸<code>javascript</code>å‡ ä¹ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œæ­¤å¤–è¿˜æä¾›äº†å…¶ä»–å®ç”¨çš„ç±»å‹æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ã€‚</p><span id="more"></span><h3 id="åŸºç¡€ç±»å‹å›é¡¾"><a href="#åŸºç¡€ç±»å‹å›é¡¾" class="headerlink" title="åŸºç¡€ç±»å‹å›é¡¾"></a>åŸºç¡€ç±»å‹å›é¡¾</h3><ul><li>æ•°å­—ï¼š<code>number</code>ï¼›</li><li>å­—ç¬¦ä¸²ï¼š<code>string</code>ï¼›</li><li>å¸ƒå°”ç±»å‹ï¼š<code>boolean</code>ï¼›</li><li>æ•°ç»„ç±»å‹ï¼šå…ƒç´ ç±»å‹åè·Ÿ <code>number[]</code>ï¼›æˆ–è€…ä½¿ç”¨æ•°ç»„æ³›å‹ <code>Array&lt;number&gt;</code>;</li><li>å…ƒç»„ç±»å‹ï¼š å…è®¸è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒã€‚å¦‚ï¼š<code>[string, number]</code>;</li><li>æšä¸¾ç±»å‹ï¼šç”¨äºå®šä¹‰æ•°å€¼é›†åˆ</li><li><code>any</code>ç±»å‹ï¼šä»»æ„ç±»å‹ï¼Œå¯ä»¥èµ‹äºˆä»»æ„ç±»å‹çš„å€¼ï¼›</li><li><code>void</code>ç±»å‹ï¼šä¸<code>any</code>ç›¸åï¼Œè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼›</li><li><code>null</code>å’Œ<code>undefined</code>ç±»å‹ï¼šåªèƒ½æŒ‡<code>null</code>ä¸<code>undefined</code>å…ƒç´ æœ¬èº«ï¼›</li><li><code>never</code>ç±»å‹ï¼š<code>never</code>æ˜¯å…¶å®ƒç±»å‹ï¼ˆåŒ…æ‹¬<code>null å’Œ undefined</code>ï¼‰çš„å­ç±»å‹ï¼Œä»£è¡¨ä»ä¸ä¼šå‡ºç°çš„å€¼</li></ul><h3 id="äº¤å‰ç±»å‹"><a href="#äº¤å‰ç±»å‹" class="headerlink" title="äº¤å‰ç±»å‹"></a>äº¤å‰ç±»å‹</h3><p><code>type C = A &amp; B; ç±»å‹ C ä¸ºåŒæ—¶åŒ…å«ç±»å‹ Aã€B çš„æ–°ç±»å‹</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">&#123;</span>  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  say<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// äº¤å‰ç±»å‹å®ç°æ–¹å¼ 1ï¼š ç»§æ‰¿</span><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">// äº¤å‰ç±»å‹å®ç°æ–¹å¼ 2ï¼š &amp; (æ­£å¸¸æƒ…å†µä¸‹)</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span><span class="token punctuation">;</span><span class="token comment">// äº¤å‰ç±»å‹å®ç°æ–¹å¼ 3ï¼šæ˜ å°„(ç±»ä¼¼éå†èµ‹å€¼...ä¸æ¨è)</span></code></pre><h3 id="è”åˆç±»å‹"><a href="#è”åˆç±»å‹" class="headerlink" title="è”åˆç±»å‹"></a>è”åˆç±»å‹</h3><p><code>type C = A | B; ç±»å‹ C ä¸º A æˆ– B å…¶ä¸­ä¸€ç§ç±»å‹</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// å®šä¹‰å¦‚ä¸Š</span><span class="token comment">// ....</span><span class="token comment">// æ­£å¸¸ä½¿ç”¨ï¼š</span><span class="token keyword">const</span> c<span class="token operator">:</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'å¼ ä¸‰'</span> <span class="token punctuation">&#125;</span> <span class="token keyword">as</span> <span class="token constant">A</span><span class="token punctuation">;</span><span class="token comment">// or</span><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">C</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// é€šè¿‡è®¿é—® arg.name å±æ€§ï¼Œéšå¼åˆ¤æ–­å½“å‰ type ç±»å‹ã€‚A ä¸­ name ä¸ºå¿…é€‰é¡¹</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>arg<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    arg<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h3 id="è”åˆç±»å‹ä¹‹ç±»å‹ä¿æŠ¤"><a href="#è”åˆç±»å‹ä¹‹ç±»å‹ä¿æŠ¤" class="headerlink" title="è”åˆç±»å‹ä¹‹ç±»å‹ä¿æŠ¤"></a>è”åˆç±»å‹ä¹‹ç±»å‹ä¿æŠ¤</h3><ul><li>in å…³é”®å­—</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  date<span class="token operator">:</span> Date<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">type</span> <span class="token class-name">UnknownT</span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">|</span> <span class="token constant">B</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">printT</span><span class="token punctuation">(</span>ar<span class="token operator">:</span> UnknownT<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Name: '</span> <span class="token operator">+</span> ar<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'age'</span> <span class="token keyword">in</span> ar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'age: '</span> <span class="token operator">+</span> ar<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'date'</span> <span class="token keyword">in</span> ar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'date: '</span> <span class="token operator">+</span> ar<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ul><li>typeof å…³é”®å­—</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> arg <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'æ˜¯ç±»å‹ number'</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> arg <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'æ˜¯ç±»å‹ string'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><ul><li>instanceof å…³é”®å­—</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">&#123;</span>  <span class="token function">gitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Aa</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> val<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token function">gitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Ab</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> val<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token function">gitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Aa</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Aa</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><ul><li>å­—é¢é‡ç±»å‹ä¿æŠ¤</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  kind<span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> <span class="token comment">// å­—é¢é‡ç±»å‹</span>  foo<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  kind<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">;</span> <span class="token comment">// å­—é¢é‡ç±»å‹</span>  bar<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">doStuff</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> Foo <span class="token operator">|</span> Bar<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>arg<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ä¸€å®šæ˜¯ Bar</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ul><li>è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤çš„ç±»å‹è°“è¯</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">isNumber</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> x <span class="token keyword">is</span> <span class="token builtin">number</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="é€šç”¨ç±»å‹"><a href="#é€šç”¨ç±»å‹" class="headerlink" title="é€šç”¨ç±»å‹"></a>é€šç”¨ç±»å‹</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// æ¥å£é€šç”¨</span><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">[</span>k<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="å­—é¢é‡ç±»å‹"><a href="#å­—é¢é‡ç±»å‹" class="headerlink" title="å­—é¢é‡ç±»å‹"></a>å­—é¢é‡ç±»å‹</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// color çš„å€¼åªå¯ä»¥æ˜¯å­—ç¬¦ä¸² redã€blueã€yellow</span><span class="token keyword">type</span> <span class="token class-name">color</span> <span class="token operator">=</span> <span class="token string">'red'</span> <span class="token operator">|</span> <span class="token string">'blue'</span> <span class="token operator">|</span> <span class="token string">'yellow'</span><span class="token punctuation">;</span></code></pre><h3 id="æ¥å£æ•°æ®ç±»å‹"><a href="#æ¥å£æ•°æ®ç±»å‹" class="headerlink" title="æ¥å£æ•°æ®ç±»å‹"></a>æ¥å£æ•°æ®ç±»å‹</h3><p>ä»»ä½•ä¸€ä¸ªé¡¹ç›®éƒ½ç¦»ä¸å¼€å¯¹æ•°æ®å’Œæ¥å£çš„å¤„ç†ï¼Œæ‹¼æ¥æ•°æ®å’Œæ¥å£æ˜¯å½¢æˆä¸šåŠ¡é€»è¾‘ä¹Ÿæ˜¯å‰ç«¯çš„ä¸»è¦å·¥ä½œä¹‹ä¸€ï¼Œå°†æ¥å£è¿”å›çš„æ•°æ®å®šä¹‰ TypeScript ç±»å‹å¯ä»¥å‡å°‘å¾ˆå¤šç»´æŠ¤æˆæœ¬å’ŒæŸ¥è¯¢ api çš„æ—¶é—´ ã€‚</p><p><code>API.d.ts</code> <code>d.ts</code> ç»“å°¾çš„æ–‡ä»¶ä¼šè¢« TypeScript é»˜è®¤å¯¼å…¥åˆ°å…¨å±€ , æ— éœ€å†æ‰‹åŠ¨å¯¼å‡ºã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// ä¸èƒ½ä½¿ç”¨ import è¯­æ³•ï¼Œå¦‚æœéœ€è¦å¼•ç”¨éœ€è¦ä½¿ç”¨ä¸‰æ–œæ </span><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token constant">API</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>  <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// or</span><span class="token keyword">declare</span> <span class="token keyword">namespace</span> <span class="token constant">CAPI</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">interface</span> <span class="token class-name">CurrentUser</span> <span class="token punctuation">&#123;</span>    avatar<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// ä½¿ç”¨ API.A | API.B |  CAPI.CurrentUser</span></code></pre><h3 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h3><p>ç±»å‹å˜é‡<code>T</code> ã€‚é€šè¿‡ç±»å‹å˜é‡æ¥å¸®åŠ©æ•è·ç”¨æˆ·ä¼ å…¥çš„ç±»å‹ ï¼Œä»¥æ­¤æ¥é€‚é…å¤šä¸ªç±»å‹ä½¿ç”¨ã€‚</p><p>ä½ å¯ä»¥è¿™æ ·ï¼š</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">uniquefn</span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ...   å¤§å¯ä¸å¿…</span><span class="token punctuation">&#125;</span></code></pre><p>å¾ˆæ˜æ˜¾ï¼Œå»é‡å‡½æ•°çš„å‚æ•°å¯ä»¥æ˜¯ä»»æ„çš„ç±»å‹ï¼Œä½¿ç”¨<code>any</code>ç±»å‹ä¼šå¯¼è‡´è¿™ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶ä»»ä½•ç±»å‹çš„<code>arg</code>å‚æ•°ï¼Œè¿™æ ·å°±ä¸¢å¤±äº†ä¸€äº›ä¿¡æ¯ ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•ä½¿è¿”å›å€¼çš„ç±»å‹ä¸ä¼ å…¥å‚æ•°çš„ç±»å‹æ˜¯ç›¸åŒçš„ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// ä¸¾æ — æ•°ç»„å»é‡</span><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">uniquefn</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span class="token comment">// ä½¿ç”¨</span><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token generic-function"><span class="token function">uniquefn</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#125;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'æå››'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// or åˆ©ç”¨äº†ç±»å‹æ¨è®º â€”â€” å³ç¼–è¯‘å™¨ä¼šæ ¹æ®ä¼ å…¥çš„å‚æ•°è‡ªåŠ¨åœ°å¸®åŠ©æˆ‘ä»¬ç¡®å®šTçš„ç±»å‹</span><span class="token function">uniquefn</span><span class="token punctuation">(</span><span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'æå››'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="é¢„å®šä¹‰ç±»å‹"><a href="#é¢„å®šä¹‰ç±»å‹" class="headerlink" title="é¢„å®šä¹‰ç±»å‹"></a>é¢„å®šä¹‰ç±»å‹</h3><p><code>TypeScript 2.8åœ¨lib.d.tsé‡Œå¢åŠ äº†ä¸€äº›é¢„å®šä¹‰çš„æœ‰æ¡ä»¶ç±»å‹ï¼š</code></p><ul><li><code>NonNullable&lt;T&gt;</code> â€“ ä» T ä¸­å‰”é™¤ null å’Œ undefinedã€‚</li><li><code>ReturnType&lt;T&gt;</code> â€“ è·å–å‡½æ•°è¿”å›å€¼ç±»å‹ã€‚</li><li><code>InstanceType&lt;T&gt;</code> â€“ è·å–æ„é€ å‡½æ•°ç±»å‹çš„å®ä¾‹ç±»å‹ã€‚</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// typescript æ ‡å‡†åº“å†…çš„ä¸€äº›å®ç°</span><span class="token keyword">type</span> <span class="token class-name">Proxy<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>  <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h3 id="å…¶ä»–å†…ç½®ç±»å‹"><a href="#å…¶ä»–å†…ç½®ç±»å‹" class="headerlink" title="å…¶ä»–å†…ç½®ç±»å‹"></a>å…¶ä»–å†…ç½®ç±»å‹</h3><ul><li><code>Required</code> ã€‚ä¸ <code>Partial</code> ç›¸å</li></ul><p><code>-?</code> çš„åŠŸèƒ½å°±æ˜¯æŠŠå¯é€‰å±æ€§çš„ <code>?</code> å»æ‰ï¼Œä½¿è¯¥å±æ€§å˜æˆå¿…é€‰é¡¹ï¼Œå¯¹åº”çš„è¿˜æœ‰ <code>+?</code> ï¼Œä½œç”¨ä¸ <code>-?</code> ç›¸åï¼Œæ˜¯æŠŠå±æ€§å˜ä¸ºå¯é€‰é¡¹ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">type</span> <span class="token class-name">Required<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><ul><li><p>Exclude&lt;T,U&gt;</p><p>ä» <code>T</code> ä¸­æ’é™¤é‚£äº›å¯ä»¥èµ‹å€¼ç»™ <code>U</code> çš„ç±»å‹ã€‚ (T âˆ© U) åœ¨ T çš„ è¡¥é›†</p></li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">4</span> <span class="token operator">|</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">4</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// T = 1|2|5</span></code></pre><ul><li><p>Extract&lt;T,U&gt;</p><p>ä» <code>T</code> ä¸­æå–é‚£äº›å¯ä»¥èµ‹å€¼ç»™ <code>U</code> çš„ç±»å‹ã€‚ ç±»å‹ T âˆ© U</p></li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Extract<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">4</span> <span class="token operator">|</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">4</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// T = 3|4</span></code></pre><ul><li><p>Pick&lt;T, K&gt;</p><p>ä» å¯¹è±¡<code>T</code> ä¸­å–å‡ºä¸€ç³»åˆ— <code>K</code> çš„å±æ€§</p></li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  sex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> person<span class="token operator">:</span> Pick<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token string">'å°ç‹'</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><ul><li><p>Record&lt;K, T&gt;</p><p>å°† <code>K</code> ä¸­æ‰€æœ‰çš„å±æ€§çš„å€¼è½¬åŒ–ä¸º <code>T</code> ç±»å‹ã€‚</p></li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> person<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token keyword">keyof</span> Person<span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token string">'å°ç‹'</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token string">'12'</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><ul><li>æ›´å¤šçš„å†…ç½®â€”â€”&gt; typescript æ“ä½œç¬¦åŠå…ƒç´ ç±»å‹</li></ul><h3 id="Omit-lt-T-K-gt-ï¼ˆæ²¡æœ‰å†…ç½®ï¼‰"><a href="#Omit-lt-T-K-gt-ï¼ˆæ²¡æœ‰å†…ç½®ï¼‰" class="headerlink" title="Omit&lt;T,K&gt;ï¼ˆæ²¡æœ‰å†…ç½®ï¼‰"></a>Omit&lt;T,K&gt;ï¼ˆæ²¡æœ‰å†…ç½®ï¼‰</h3><p>ä»å¯¹è±¡ <code>T</code> ä¸­æ’é™¤ <code>key</code> æ˜¯ <code>K</code> çš„å±æ€§ ã€‚ ä¸ Pick ç›¸å</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">></span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">>></span><span class="token punctuation">;</span></code></pre><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  sex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> person<span class="token operator">:</span> Omit<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  age<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  sex<span class="token operator">:</span> <span class="token string">'ç”·'</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éœ€è¦äº†è§£çš„ typescript çŸ¥è¯†ç‚¹</title>
      <link href="/notes/typescript-declare/"/>
      <url>/notes/typescript-declare/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‰æ®µæ—¶é—´é¡¹ç›®å¿™ï¼ŒåŠ ä¹‹ç–«æƒ…åŸå› ï¼Œå°±æ²¡æœ‰æ›´æ–°ã€‚ğŸ˜ŠğŸ˜ŠğŸ˜Š</p></blockquote><blockquote><p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯ç±»å‹å£°æ˜è¿‡ç¨‹ä¸­é‡åˆ°çš„éœ€æ±‚å’Œé—®é¢˜åšçš„è®°å½•ã€‚</p></blockquote><blockquote><p>æŒç»­æ›´æ–°ä¸­â€¦</p></blockquote><span id="more"></span><h3 id="å¦‚ä½•ç¼–å†™-d-tså£°æ˜æ–‡ä»¶ï¼Ÿ"><a href="#å¦‚ä½•ç¼–å†™-d-tså£°æ˜æ–‡ä»¶ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç¼–å†™.d.tså£°æ˜æ–‡ä»¶ï¼Ÿ"></a>å¦‚ä½•ç¼–å†™<code>.d.ts</code>å£°æ˜æ–‡ä»¶ï¼Ÿ</h3><p><code>.d.ts</code>æ–‡ä»¶æ˜¯åœ¨ç¼–å†™<code>typescript</code>é¡¹ç›®ä¸­å¿…ä¸å¯å°‘çš„ï¼Œå®ƒæ˜¯è®©æˆ‘ä»¬èƒ½åœ¨<code>ts</code>ä¸­è°ƒç”¨çš„<code>js</code>çš„å£°æ˜æ–‡ä»¶ã€‚æ¯”å¦‚æœ‰å¾ˆå¤šä¸»æµçš„<code>npmåº“</code>éƒ½æ˜¯åŸºäº<code>js</code>ç¼–å†™çš„ï¼Œé‚£ä¹ˆåœ¨ä½ çš„<code>ts</code>é¡¹ç›®ä¸­å¼•ç”¨æ—¶ï¼Œä¼šæç¤ºä½ æ‰¾ä¸åˆ°å¯¹åº”åŒ…æˆ–å‡½æ•°çš„å£°æ˜ï¼Œæ­¤æ—¶å¹¶ä¸éœ€è¦æˆ‘ä»¬ç”¨<code>ts</code>å¯¹ç»„ä»¶é‡å†™ï¼Œåªéœ€åœ¨ä½ çš„é¡¹ç›®ä¸­ç¼–å†™åŒ…å«è¯¥åº“ç±»å‹å£°æ˜çš„<code>.d.ts</code>æ–‡ä»¶å³å¯ã€‚</p><p>é€šå¸¸åœ¨å®šåˆ¶åŒ–ç¼–å†™ç»„ä»¶æ—¶ï¼Œ<code>.d.ts</code>ä¼šç»Ÿä¸€æ”¾åˆ°<code>@types</code>æˆ–è€…<code>typings</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸å†™<code>.d.ts</code>ï¼Œè€Œé€šè¿‡<code>tsc</code>å¯¹<code>ts</code>æ–‡ä»¶åšç¼–è¯‘ç”Ÿæˆå¯¹åº”æ–‡ä»¶çš„<code>.d.ts</code>ã€‚</p><ul><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#declare-var"><code>declare var</code></a> å£°æ˜å…¨å±€å˜é‡</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#declare-function"><code>declare function</code></a> å£°æ˜å…¨å±€æ–¹æ³•</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#declare-class"><code>declare class</code></a> å£°æ˜å…¨å±€ç±»</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#declare-enum"><code>declare enum</code></a> å£°æ˜å…¨å±€æšä¸¾ç±»å‹</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#declare-namespace"><code>declare namespace</code></a> å£°æ˜ï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å…¨å±€å¯¹è±¡</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#interface-%E5%92%8C-type"><code>interface</code> å’Œ <code>type</code></a> å£°æ˜å…¨å±€ç±»å‹</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#export"><code>export</code></a> å¯¼å‡ºå˜é‡</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#export-namespace"><code>export namespace</code></a> å¯¼å‡ºï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å¯¹è±¡</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#export-default"><code>export default</code></a> ES6 é»˜è®¤å¯¼å‡º</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#export-1"><code>export =</code></a> commonjs å¯¼å‡ºæ¨¡å—</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#export-as-namespace"><code>export as namespace</code></a> UMD åº“å£°æ˜å…¨å±€å˜é‡</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#declare-global"><code>declare global</code></a> æ‰©å±•å…¨å±€å˜é‡</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#declare-module"><code>declare module</code></a> æ‰©å±•æ¨¡å—</li><li><a href="https://ts.xcatliu.com/basics/declaration-files.html#san-xie-xian-zhi-ling"><code>/// </code></a> ä¸‰æ–œçº¿æŒ‡ä»¤</li></ul><p><code>eg. æ‰©å±• axios æ¨¡å—è¯·æ±‚çš„ config é…ç½®ã€‚</code> <del>axios.interceptors.response. errors.config äº¦å¯æ‹¿åˆ°</del></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'axios'</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AxiosRequestConfig</span> <span class="token punctuation">&#123;</span>    metadata<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token comment">/**     *  ç”¨äºæ§åˆ¶è¯¥è¯·æ±‚å‡ºç°é”™è¯¯æ—¶ï¼Œ æ˜¯å¦ç”±é»˜è®¤messageæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯     *     * @type &#123;boolean&#125;     * @memberof AxiosRequestConfig     */</span>    suppressError<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>    <span class="token comment">/**     * ç”¨äºè¯·æ±‚åœ¨401çŠ¶æ€ç æ—¶ï¼Œ æ˜¯å¦è‡ªåŠ¨é‡å®šå‘åˆ°ç™»é™†é¡µã€‚     *     * @type &#123;boolean&#125;     * @memberof AxiosRequestConfig     */</span>    suppressUnauthRedirect<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><div class="warning"><blockquote><p>å£°æ˜è¯­å¥ä¸­åªèƒ½å®šä¹‰ç±»å‹ï¼Œåˆ‡å‹¿åœ¨å£°æ˜è¯­å¥ä¸­å®šä¹‰å…·ä½“çš„å®ç°</p></blockquote></div><h4 id="ä¸‰æ–œçº¿æŒ‡ä»¤"><a href="#ä¸‰æ–œçº¿æŒ‡ä»¤" class="headerlink" title="///ä¸‰æ–œçº¿æŒ‡ä»¤"></a><code>///</code>ä¸‰æ–œçº¿æŒ‡ä»¤</h4><blockquote><p>&#x2F;&#x2F;&#x2F; &lt;reference path&#x3D;â€â€¦â€ /&gt;</p></blockquote><p>ä¸‰æ–œçº¿å¼•ç”¨å‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­è¦å¼•å…¥çš„é¢å¤–çš„æ–‡ä»¶ã€‚<strong>ä¸‰æ–œçº¿æŒ‡ä»¤ä»…å¯æ”¾åœ¨åŒ…å«å®ƒçš„æ–‡ä»¶çš„æœ€é¡¶ç«¯ã€‚ ä¸€ä¸ªä¸‰æ–œçº¿æŒ‡ä»¤çš„å‰é¢åªèƒ½å‡ºç°å•è¡Œæˆ–å¤šè¡Œæ³¨é‡Šã€‚</strong></p><h4 id="declare-namespaceè¯¦è§£"><a href="#declare-namespaceè¯¦è§£" class="headerlink" title="declare namespaceè¯¦è§£"></a><code>declare namespace</code>è¯¦è§£</h4><p><code>namespace</code>ä¸­æ–‡ç§°å‘½åç©ºé—´ï¼Œç°åœ¨å·²ç»ä¸å»ºè®®å†ä½¿ç”¨<code>ts</code>ä¸­çš„<code>namespace</code>ï¼Œè€Œæ¨èä½¿ç”¨<code>ES6</code>çš„æ¨¡å—åŒ–æ–¹æ¡ˆäº†ï¼Œ<del>è™½ç„¶ç›®å‰ä»èƒ½ä½¿ç”¨</del>ã€‚</p><p><code>eg. jQuery</code>æä¾›äº†ä¸€ä¸ª<code>jQuery.ajax</code>æ–¹æ³•å¯ä»¥è°ƒç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åº”è¯¥ä½¿ç”¨<code>declare namespace jQuery</code>æ¥å£°æ˜è¿™ä¸ªæ‹¥æœ‰å¤šä¸ªå­å±æ€§çš„å…¨å±€å˜é‡ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">declare</span> <span class="token keyword">namespace</span> jQuery <span class="token punctuation">&#123;</span>  <span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> settings<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> version<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token keyword">class</span> <span class="token class-name">Event</span> <span class="token punctuation">&#123;</span>    <span class="token function">blur</span><span class="token punctuation">(</span>eventType<span class="token operator">:</span> EventType<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">enum</span> EventType <span class="token punctuation">&#123;</span>    CustomClick<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>æ³¨æ„ï¼Œåœ¨<code>declare namespace</code>å†…éƒ¨ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨<code>function ajax</code>æ¥å£°æ˜å‡½æ•°ï¼Œè€Œä¸æ˜¯ä½¿ç”¨<code>declare function ajax</code>ã€‚ç±»ä¼¼çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>const</code>, <code>class</code>, <code>enum</code>ç­‰è¯­å¥&#96;</p><ul><li>åµŒå¥—çš„å‘½åç©ºé—´</li></ul><p>ä½¿ç”¨åœºæ™¯ï¼š è¯¸å¦‚ jQuery.fn.extend({})</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">declare</span> <span class="token keyword">namespace</span> jQuery <span class="token punctuation">&#123;</span>  <span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> settings<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  <span class="token keyword">namespace</span> fn <span class="token punctuation">&#123;</span>    <span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span>object<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><ul><li>å½“ç„¶ä½ ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// è¿™æ ·å†™æœ‰å¾ˆå¤šå±€é™æ€§ï¼Œ æ¯”å¦‚ jQueryä¸ä»…ä»…æœ‰ fnå±æ€§çš„æ—¶å€™</span><span class="token keyword">declare</span> <span class="token keyword">namespace</span> jQuery<span class="token punctuation">.</span>fn <span class="token punctuation">&#123;</span>  <span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span>object<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="typeå’Œinterfaceå¦‚ä½•æŠ‰æ‹©ï¼Ÿ"><a href="#typeå’Œinterfaceå¦‚ä½•æŠ‰æ‹©ï¼Ÿ" class="headerlink" title="typeå’Œinterfaceå¦‚ä½•æŠ‰æ‹©ï¼Ÿ"></a><code>type</code>å’Œ<code>interface</code>å¦‚ä½•æŠ‰æ‹©ï¼Ÿ</h3><p>æ¨èä»»ä½•æ—¶å€™éƒ½æ˜¯ç”¨<code>type</code>ï¼Œ<code>type</code>ä½¿ç”¨èµ·æ¥æ›´åƒä¸€ä¸ªå˜é‡ï¼Œä¸<code>interface</code>ç›¸æ¯”ï¼Œ<code>type</code>çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>è¡¨è¾¾åŠŸèƒ½æ›´å¼ºå¤§ï¼Œä¸å±€é™äº<code>object/class/function</code></li><li>è¦æ‰©å±•å·²æœ‰<code>type</code>éœ€è¦åˆ›å»ºæ–°<code>type</code>ï¼Œä¸å¯ä»¥é‡å</li><li>æ”¯æŒæ›´å¤æ‚çš„ç±»å‹æ“ä½œ</li></ul><p>åŸºæœ¬ä¸Šæ‰€æœ‰ç”¨<code>interface</code>è¡¨è¾¾çš„ç±»å‹éƒ½æœ‰å…¶ç­‰ä»·çš„<code>type</code>è¡¨è¾¾ã€‚</p><h3 id="ç»™å‡½æ•°æ·»åŠ å±æ€§ç”³æ˜"><a href="#ç»™å‡½æ•°æ·»åŠ å±æ€§ç”³æ˜" class="headerlink" title="ç»™å‡½æ•°æ·»åŠ å±æ€§ç”³æ˜"></a>ç»™å‡½æ•°æ·»åŠ å±æ€§ç”³æ˜</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">FuncWithAttachment</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">(</span>param<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>  someProperty<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> testFunc<span class="token operator">:</span> <span class="token function-variable function">FuncWithAttachment</span> <span class="token operator">=</span> <span class="token punctuation">(</span>param<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">testFunc</span><span class="token punctuation">(</span><span class="token string">'mike'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰ç±»å‹æé†’</span>testFunc<span class="token punctuation">.</span>someProperty <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰ç±»å‹æé†’</span></code></pre><p>ç­‰ä»·çš„<strong>å£°æ˜åˆå¹¶</strong>å†™æ³•:</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// ç»„åˆå¤šä¸ªå£°æ˜è¯­å¥ï¼Œå®ƒä»¬ä¸ä¼šäº§ç”Ÿå†²çª</span><span class="token keyword">type</span> <span class="token class-name">FuncWithAttachment</span> <span class="token operator">=</span> <span class="token punctuation">(</span>param<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">boolean</span><span class="token punctuation">;</span><span class="token keyword">type</span> <span class="token class-name">FuncWithAttachment</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  someProperty<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h3 id="æšä¸¾ç±»å‹å£°æ˜åŠç±»å‹ä½¿ç”¨"><a href="#æšä¸¾ç±»å‹å£°æ˜åŠç±»å‹ä½¿ç”¨" class="headerlink" title="æšä¸¾ç±»å‹å£°æ˜åŠç±»å‹ä½¿ç”¨"></a>æšä¸¾ç±»å‹å£°æ˜åŠç±»å‹ä½¿ç”¨</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// è”åˆç±»å‹</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span><span class="token punctuation">;</span><span class="token comment">// æšä¸¾ç±»å‹</span><span class="token keyword">enum</span> <span class="token constant">A</span> <span class="token punctuation">&#123;</span>  <span class="token string">'a'</span> <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">,</span>  <span class="token string">'b'</span> <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">,</span>  <span class="token string">'c'</span> <span class="token operator">=</span> <span class="token string">'c'</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p><strong>æ³¨æ„ (type)A ç­‰ä»· keyof typeof (enum çš„ keys)Aï¼Œå¦‚æœæƒ³ä½¿ç”¨ (enum çš„ values çš„è”åˆç±»å‹) ç›´æ¥ä½¿ç”¨ A å³å¯</strong></p></blockquote><h3 id="æ³›å‹çš„å…¶ä»–ä½¿ç”¨åœºæ™¯"><a href="#æ³›å‹çš„å…¶ä»–ä½¿ç”¨åœºæ™¯" class="headerlink" title="æ³›å‹çš„å…¶ä»–ä½¿ç”¨åœºæ™¯"></a>æ³›å‹çš„å…¶ä»–ä½¿ç”¨åœºæ™¯</h3><p><code>åˆ—ä¸¾é™¤äº†æ³›å‹å‡½æ•°å¤–çš„ä¸€äº›å¸¸è§ä½¿ç”¨åœºæ™¯ï¼š</code></p><ul><li>æ¥å£è¿”å›æ•°æ®ç±»å‹çº¦æŸ</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// æœ‰è¿™ä¹ˆä¸€ä¸ª interface ,æ˜¾ç„¶ï¼Œ å¾ˆå¤šæ¥å£è¿”å›æ•°æ®éƒ½æ˜¯è¿™ç§ç»“æ„ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨äº† æ³›å‹çº¦æŸ</span><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span>  page<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  results<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  total<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token generic-function"><span class="token function">request</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">>></span></span></span><span class="token punctuation">(</span><span class="token string">'/api/xx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><code>Promise</code> ç±»å‹</li></ul><p>åœ¨åšå¼‚æ­¥æ“ä½œæ—¶æˆ‘ä»¬ç»å¸¸ä½¿ç”¨ <code>async</code> å‡½æ•°ï¼Œå‡½æ•°è°ƒç”¨æ—¶ä¼š <code>return</code> ä¸€ä¸ª <code>Promise</code> å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>then</code> æ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚</p><p><code>Promise</code> æ˜¯ä¸€ä¸ªæ³›å‹ç±»å‹ï¼Œ<code>T</code> æ³›å‹å˜é‡ç”¨äºç¡®å®šä½¿ç”¨ <code>then</code> æ–¹æ³•æ—¶æ¥æ”¶çš„ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆ<code>onfulfilled</code>ï¼‰çš„å‚æ•°ç±»å‹ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// æŸ props æ¥æ”¶å¼‚æ­¥å¤„ç†å‡½æ•°</span>onTaskRequest<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token constant">API</span><span class="token punctuation">.</span><span class="token constant">X</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">API</span><span class="token punctuation">.</span><span class="token constant">X</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre><ul><li><code>event</code> äº‹ä»¶ç±»å‹</li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// click ä½¿ç”¨ React.MouseEvent åŠ  dom ç±»å‹çš„æ³›å‹</span><span class="token comment">// HTMLInputElement ä»£è¡¨ inputæ ‡ç­¾ å¦å¤–ä¸€ä¸ªå¸¸ç”¨çš„æ˜¯ HTMLDivElement</span><span class="token keyword">const</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> React<span class="token punctuation">.</span>MouseEvent<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><ul><li>ä½œä¸ºç»„ä»¶ <code>Props</code> åŠ <code>hooks</code> å‚æ•°</li></ul><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">FnComProps</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> FnCom<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>FnComProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">ç»„ä»¶</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><p>â€¦</p><h3 id="åŠ¨æ€æ›´æ–°-Object-çš„-key"><a href="#åŠ¨æ€æ›´æ–°-Object-çš„-key" class="headerlink" title="åŠ¨æ€æ›´æ–° Object çš„ key"></a>åŠ¨æ€æ›´æ–° <code>Object</code> çš„ <code>key</code></h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token punctuation">[</span>k<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å®š k å¯ä»¥ä¸ºä»»æ„çš„ string</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h3 id="åå‘ä½¿ç”¨-typeof"><a href="#åå‘ä½¿ç”¨-typeof" class="headerlink" title="åå‘ä½¿ç”¨ typeof"></a>åå‘ä½¿ç”¨ typeof</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// NewsCard ç»„ä»¶æ¥æ”¶çš„ props ç±»å‹</span><span class="token keyword">interface</span> <span class="token class-name">NewsCardProps</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ficusService.getNews: (params: API.NewsQuery) => Promise&lt;API.PaginationNewsResult&lt;API.News>></span>  <span class="token comment">// é€šè¿‡ typeof åå‘è·å–ç±»å‹</span>  provider<span class="token operator">:</span> <span class="token keyword">typeof</span> ficusService<span class="token punctuation">.</span>getNews<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="å·§ç”¨Partial"><a href="#å·§ç”¨Partial" class="headerlink" title="å·§ç”¨Partial"></a>å·§ç”¨<code>Partial</code></h3><p>ä½¿ç”¨ <code>Partial</code> å°†æ‰€æœ‰çš„ <code>props</code> å±æ€§éƒ½å˜ä¸ºå¯é€‰å€¼ã€‚â€”â€” è¿™å¯¹æˆ‘ä»¬åœ¨æ¥å£å®šä¹‰æ—¶å¾ˆæœ‰ç”¨</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// åœ¨ A æ¥å£ä¸­, æˆ‘ä»¬ä½¿ç”¨ interface X å®Œæˆäº†å¯¹æŸæ•°æ®çš„è¿”å›ç±»å‹å®šä¹‰ã€‚</span><span class="token comment">// åœ¨ B æ¥å£ä¸­, æˆ‘ä»¬å¯èƒ½ä¼šå¯¹ X ä¸­å®šä¹‰çš„å­—æ®µçš„éƒ¨åˆ†å­—æ®µè¿›è¡Œæ›´æ–°ï¼Œ ä½†åœ¨ A æ¥å£ ä¸ºå¿…é€‰å­—æ®µï¼Œ B æ¥å£ä¸ºå¯é€‰</span><span class="token keyword">export</span> <span class="token keyword">const</span> conditionService <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">async</span> <span class="token function">query</span><span class="token punctuation">(</span>query<span class="token operator">:</span> Query<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>PageResult<span class="token operator">&lt;</span>ConditionTemp<span class="token operator">>></span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/v1.0/condition</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>      params<span class="token operator">:</span> query<span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token keyword">async</span> <span class="token function">update</span><span class="token punctuation">(</span>data<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>ConditionTemp<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/v1.0/condition</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h3 id="ä¸º-Window-æ·»åŠ å‚æ•°"><a href="#ä¸º-Window-æ·»åŠ å‚æ•°" class="headerlink" title="ä¸º Window æ·»åŠ å‚æ•°"></a>ä¸º Window æ·»åŠ å‚æ•°</h3><p>ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ—¶ï¼ˆgaï¼‰,ga æ˜¯å…¨å±€æ–¹æ³•ï¼Œåœ¨ä½¿ç”¨æ—¶ä¼šæç¤ºâ€ ç±»å‹â€œWindowâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œgaâ€</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">&#123;</span>  ga<span class="token operator">:</span> <span class="token punctuation">(</span>    command<span class="token operator">:</span> <span class="token string">'send'</span><span class="token punctuation">,</span>    hitType<span class="token operator">:</span> <span class="token string">'event'</span> <span class="token operator">|</span> <span class="token string">'pageview'</span><span class="token punctuation">,</span>    fieldsObject<span class="token operator">:</span> GAFieldsObject <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>  <span class="token function-variable function">reloadAuthorized</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>ä¸æƒ³åœ¨ Window ä¸­å¢åŠ ï¼Œä½†æ˜¯æƒ³è¦å…¨å±€ä½¿ç”¨ï¼Œæ¯”å¦‚é€šè¿‡ define æ³¨å…¥çš„å‚æ•°ï¼Œæˆ‘ä»¬é€šè¿‡ <code>declare</code> å…³é”®å­—åœ¨ <code>/src/typings.d.ts</code> æ³¨å…¥ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">declare</span> <span class="token keyword">const</span> <span class="token constant">REACT_APP_ENV</span><span class="token operator">:</span> <span class="token string">'test'</span> <span class="token operator">|</span> <span class="token string">'dev'</span> <span class="token operator">|</span> <span class="token string">'pre'</span> <span class="token operator">|</span> <span class="token boolean">false</span><span class="token punctuation">;</span></code></pre><h3 id="è£…åŒ…æ²¡æœ‰ç›¸å¯¹åº”çš„-types"><a href="#è£…åŒ…æ²¡æœ‰ç›¸å¯¹åº”çš„-types" class="headerlink" title="è£…åŒ…æ²¡æœ‰ç›¸å¯¹åº”çš„ @types"></a>è£…åŒ…æ²¡æœ‰ç›¸å¯¹åº”çš„ <code>@types</code></h3><ul><li><p>å®‰è£…åŒ…å¯¹åº”çš„<code>@types</code>æ–‡ä»¶åŒ…ï¼Œå¦‚<code>@types/react</code>ã€<code>@types/react-dom</code></p></li><li><p>è‡ªå®šä¹‰å…¶ä¸º<code>any</code>ã€‚</p></li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'xxx'</span><span class="token punctuation">;</span> <span class="token comment">// d.ts</span><span class="token keyword">import</span> xxx <span class="token keyword">from</span> <span class="token string">'xxx'</span><span class="token punctuation">;</span> <span class="token comment">// tsx</span></code></pre><h3 id="ts-ignore"><a href="#ts-ignore" class="headerlink" title="@ts-ignore"></a>@ts-ignore</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// @ts-ignore</span>xxx<span class="token punctuation">;</span></code></pre><p>é‡åˆ°åŠ¨æ€æ€§æ¯”è¾ƒå¼ºçš„ä»£ç ï¼Œä¸å¦¨ä½¿ç”¨ <code>as unknown as XXX</code></p><h3 id="typescript-å…¶ä»–ä½¿ç”¨å§¿åŠ¿"><a href="#typescript-å…¶ä»–ä½¿ç”¨å§¿åŠ¿" class="headerlink" title="typescript å…¶ä»–ä½¿ç”¨å§¿åŠ¿"></a><a href="https://ts.xcatliu.com/basics/declaration-files.html">typescript å…¶ä»–ä½¿ç”¨å§¿åŠ¿</a></h3>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå¸¸ç”¨aliasåˆ«åé…ç½®</title>
      <link href="/posts/git-alias/"/>
      <url>/posts/git-alias/</url>
      
        <content type="html"><![CDATA[<h3 id="ç‚¹äº®ä½ çš„æŠ€å·§ç‚¹"><a href="#ç‚¹äº®ä½ çš„æŠ€å·§ç‚¹" class="headerlink" title="ç‚¹äº®ä½ çš„æŠ€å·§ç‚¹"></a>ç‚¹äº®ä½ çš„æŠ€å·§ç‚¹</h3><p>é€šè¿‡æ›´åŠ ç®€æ´æ˜“è®°çš„å•è¯æˆ–è€…çŸ­è¯­æ¥æ ‡è®°å¸¸ç”¨çš„æŒ‡ä»¤â€“åˆ«å<code>alias</code>ã€‚å®ƒçš„å¦å¤–ä¸€ä¸ªä¸å®¹å¿½è§†çš„å¥½å¤„å°±æ˜¯å¯ä»¥å°½å¯èƒ½çš„é¿å…æŒ‡ä»¤è¾“å‡ºé”™è¯¯~~</p><span id="more"></span><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p><code>eg.</code>é…ç½®<code>git status</code>çš„<code>status</code>åˆ«åä¸º<code>st</code>ï¼š</p><blockquote><p>git config â€“global alias.st status</p></blockquote><p>æ·»åŠ <code>--global</code>é’ˆå¯¹ç”¨æˆ·çº§èµ·ä½œç”¨ï¼Œå¦‚æœä¸åŠ ï¼Œåˆ™åªä¼šåœ¨å½“å‰ä»“åº“èµ·ä½œç”¨</p><p>é™¤äº†é€šè¿‡æŒ‡ä»¤è¿›è¡Œè®¾ç½®ä»¥å¤–ï¼Œä½ å¯ä»¥æ‰“å¼€<code>~/.globalConfig</code>æ–‡ä»¶ï¼Œç„¶åç¼–è¾‘å½•å…¥ä½ æƒ³è¦çš„<code>alias</code>â€¦è¯­æ³•å¦‚ä¸‹ï¼š</p><pre class="language-none"><code class="language-none">[alias]  st &#x3D; status  xx &#x3D; xxxx</code></pre><p>è¿™æ ·å°±é…ç½®å¥½äº†ï¼Œä¾‹å¦‚ä¸Šé¢é…ç½®çš„<code>status</code>ï¼Œå½“ä½ ä»<code>terminal</code>å½•å…¥<code>git s</code>çš„æŒ‡ä»¤æ—¶ï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨<code>git status</code>æ¥æ›¿æ¢å½“å‰æŒ‡ä»¤ã€‚</p><p>æœ‰çš„ç«¥é‹è¦è¯´äº†ï¼Œé‚£éƒ½è¿™æ ·äº† æˆ‘<code>git</code>ä¹Ÿæƒ³ç®€å†™ï¼Œè¡Œå¦ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥æ»´~~ğŸ˜‹ğŸ˜‹ğŸ˜‹</p><p>ä¾‹å¦‚æˆ‘å¹³æ—¶æäº¤ä»£ç çš„<code>terminal</code>æ˜¯<code>git bash</code>ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º<code>git bash</code>æ·»åŠ <code>alias</code>çš„é…ç½®é¡¹ï¼Œè¾…åŠ©è¯†åˆ«æŒ‡ä»¤ï¼šæ‰¾åˆ°<code>~/.bash_profile</code>æˆ–è€…æ˜¯<code>prefix/etc/bash.bashrc</code>ï¼Œæœ«å°¾è¿½åŠ ï¼š</p><blockquote><p><code>alias g=&#39;git&#39;</code></p></blockquote><p>ç°åœ¨<code>g st</code>å°±ç­‰ä»·<code>git status</code>â€¦æœ‰æœ¨æœ‰æ„Ÿè§‰å¾ˆçˆ½ï¼Ÿæ—¢ç„¶çŸ¥é“äº†æ€ä¹ˆé…ï¼Œå¤§å®¶æ ¹æ®è‡ªå·±çš„æ—¥å¸¸ä¹ æƒ¯å’Œéœ€è¦ï¼Œè¿›è¡Œé…ç½®å³å¯â€¦</p><p>å†™ä¸‹æˆ‘å¸¸ç”¨çš„ä¸€äº›<code>alias</code>é…ç½®ï¼Œå…¶ä¸­æœ‰ä¸€éƒ¨åˆ†ä¹Ÿæ˜¯å®˜æ–¹æ¨èçš„é…ç½®é¡¹ï¼š -&gt; <a href="https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-Git-%E5%88%AB%E5%90%8D">è¿™é‡Œ</a></p><table><thead><tr><th align="center">åˆ«å<code>alias</code></th><th align="left">åŸæŒ‡</th></tr></thead><tbody><tr><td align="center"><code>a</code></td><td align="left"><code>add .</code></td></tr><tr><td align="center"><code>cm</code></td><td align="left"><code>commit -m</code></td></tr><tr><td align="center"><code>st</code></td><td align="left"><code>status</code></td></tr><tr><td align="center"><code>co</code></td><td align="left"><code>checkout</code></td></tr><tr><td align="center"><code>ci</code></td><td align="left"><code>commit</code></td></tr><tr><td align="center"><code>rci</code></td><td align="left"><code>commit --amend --no-edit</code></td></tr><tr><td align="center"><code>br</code></td><td align="left"><code>branch</code></td></tr><tr><td align="center"><code>unstage</code></td><td align="left"><code>reset HEAD</code></td></tr><tr><td align="center"><code>last</code></td><td align="left"><code> log -1</code></td></tr><tr><td align="center"><code>lg</code></td><td align="left"><code>log --color --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit</code></td></tr><tr><td align="center"><code>pr</code></td><td align="left"><code>pull --rebase</code></td></tr><tr><td align="center"><code>pl</code></td><td align="left"><code>pull</code></td></tr></tbody></table><p>ä¾‹å¦‚ï¼š<code>g last</code> å¯ä»¥æŸ¥çœ‹æœ€è¿‘ä¸€æ¡çš„<code>git</code>æäº¤è®°å½•ï¼Œ<code>g rci</code>å¯ä»¥å°†æš‚å­˜åŒºå†…çš„æ–‡ä»¶æ”¹åŠ¨åˆå¹¶è‡³ä¸Šä¸€æ¬¡æäº¤ï¼Œä¸”ä¸ç”Ÿæˆæ–°çš„æäº¤è®°å½• <del>æœ‰æ—¶å€™ä¿®æ”¹äº†å†…å®¹æäº¤äº†æ‰å‘ç°ï¼Œå¯èƒ½å¿˜è®° format ï¼Ÿ æˆ–è€…æ˜¯å˜é‡åæ‹¼å†™é”™è¯¯ï¼Ÿç­‰ç­‰éœ€è¦é‡æ–°ç¼–è¾‘æäº¤çš„ï¼Œä½†åˆä¸æƒ³åœ¨æ—¥å¿—ä¸­å†ç”Ÿæˆä¸€æ¡æäº¤è®°å½•ï¼Œå°±å¯ä»¥ä½¿ç”¨ rci å¹¶å…¥æäº¤</del>ï¼Œ<code>g unstage</code>å¯ä»¥å–æ¶ˆ<code>add</code>åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œ<code>lg</code>å¯ä»¥æŸ¥çœ‹<code>git</code>æäº¤æ—¥å¿—ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ”¶è—å®‰åˆ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git-alias </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœç‹—è¾“å…¥æ³•è‡ªå®šä¹‰æ—¶é—´ä»£ç ç‰‡æ®µ</title>
      <link href="/posts/keyboard-input-snippet/"/>
      <url>/posts/keyboard-input-snippet/</url>
      
        <content type="html"><![CDATA[<h3 id="æµ…è°ˆ"><a href="#æµ…è°ˆ" class="headerlink" title="æµ…è°ˆ"></a>æµ…è°ˆ</h3><p>ä»€ä¹ˆæ˜¯è¾“å…¥æ³•ç‰‡æ®µï¼Ÿæ—¨åœ¨é€šè¿‡ç‰¹æ®Šçš„å­—ç¬¦ä¸²æ¥è¾“å‡ºè‡ªå®šä¹‰å¥½çš„æ–‡æœ¬ï¼Œè¾¾åˆ°ä¾¿æ·è¾“å‡ºçš„ç›®çš„ã€‚<a href="https://pinyin.sogou.com/help.php?list=1&q=9">https://pinyin.sogou.com/help.php?list=1&q=9</a></p><p>å½“ç„¶é™¤äº†è‡ªå·±å®šä¹‰å¤–ï¼Œè¿˜æœ‰ä¸€äº›å†…ç½®çš„çŸ­è¯­ç‰‡æ®µï¼Œä¾‹å¦‚<code>sj</code>ä¼šè¾“å‡ºæ—¶é—´ï¼Œ<code>xq</code>ä¼šè¾“å‡ºæ˜ŸæœŸå†…å®¹ï¼Œ<code>rq</code>ä¼šè¾“å‡ºå…·ä½“æ—¥æœŸ..å¦‚å›¾ï¼š</p><p><a href="/images/posts/keyboard-input-snippet/p1.png"><img src="/images/posts/keyboard-input-snippet/p1.png" alt="keyboard-input-snippet-p1" loading="lazy"></a></p><p>ç„¶åæ¥è¯´è¯´æ€ä¹ˆè‡ªå®šä¹‰ï¼Œå°±æ‹¿æ—¶é—´ä¸¾ä¾‹â€¦<del>å› ä¸ºæˆ‘è§‰å¾—å†…ç½®çš„<code>sj</code>çŸ­è¯­ä¸å¤ªèƒ½æ»¡è¶³æˆ‘çš„æ ¼å¼éœ€æ±‚</del></p><span id="more"></span><h3 id="æ·»åŠ æ—¶é—´çŸ­è¯­"><a href="#æ·»åŠ æ—¶é—´çŸ­è¯­" class="headerlink" title="æ·»åŠ æ—¶é—´çŸ­è¯­"></a>æ·»åŠ æ—¶é—´çŸ­è¯­</h3><blockquote><p>è¾“å…¥æ³•-&gt; å±æ€§è®¾ç½® -&gt; é«˜çº§ -&gt; å€™é€‰æ‰©å±• -&gt; è‡ªå®šä¹‰çŸ­è¯­è®¾ç½® -&gt; æ·»åŠ æ–°çŸ­è¯­</p></blockquote><p>çŸ­è¯­é™¤äº†å›ºå®šæ€§çš„å†…å®¹ä»¥å¤–ï¼Œè¿˜å¯ä»¥æ˜¯æ¨¡æ¿â€¦ <code>#å¼€å¤´</code>å½¢å¦‚<code>#xxxxxx</code>,äº†è§£æ¨¡æ¿çš„å…³é”®å­—å‡½æ•°ï¼š</p><h3 id="å‡½æ•°å…¬å¼"><a href="#å‡½æ•°å…¬å¼" class="headerlink" title="å‡½æ•°å…¬å¼"></a>å‡½æ•°å…¬å¼</h3><table><thead><tr><th align="left">å‡½æ•°</th><th align="center">å«ä¹‰</th><th align="right">ä¸¾ä¾‹</th></tr></thead><tbody><tr><td align="left">$year</td><td align="center">å¹´(4 ä½)</td><td align="right">2006ã€2008</td></tr><tr><td align="left">$year_yy</td><td align="center">å¹´(2 ä½)</td><td align="right">06ã€08</td></tr><tr><td align="left">$month</td><td align="center">æœˆ</td><td align="right">12ã€8ã€3</td></tr><tr><td align="left">$month_mm</td><td align="center">æœˆ</td><td align="right">12ã€08ã€03 æ­¤å‡½æ•°åœ¨è¾“å…¥æ³• 3.1 ç‰ˆä¹‹åï¼ˆå«ï¼‰æœ‰æ•ˆ</td></tr><tr><td align="left">$day</td><td align="center">æ—¥</td><td align="right">3ã€13ã€22</td></tr><tr><td align="left">$day_dd</td><td align="center">æ—¥</td><td align="right">03ã€13ã€22 æ­¤å‡½æ•°åœ¨è¾“å…¥æ³• 3.1 ç‰ˆä¹‹åï¼ˆå«ï¼‰æœ‰æ•ˆ</td></tr><tr><td align="left">$weekday</td><td align="center">æ˜ŸæœŸ</td><td align="right">0ã€1ã€2ã€5ã€6</td></tr><tr><td align="left">$fullhour</td><td align="center">æ—¶(24 å°æ—¶åˆ¶)</td><td align="right">02ã€08ã€13ã€23</td></tr><tr><td align="left">$halfhour</td><td align="center">(12 å°æ—¶åˆ¶)</td><td align="right">02ã€08ã€01ã€11</td></tr><tr><td align="left">$ampm</td><td align="center">AMã€PM(è‹±)</td><td align="right">AMã€PMï¼ˆå¤§å†™ï¼‰</td></tr><tr><td align="left">$minute</td><td align="center">åˆ†</td><td align="right">02ã€08ã€15ã€28</td></tr><tr><td align="left">$second</td><td align="center">ç§’</td><td align="right">02ã€08ã€15ã€28</td></tr><tr><td align="left">$year_cn</td><td align="center">å¹´(ä¸­æ–‡ 4 ä½)</td><td align="right">äºŒã€‡ã€‡å…­</td></tr><tr><td align="left">$year_yy_cn</td><td align="center">å¹´(ä¸­æ–‡ 2 ä½)</td><td align="right">ã€‡å…­</td></tr><tr><td align="left">$month_cn</td><td align="center">æœˆ(ä¸­æ–‡)</td><td align="right">åäºŒã€å…«ã€ä¸‰</td></tr><tr><td align="left">$day_cn</td><td align="center">æ—¥(ä¸­æ–‡)</td><td align="right">ä¸‰ã€åä¸‰ã€äºŒåäºŒ</td></tr><tr><td align="left">$weekday_cn</td><td align="center">æ˜ŸæœŸ(ä¸­æ–‡)</td><td align="right">æ—¥ã€ä¸€ã€äºŒã€äº”ã€å…­</td></tr><tr><td align="left">$fullhour_cn</td><td align="center">æ—¶(ä¸­æ–‡ 24 æ—¶åˆ¶)</td><td align="right">äºŒã€å…«ã€åä¸‰ã€äºŒåä¸‰</td></tr><tr><td align="left">$halfhour_cn</td><td align="center">æ—¶(ä¸­æ–‡ 12 æ—¶åˆ¶)</td><td align="right">äºŒã€å…«ã€ä¸€ã€åä¸€</td></tr><tr><td align="left">$ampm_cn</td><td align="center">ä¸Šåˆä¸‹åˆ(ä¸­æ–‡)</td><td align="right">ä¸Šåˆã€ä¸‹åˆ</td></tr><tr><td align="left">$minute_cn</td><td align="center">åˆ†(ä¸­æ–‡)</td><td align="right">é›¶äºŒã€é›¶å…«ã€åäº”ã€äºŒåå…«</td></tr><tr><td align="left">$second_cn</td><td align="center">ç§’(ä¸­æ–‡)</td><td align="right">é›¶äºŒã€é›¶å…«ã€åäº”ã€äºŒåå…«</td></tr></tbody></table><p><code>eg.</code>è®¾ç½®å½¢å¦‚<code>2022-08-17 11:31:14</code>æ ¼å¼çš„çŸ­è¯­ï¼š</p><blockquote><p><code>#$year-$month_mm-$day_dd $fullhour:$minute:$second</code></p></blockquote><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><a href="/images/posts/keyboard-input-snippet/p2.png"><img src="/images/posts/keyboard-input-snippet/p2.png" alt="keyboard-input-snippet-p2" loading="lazy"></a></p>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ”¶è—å®‰åˆ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¾“å…¥æ³• </tag>
            
            <tag> snippet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•æ„å»ºä½ æƒ³è¦çš„æ­£åˆ™è¡¨è¾¾å¼?</title>
      <link href="/notes/regular-expression/"/>
      <url>/notes/regular-expression/</url>
      
        <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼"><a href="#ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼"></a>ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼</h3><p>æ­£åˆ™è¡¨è¾¾å¼<code>(regular expression)</code>æè¿°äº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…çš„æ¨¡å¼<code>(pattern)</code>ï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªä¸²æ˜¯å¦å«æœ‰æŸç§å­ä¸²ã€å°†åŒ¹é…çš„å­ä¸²æ›¿æ¢æˆ–è€…ä»æŸä¸ªä¸²ä¸­å–å‡ºç¬¦åˆæŸä¸ªæ¡ä»¶çš„å­ä¸²ç­‰ã€‚</p><blockquote><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”±æ™®é€šå­—ç¬¦ï¼ˆä¾‹å¦‚å­—ç¬¦ a åˆ° zï¼‰ä»¥åŠç‰¹æ®Šå­—ç¬¦ï¼ˆç§°ä¸ºâ€å…ƒå­—ç¬¦â€ï¼‰ç»„æˆçš„æ–‡å­—æ¨¡å¼ã€‚æ¨¡å¼æè¿°åœ¨æœç´¢æ–‡æœ¬æ—¶è¦åŒ¹é…çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ã€‚æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªæ¨¡æ¿ï¼Œå°†æŸä¸ªå­—ç¬¦æ¨¡å¼ä¸æ‰€æœç´¢çš„å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ã€‚</p></blockquote><span id="more"></span><h3 id="æ­£åˆ™è¡¨è¾¾å¼çš„åˆ›å»º"><a href="#æ­£åˆ™è¡¨è¾¾å¼çš„åˆ›å»º" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼çš„åˆ›å»º"></a>æ­£åˆ™è¡¨è¾¾å¼çš„åˆ›å»º</h3><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆç§°è§„åˆ™è¡¨è¾¾å¼ã€‚å¯ä»¥é€šè¿‡å†…ç½®æ„é€ å‡½æ•°åˆ›å»ºï¼Œäº¦å¯ä»¥é€šè¿‡å­—é¢é‡æ–¹å¼åˆ›å»ºã€‚</p><h4 id="å­—é¢é‡æ–¹å¼åˆ›å»º"><a href="#å­—é¢é‡æ–¹å¼åˆ›å»º" class="headerlink" title="å­—é¢é‡æ–¹å¼åˆ›å»º"></a>å­—é¢é‡æ–¹å¼åˆ›å»º</h4><blockquote><p>è¯­æ³•ï¼š<code>const reg = /xxx/</code>åŒæ–œæ åŒ…å¤¹çš„å†…å®¹å°±æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚</p></blockquote><h4 id="å†…ç½®æ„é€ å‡½æ•°åˆ›å»º"><a href="#å†…ç½®æ„é€ å‡½æ•°åˆ›å»º" class="headerlink" title="å†…ç½®æ„é€ å‡½æ•°åˆ›å»º"></a>å†…ç½®æ„é€ å‡½æ•°åˆ›å»º</h4><blockquote><p>è¯­æ³•ï¼š<code>const reg = new RegExp(&#39;xxx&#39;)</code> é€šè¿‡<code>new</code>å…³é”®å­—åˆ›å»ºæ­£åˆ™å®ä¾‹ã€‚</p></blockquote><p><code>soï¼š</code>å¦‚æœå†™ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼<code>xxx</code>ï¼Œæ¥å…ˆäº†è§£æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€äº›æ¯”è¾ƒç‰¹æ®Šçš„ç¬¦å·æ„ä¹‰æ‰€åœ¨ï¼Ÿ</p><h3 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h3><h4 id="då‡ºç°ä¸€ä¸ªæ•°å­—"><a href="#då‡ºç°ä¸€ä¸ªæ•°å­—" class="headerlink" title="\då‡ºç°ä¸€ä¸ªæ•°å­—"></a><code>\d</code>å‡ºç°ä¸€ä¸ªæ•°å­—</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'sdasdna126sdfd6550sad'</span><span class="token punctuation">;</span><span class="token keyword">const</span> res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><p>å…¶ä»–å­—ç¬¦åŒç†ï¼Œå°±ä¸å•ç‹¬å†™ä¾‹å­äº†ï¼Œé€šè¿‡<code>test</code>åˆ™è¿”å›<code>true</code>.</p><h4 id="Då‡ºç°ä¸€ä¸ªéæ•°å­—"><a href="#Då‡ºç°ä¸€ä¸ªéæ•°å­—" class="headerlink" title="\Då‡ºç°ä¸€ä¸ªéæ•°å­—"></a><code>\D</code>å‡ºç°ä¸€ä¸ªéæ•°å­—</h4><h4 id="så‡ºç°ä¸€ä¸ªç©ºæ ¼"><a href="#så‡ºç°ä¸€ä¸ªç©ºæ ¼" class="headerlink" title="\så‡ºç°ä¸€ä¸ªç©ºæ ¼"></a><code>\s</code>å‡ºç°ä¸€ä¸ªç©ºæ ¼</h4><h4 id="Så‡ºç°ä¸€ä¸ªéç©ºæ ¼"><a href="#Så‡ºç°ä¸€ä¸ªéç©ºæ ¼" class="headerlink" title="\Så‡ºç°ä¸€ä¸ªéç©ºæ ¼"></a><code>\S</code>å‡ºç°ä¸€ä¸ªéç©ºæ ¼</h4><h4 id="wå‡ºç°ä¸€ä¸ªæ•°å­—å­—æ¯ä¸‹åˆ’çº¿"><a href="#wå‡ºç°ä¸€ä¸ªæ•°å­—å­—æ¯ä¸‹åˆ’çº¿" class="headerlink" title="\wå‡ºç°ä¸€ä¸ªæ•°å­—å­—æ¯ä¸‹åˆ’çº¿"></a><code>\w</code>å‡ºç°ä¸€ä¸ªæ•°å­—å­—æ¯ä¸‹åˆ’çº¿</h4><h4 id="Wå‡ºç°ä¸€ä¸ªéæ•°å­—å­—æ¯ä¸‹åˆ’çº¿"><a href="#Wå‡ºç°ä¸€ä¸ªéæ•°å­—å­—æ¯ä¸‹åˆ’çº¿" class="headerlink" title="\Wå‡ºç°ä¸€ä¸ªéæ•°å­—å­—æ¯ä¸‹åˆ’çº¿"></a><code>\W</code>å‡ºç°ä¸€ä¸ªéæ•°å­—å­—æ¯ä¸‹åˆ’çº¿</h4><h4 id="å‡ºç°ä¸€ä¸ªé™¤äº†æ¢è¡Œä»¥å¤–çš„å­—ç¬¦"><a href="#å‡ºç°ä¸€ä¸ªé™¤äº†æ¢è¡Œä»¥å¤–çš„å­—ç¬¦" class="headerlink" title=".å‡ºç°ä¸€ä¸ªé™¤äº†æ¢è¡Œä»¥å¤–çš„å­—ç¬¦"></a><code>.</code>å‡ºç°ä¸€ä¸ªé™¤äº†æ¢è¡Œä»¥å¤–çš„å­—ç¬¦</h4><p>å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œç§°ä¹‹ä¸ºä»»æ„å­—ç¬¦ä¹Ÿä¸ä¸ºè¿‡ã€‚</p><h3 id="é™å®šç¬¦"><a href="#é™å®šç¬¦" class="headerlink" title="é™å®šç¬¦"></a>é™å®šç¬¦</h3><h4 id=""><a href="#" class="headerlink" title="*"></a><code>*</code></h4><blockquote><p>å‡ºç°çš„æ¬¡æ•°ä¸º<code>0 - infinite</code>(æ­£æ— ç©·)ï¼Œ<code>eg.</code> <code>/a*/</code>è¡¨ç¤ºå‡ºç° 0 - æ— ç©·æ¬¡<del>ï¼ˆå› ä¸ºé™å®šçš„æ¬¡æ•°æœ€ä½å¯ä»¥æ˜¯ 0ï¼Œæ‰€ä»¥ç†è§£ä¸ºæ‰€æœ‰å­—ç¬¦äº¦å¯ï¼‰ğŸ˜‚ğŸ˜‚ğŸ˜‚</del></p></blockquote><h4 id="-1"><a href="#-1" class="headerlink" title="+"></a><code>+</code></h4><blockquote><p>å‡ºç°çš„æ¬¡æ•°ä¸º<code>1 - infinite</code>(æ­£æ— ç©·)ï¼Œ<code>eg.</code> <code>/\d+/</code>è¡¨ç¤ºæ•°å­—å‡ºç°ä¸€æ¬¡ä»¥ä¸Š</p></blockquote><h4 id="-2"><a href="#-2" class="headerlink" title="?"></a><code>?</code></h4><blockquote><p>å‡ºç°çš„æ¬¡æ•°ä¸º<code>0 - 1</code>ï¼Œ<code>eg:</code> <code>/\d?/</code>å¯ä»¥ä¸å‡ºç°æ•°å­—ï¼Œä¹Ÿå¯ä»¥å‡ºç°æ•°å­—ï¼ˆä»…åŒ¹é…å‡ºç°çš„ç¬¬ä¸€æ¬¡ï¼‰</p></blockquote><h4 id="n-å’Œ-n"><a href="#n-å’Œ-n" class="headerlink" title="{n} å’Œ {n,}"></a><code>&#123;n&#125; å’Œ &#123;n,&#125;</code></h4><blockquote><p>å•ç±»å‹å­—ç¬¦è¿ç»­å‡ºç°<code>n</code>ä¸ªï¼Œ<code>eg.</code> <code>/\d&#123;3&#125;/</code>è¡¨ç¤ºè¿ç»­ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šæ•°å­—åœ¨ä¸€å— ï¼Œåªè¦å‡ºç°ä¸€æ¬¡å³ä¸º<code>true</code>.</p></blockquote><h4 id="n-m"><a href="#n-m" class="headerlink" title="{n,m}"></a><code>&#123;n,m&#125;</code></h4><blockquote><p>å•ç±»å‹å­—ç¬¦è¿ç»­å‡ºç°<strong>è‡³å°‘</strong><code>n - m</code>æ¬¡ï¼ˆæ„å‘³ç€ä¹Ÿå¯ä»¥è¶…è¿‡ï¼‰ï¼Œ<code>eg.</code></p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'s354ada1sdf22515553sg4d5sf'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d&#123;5,7&#125;</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><p>ä¼°è®¡æœ‰äº›ç«¥é‹å·²ç»è’™åœˆäº†ï¼Œæ—¢ç„¶éƒ½æ˜¯è‡³å°‘è¿™ä¹ˆå¤šæ¬¡ï¼Œé‚£å®ƒä»¬ç›´æ¥æœ‰å•¥åŒºåˆ«ï¼Ÿæ¯”å¦‚<code>&#123;n,&#125; &#123;n,m&#125;</code>ï¼Œåˆè¯¥æ€ä¹ˆä½¿ç”¨ï¼Ÿï¼Œåˆ«æ€¥æ¥å…ˆçœ‹<strong>è¾¹ç•Œç¬¦</strong>ï¼š</p><h3 id="è¾¹ç•Œç¬¦"><a href="#è¾¹ç•Œç¬¦" class="headerlink" title="è¾¹ç•Œç¬¦"></a>è¾¹ç•Œç¬¦</h3><p>å†™äº†è¾¹ç•Œç¬¦åï¼Œåœ¨ä½¿ç”¨<code>test</code>æ£€æµ‹æ—¶ï¼Œæ­é…é™å®šç¬¦ï¼Œå°±å¯å®ç°åŒºåˆ†<code>&#123;n, m&#125; å’Œ &#123;n, &#125;</code>ï¼Œå‰è€…ä»£è¡¨æ•´ä¸ªé•¿åº¦åªèƒ½åœ¨<code>n - m</code>ï¼Œåè€…æ˜¯é•¿åº¦è‡³å°‘ä¸º<code>n</code>.</p><h4 id="ä»¥-å¼€å¤´"><a href="#ä»¥-å¼€å¤´" class="headerlink" title="^ ä»¥...å¼€å¤´"></a><code>^ ä»¥...å¼€å¤´</code></h4><h4 id="ä»¥-ç»“å°¾"><a href="#ä»¥-ç»“å°¾" class="headerlink" title="$ ä»¥...ç»“å°¾"></a><code>$ ä»¥...ç»“å°¾</code></h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> reg1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token keyword">const</span> str1 <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span><span class="token keyword">const</span> str2 <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//falseï¼ˆ\dåªèƒ½å‡ºç°ä¸€ä¸ªï¼‰</span><span class="token keyword">const</span> reg2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\w&#123;4,9&#125;$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token keyword">const</span> str3 <span class="token operator">=</span> <span class="token string">'_as123'</span><span class="token punctuation">;</span><span class="token keyword">const</span> str4 <span class="token operator">=</span> <span class="token string">'_as1234567'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//falseï¼ˆæŒ‡å®šäº†\w å‡ºç°4-9æ¬¡ é•¿åº¦  å­—ç¬¦ä¸²é•¿åº¦ä¸èƒ½è¶…è¿‡ 9ï¼ŒåŒæ—¶ åªèƒ½æ˜¯\wå­—ç¬¦ï¼‰</span></code></pre><h3 id="ç‰¹æ®Šç¬¦å·"><a href="#ç‰¹æ®Šç¬¦å·" class="headerlink" title="ç‰¹æ®Šç¬¦å·"></a>ç‰¹æ®Šç¬¦å·</h3><h4 id="è½¬è¯‘ç¬¦"><a href="#è½¬è¯‘ç¬¦" class="headerlink" title="\è½¬è¯‘ç¬¦"></a><code>\</code>è½¬è¯‘ç¬¦</h4><p>æ„æŒ‡æŠŠ <strong>åŸæœ¬æ²¡æœ‰ç‰¹æ®Šå«ä¹‰çš„ä¸œè¥¿ åŠ ä¸Š \å°±æ²¡äº†ç‰¹æ®Šå«ä¹‰</strong>ï¼›<del>æŠŠåŸæœ¬å°±æœ‰ç‰¹æ®Šå«ä¹‰çš„ä¸œè¥¿åŠ ä¸Š<code>\</code>å°±æ²¡æœ‰ç‰¹æ®Šå«ä¹‰äº†</del></p><h4 id="æŠŠä¸€å—ä¸œè¥¿å½“æˆæ•´ä½“"><a href="#æŠŠä¸€å—ä¸œè¥¿å½“æˆæ•´ä½“" class="headerlink" title="()æŠŠä¸€å—ä¸œè¥¿å½“æˆæ•´ä½“"></a><code>()</code>æŠŠä¸€å—ä¸œè¥¿å½“æˆæ•´ä½“</h4><h4 id="æˆ–"><a href="#æˆ–" class="headerlink" title="|æˆ–"></a><code>|</code>æˆ–</h4><blockquote><p>æ³¨æ„ï¼š<code>||</code>é€»è¾‘æˆ– <code>|</code>å ä½æˆ– ä¸¤è€…çš„åŒºåˆ«</p></blockquote><p><code>eg.</code> ç®€ç‰ˆé‚®ç®±<code>/^\w&#123;6,12&#125;@(qq|163|sina)\.(com|cn|net)/</code></p><h4 id="å–ä¸­é—´ä»»æ„ä¸€ä¸ª"><a href="#å–ä¸­é—´ä»»æ„ä¸€ä¸ª" class="headerlink" title="[]å–ä¸­é—´ä»»æ„ä¸€ä¸ª"></a><code>[]</code>å–ä¸­é—´ä»»æ„<strong>ä¸€ä¸ª</strong></h4><p>åªèƒ½å–ä¸­æ‹¬å·å†…çš„ä¸€ä¸ªå­—ç¬¦ï¼Œæ³¨æ„å­—ç¬¦é•¿åº¦ï¼Œ<code>eg.</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[abcd]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span><span class="token keyword">const</span> str2 <span class="token operator">=</span> <span class="token string">'abcd'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><h4 id="åˆ°-è‡³"><a href="#åˆ°-è‡³" class="headerlink" title="-åˆ°..è‡³.."></a><code>-</code>åˆ°..è‡³..</h4><p><code>eg. </code> å¯¹äºæ­£åˆ™ <code>/^[a-zA-Z0-9_]$/</code>ï¼Œå­—ç¬¦<code>M</code>å°±ç¬¦åˆ.</p><h4 id="é"><a href="#é" class="headerlink" title="[^]é"></a><code>[^]</code>é</h4><p>å¯¹<code>[]</code>çš„æ­£åˆ™å–éï¼Œ<code>eg. /^[^a-z]$/</code>ï¼ŒæŒ‡é<code>a-z</code>çš„å­—ç¬¦ï¼Œé•¿åº¦ä¸º 1.</p><p>å†ç„¶åè¦è¯´çš„å°±æ˜¯æ ‡è¯†ç¬¦äº†ï¼Œå®ƒå†™åœ¨<code>//</code>çš„åé¢ï¼Œå…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š</p><h3 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h3><p><code>g</code>å…¨å±€åŒ¹é…ï¼Œ<code>i</code>å¿½ç•¥å¤§å°å†™ï¼Œ<code>eg.</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">m</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'MasnonasmsdfMasm'</span><span class="token punctuation">;</span>str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// *asnonas*sdf*as*</span></code></pre><p>å½“ç„¶æ ‡è¯†ç¬¦ä¸ä»…ä»…æ˜¯ä¸Šé¢ä»‹ç»çš„è¿™ä¸¤ä¸ªï¼Œ<a href="https://regex101.com/">https://regex101.com/</a>å¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™ä¸Šæµ‹è¯•åŠå­¦ä¹ â€¦</p><h3 id="æ­£åˆ™è¡¨è¾¾å¼åŸå‹ä¸Šçš„æ–¹æ³•"><a href="#æ­£åˆ™è¡¨è¾¾å¼åŸå‹ä¸Šçš„æ–¹æ³•" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼åŸå‹ä¸Šçš„æ–¹æ³•"></a>æ­£åˆ™è¡¨è¾¾å¼åŸå‹ä¸Šçš„æ–¹æ³•</h3><p><code>eg.</code>æ­£åˆ™è¡¨è¾¾å¼<code>reg = /xxx/</code>.</p><h4 id="å¯¹å­—ç¬¦ä¸²è¿›è¡ŒéªŒè¯"><a href="#å¯¹å­—ç¬¦ä¸²è¿›è¡ŒéªŒè¯" class="headerlink" title="å¯¹å­—ç¬¦ä¸²è¿›è¡ŒéªŒè¯"></a>å¯¹å­—ç¬¦ä¸²è¿›è¡ŒéªŒè¯</h4><p><code>reg.test(str)</code>. ç¬¦åˆè§„åˆ™å°±è¿”å›<code>true</code>å¦åˆ™è¿”å›<code>false</code>.</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'ahsjdhaabbc'</span><span class="token punctuation">;</span><span class="token keyword">const</span> res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><h4 id="æ•è·å­—ç¬¦ä¸²é‡Œé¢ç¬¦åˆè§„åˆ™çš„å†…å®¹"><a href="#æ•è·å­—ç¬¦ä¸²é‡Œé¢ç¬¦åˆè§„åˆ™çš„å†…å®¹" class="headerlink" title="æ•è·å­—ç¬¦ä¸²é‡Œé¢ç¬¦åˆè§„åˆ™çš„å†…å®¹"></a>æ•è·å­—ç¬¦ä¸²é‡Œé¢ç¬¦åˆè§„åˆ™çš„å†…å®¹</h4><p><code>reg.exec(str)</code>ç¬¬ä¸€æ¬¡æ˜¯ä»å¤´å¼€å§‹åŒ¹é…ï¼Œå¦‚æœæ‰¾åˆ°ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„ç¬¬ 0 é¡¹å°±æ˜¯æ•è·åˆ°çš„ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ï¼Œç¬¬äºŒæ¬¡åº”è¯¥ä»ç¬¬ä¸€æ¬¡ç»“æŸçš„ä½ç½®å¼€å§‹æ•è·ï¼Œå¦‚æœæ‰¾åˆ°ä¹Ÿæ˜¯è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ï¼Œå°±è¿”å›ä¸€ä¸ª<code>null</code>ï¼Œä¸‹æ¬¡æ‰§è¡Œåˆæ˜¯ä»å¤´å¼€å§‹é‡æ–°æ•è·.<del>ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰</del></p><h4 id="æ•°æ®è½¬æ¢"><a href="#æ•°æ®è½¬æ¢" class="headerlink" title="æ•°æ®è½¬æ¢"></a>æ•°æ®è½¬æ¢</h4><p><code>reg.toString()</code>å°†æ­£åˆ™è¡¨è¾¾å¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p><h3 id="å­—ç¬¦ä¸²ä¸æ­£åˆ™ç›¸å…³æ–¹æ³•"><a href="#å­—ç¬¦ä¸²ä¸æ­£åˆ™ç›¸å…³æ–¹æ³•" class="headerlink" title="å­—ç¬¦ä¸²ä¸æ­£åˆ™ç›¸å…³æ–¹æ³•"></a>å­—ç¬¦ä¸²ä¸æ­£åˆ™ç›¸å…³æ–¹æ³•</h3><h4 id="å­—ç¬¦ä¸²åŸºäºæ­£åˆ™å®Œæˆæ›¿æ¢"><a href="#å­—ç¬¦ä¸²åŸºäºæ­£åˆ™å®Œæˆæ›¿æ¢" class="headerlink" title="å­—ç¬¦ä¸²åŸºäºæ­£åˆ™å®Œæˆæ›¿æ¢"></a>å­—ç¬¦ä¸²åŸºäºæ­£åˆ™å®Œæˆæ›¿æ¢</h4><p><code>str.replace(regexp|substr, newSubStr|function)</code>. <code>regï¼š</code>ä¸€ä¸ª<code>RegExp</code>å¯¹è±¡æˆ–è€…å…¶å­—é¢é‡ï¼Œè¯¥æ­£åˆ™æ‰€åŒ¹é…çš„å†…å®¹ä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°çš„è¿”å›å€¼æ›¿æ¢æ‰<del>ï¼ˆè¯¥æ–¹æ³•çš„å…·ä½“å‚æ•°ä½¿ç”¨è¯·å‚é˜…æ–‡æ¡£ï¼Œè¿™é‡Œä»…ä»‹ç»æ­£åˆ™ç›¸å…³ï¼‰</del></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">m</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'MasnonasmsdfMasm'</span><span class="token punctuation">;</span>str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// *asnonas*sdf*as*</span></code></pre><p>å’Œ<code>replace</code>ç›¸è¿‘çš„è¿˜æœ‰<code>replaceAll</code>ï¼Œä¸å‰è€…å·®åˆ«å°±æ˜¯åè€…åŒ¹é…æ‰€æœ‰ç¬¦åˆæ­£åˆ™çš„å­ä¸²å¹¶æ›¿æ¢ï¼Œè€Œå‰è€…åˆ™éœ€è¦é€šè¿‡æŒ‡å®š<code>g</code>å‚æ•°å®ç°ã€‚</p><h4 id="æå–å­—ç¬¦ä¸²ä¸­ç¬¦åˆæ­£åˆ™çš„åŒ¹é…é¡¹"><a href="#æå–å­—ç¬¦ä¸²ä¸­ç¬¦åˆæ­£åˆ™çš„åŒ¹é…é¡¹" class="headerlink" title="æå–å­—ç¬¦ä¸²ä¸­ç¬¦åˆæ­£åˆ™çš„åŒ¹é…é¡¹"></a>æå–å­—ç¬¦ä¸²ä¸­ç¬¦åˆæ­£åˆ™çš„åŒ¹é…é¡¹</h4><p><code>str.match(reg)</code>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå°†æ‰€æœ‰ç¬¦åˆçš„å­ä¸²æå–å‡ºæ¥ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'Ma123sdf4565dsfsdf789sdf35'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d&#123;2&#125;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ["12", "45", "65", "78", "35"]</span></code></pre><h4 id="æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²å­ä¸²"><a href="#æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²å­ä¸²" class="headerlink" title="æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²å­ä¸²"></a>æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²å­ä¸²</h4><p><code>str.search(reg)</code>æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ï¼Œè¿”å›ç›¸å¯¹åº”çš„ä¸‹æ ‡ï¼Œå¦‚æœæœ‰å¤šä¸ªç¬¦åˆï¼Œé‚£ä¹ˆå°±è¿”å›ç¬¬ä¸€ä¸ªï¼Œä½œç”¨åŒ<code>indexOf</code>ï¼Œä¸è¿‡åè€…æ— æ³•ä¼ å…¥<code>reg</code>æ­£åˆ™æŸ¥æ‰¾.</p><h3 id="è´ªå©ªæ¨¡å¼å’Œéè´ªå©ªæ¨¡å¼"><a href="#è´ªå©ªæ¨¡å¼å’Œéè´ªå©ªæ¨¡å¼" class="headerlink" title="è´ªå©ªæ¨¡å¼å’Œéè´ªå©ªæ¨¡å¼"></a>è´ªå©ªæ¨¡å¼å’Œéè´ªå©ªæ¨¡å¼</h3><p>åœ¨<code>javascript</code>ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼é»˜è®¤æ˜¯è´ªå©ªæ¨¡å¼ã€‚</p><p><code>eg. </code></p><h4 id="è´ªå©ªæ¨¡å¼"><a href="#è´ªå©ªæ¨¡å¼" class="headerlink" title="è´ªå©ªæ¨¡å¼"></a>è´ªå©ªæ¨¡å¼</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// æŒ‡åŒ¹é… b å¼€å¤´ï¼Œåç»­å‡ºç° 0 -ä»»æ„æ¬¡æ•°çš„ a çš„å­ä¸²</span><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ba*</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'baaaabab'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['baaaa', 'ba', 'b']</span></code></pre><p>æ­£æ˜¯å› ä¸ºè´ªå©ªåŒ¹é…ï¼ˆå°½å¯èƒ½å¤šçš„åŒ¹é…ç¬¦å·æ¡ä»¶çš„å­ä¸²ï¼‰ï¼Œå¯¼è‡´äº†åŒ¹é…å‡ºçš„ç¬¬ä¸€é¡¹æ˜¯<code>baaaa</code>ï¼ˆä»å‰å‘ååŒ¹é…ï¼Œä¸€ç›´åˆ°åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ä¸ç¬¦åˆæ¡ä»¶æ—¶åœæ­¢ï¼‰, è€Œé<code>b</code>.</p><h4 id="éè´ªå©ªæ¨¡å¼"><a href="#éè´ªå©ªæ¨¡å¼" class="headerlink" title="éè´ªå©ªæ¨¡å¼"></a>éè´ªå©ªæ¨¡å¼</h4><p>å½“ç„¶æœ‰è´ªå©ªä¹Ÿå°±æœ‰éè´ªå©ªï¼Œå¦‚ä½•æŒ‡å®šï¼Ÿ</p><blockquote><p>ä½¿ç”¨å­—ç¬¦<code>?</code>æ ‡è¯†æ­£åˆ™ä½¿ç”¨éè´ªå©ªæ¨¡å¼è¿›è¡ŒåŒ¹é…(è¿™æ˜¯<code>?</code>çš„å¦å¤–ä¸€ç§ç”¨æ³•å«ä¹‰) <del>çœ‹ä½ æ€ä¹ˆç†è§£</del></p></blockquote><p>å¯¹ä¸Šé¢ä¾‹å­çš„æ­£åˆ™æ”¹é€ ä¸€ä¸‹ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ba*?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'baaaabab'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['b', 'b', 'b']</span></code></pre><p><code>/ba*</code>ä¸ºåŸæœ‰çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œåœ¨å…¶åæ·»åŠ <code>?</code>æŒ‡æ˜éè´ªå©ªï¼ŒåŒ¹é…åˆ°çš„ç»“æœè‡ªç„¶å°±æ˜¯<code>[&#39;b&#39;, &#39;b&#39;, &#39;b&#39;]</code>.</p><p>ä»¥ä¸ºè¿™æ ·å°±ç»“æŸäº†ï¼Ÿ<code>no no no...</code> æ­£åˆ™åœ¨åŒ¹é…æ—¶è¿˜æœ‰å¦å¤–ä¸€æ¡è§„åˆ™â€¦<strong>æ¯”è´ªå©ªè§„åˆ™çš„ä¼˜å…ˆçº§æ›´é«˜</strong>ï¼Œ<code>so</code>åœ¨ä½ ä½¿ç”¨æ—¶,å¦‚æœä¸æ³¨æ„â€¦ä½ ä¼šæ€€ç–‘è‡ªå·±çš„â€¦</p><h4 id="åŒ¹é…çš„ä¼˜å…ˆçº§"><a href="#åŒ¹é…çš„ä¼˜å…ˆçº§" class="headerlink" title="åŒ¹é…çš„ä¼˜å…ˆçº§"></a>åŒ¹é…çš„ä¼˜å…ˆçº§</h4><blockquote><p>æœ€å…ˆå¼€å§‹çš„åŒ¹é…æ‹¥æœ‰æœ€é«˜çš„ä¼˜å…ˆæƒ â€”â€” The match that begins earliest winsã€‚</p></blockquote><p>æ€ä¹ˆè§£é‡Šï¼ŒåŒ¹é…ä¼˜å…ˆåŒ¹é…å·¦è¾¹çš„<strong>ç¬¬ä¸€ä¸ªå­—ç¬¦</strong>ï¼Œç„¶åå°½å¯èƒ½å°‘çš„å»åŒ¹é…åç»­å­—ç¬¦ï¼Œè€Œä¸æ˜¯å¿½ç•¥ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå»æ‰¾ç¬¬äºŒä¸ªâ€¦ğŸ˜‹ğŸ˜‹ğŸ˜‹ <del>åŒ¹é…ç»“æœä¸ä¼šä»å·¦ä¾§ç¼©å‡å­—ç¬¦ï¼Œè€Œåªä¼šè¿›è¡Œå³ä¾§çš„æ‡’æƒ°åŒ¹é…</del> <code>eg.</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a*?b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'baaaabab'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['b', 'aaaab', 'ab']</span></code></pre><p>å¦‚æœä½ æœªç†è§£è¯¥è§„åˆ™ï¼Œé‚£ä¹ˆæŒ‰ç…§éè´ªå©ªçš„ç†è§£ï¼Œæ‰“å°çš„ç»“æœåº”è¯¥æ˜¯<code>[&#39;b&#39;, &#39;b&#39;, &#39;b&#39;]</code>ï¼Œ<strong>è¿™æ˜¯é”™è¯¯çš„</strong>.</p><p><strong>æ­£ç¡®ç»“æœ</strong>åº”è¯¥æ˜¯<code>[&#39;b&#39;, &#39;aaaab&#39;, &#39;ab&#39;]</code>.</p>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ typescript é¡¹ç›®ä¸­ä½¿ç”¨ eslint å’Œ prettier</title>
      <link href="/share/eslint-and-prettier-in-ts-project/"/>
      <url>/share/eslint-and-prettier-in-ts-project/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸ºä»€ä¹ˆæ˜¯eslintå’Œprettierï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ˜¯eslintå’Œprettierï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯eslintå’Œprettierï¼Ÿ"></a>ä¸ºä»€ä¹ˆæ˜¯<code>eslint</code>å’Œ<code>prettier</code>ï¼Ÿ</h3><blockquote><p>åœ¨<code>ESlint</code>æ¨å‡º<code>--fix</code>å‚æ•°å‰<code>ESLint</code>å¹¶æ²¡æœ‰è‡ªåŠ¨åŒ–æ ¼å¼ä»£ç çš„åŠŸèƒ½ï¼Œè¦å¯¹ä¸€äº›æ ¼å¼é—®é¢˜åšæ‰¹é‡æ ¼å¼åŒ–åªèƒ½ç”¨<code>Prettier</code>è¿™æ ·çš„å·¥å…·ã€‚å¹¶ä¸”<code>Prettier</code>åœ¨ä»£ç é£æ ¼çš„æ£€æµ‹ä¸Šæ¯”<code>ESlint</code>æ›´å…¨é¢ï¼Œæ‰€ä»¥ä¸¤è€…é€šå¸¸æ˜¯ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨çš„ã€‚</p></blockquote><blockquote><p>å¯¹<code>typescript</code>ä»£ç è¿›è¡Œ<code>linting</code>æ—¶ï¼Œæœ‰ä¸¤ä¸ªä¸»è¦çš„<code>linting</code>å·¥å…·å¯ä¾›é€‰æ‹©ï¼š<code>tslintã€eslint</code>ï¼Œ<code>tslint</code>æ˜¯ä¸€ä¸ªåªèƒ½ç”¨äº<code>typescript</code>é¡¹ç›®çš„<code>linter</code>ï¼Œè€Œ<code>eslint</code>åŒæ—¶æ”¯æŒ<code>typescriptã€javascript</code>.</p></blockquote><blockquote><p>æ®<code>typescript</code>æ ¸å¿ƒå›¢é˜Ÿè§£é‡Šï¼š<code>ESLint å…·æœ‰æ¯” TSLint æ›´é«˜æ€§èƒ½çš„æ¶æ„</code>ï¼Œå¹¶ä¸”åç»­åœ¨ä¸º<code>typescript</code>ä¸­<code>linting</code>é›†æˆæ—¶ï¼Œ<code>åªä¼šå…³æ³¨eslint</code>ï¼Œå¦å¤–å®˜æ–¹è‡ª<code>2019</code>èµ·å·²ç»å¼ƒç”¨<code>tslint</code>ï¼Œ**<a href="https://palantir.github.io/tslint/">TSLint has been deprecated as of 2019</a>**</p></blockquote><span id="more"></span><h3 id="åœ¨typescripté¡¹ç›®ä¸­æ­å»ºeslint"><a href="#åœ¨typescripté¡¹ç›®ä¸­æ­å»ºeslint" class="headerlink" title="åœ¨typescripté¡¹ç›®ä¸­æ­å»ºeslint"></a>åœ¨<code>typescript</code>é¡¹ç›®ä¸­æ­å»º<code>eslint</code></h3><blockquote><p><code>tips</code>ï¼šå¦‚æœæ˜¯<code>create-react-app</code>åˆ›å»ºçš„é¡¹ç›®ï¼Œ<code>eslint</code>å·²ç»è¢«ä½œä¸ºä¾èµ–é¡¹é›†æˆï¼Œæ— éœ€å¦å¤–å®‰è£….</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># @typescript-eslint/parser å…è®¸ ESLint å¯¹ TypeScript ä»£ç è¿›è¡Œ lint è§£æ</span><span class="token comment"># @typescript-eslint/eslint-plugin åŒ…å«ä¸€å †ç‰¹å®šäº TypeScript çš„ ESLint è§„åˆ™</span><span class="token function">yarn</span> <span class="token function">add</span> -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin</code></pre><p><code>then..</code>åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ <code>.eslintrc.js</code>çš„é…ç½®æ–‡ä»¶ï¼Œ<code>eg</code>ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">'@typescript-eslint/parser'</span><span class="token punctuation">,</span> <span class="token comment">// Specifies the ESLint parser</span>  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'plugin:@typescript-eslint/recommended'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token number">2020</span><span class="token punctuation">,</span> <span class="token comment">// Allows for the parsing of modern ECMAScript features</span>    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token comment">// Allows for the use of imports</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">'plugin:@typescript-eslint/recommended'</span><span class="token punctuation">,</span> <span class="token comment">// Uses the recommended rules from the @typescript-eslint/eslint-plugin</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Place to specify ESLint rules. Can be used to overwrite rules specified from the extended configs</span>    <span class="token string-property property">'no-console'</span><span class="token operator">:</span>      process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span>        <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">allow</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>        <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">allow</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-debugger'</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'warn'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>    <span class="token comment">// -----</span>    <span class="token comment">// é…ç½® unused-imports è§„åˆ™éœ€è¦å•ç‹¬å®‰è£…æ’ä»¶ yarn add -D eslint-plugin-unused-imports ç„¶ååœ¨æœ€å¤–å±‚æ·»åŠ é…ç½®é¡¹ plugins: ['unused-imports']</span>    <span class="token comment">// 'unused-imports/no-unused-imports': 'error',</span>    <span class="token comment">// -----</span>    <span class="token comment">// typescript configs e.g.</span>    <span class="token string-property property">'@typescript-eslint/no-unused-vars'</span><span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>    <span class="token string-property property">'@typescript-eslint/explicit-function-return-type'</span><span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>    <span class="token string-property property">'@typescript-eslint/no-explicit-any'</span><span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>    <span class="token string-property property">'@typescript-eslint/consistent-type-imports'</span><span class="token operator">:</span> <span class="token string">'warn'</span><span class="token punctuation">,</span>    <span class="token string-property property">'@typescript-eslint/explicit-module-boundary-types'</span><span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>    <span class="token string-property property">'@typescript-eslint/no-empty-function'</span><span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>    <span class="token string-property property">'@typescript-eslint/no-non-null-assertion'</span><span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>    <span class="token string-property property">'@typescript-eslint/no-this-alias'</span><span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><blockquote><p>å¦‚æœåœ¨<code>reactçš„ts</code>é …ç›®ä¸­ä½¿ç”¨ï¼Œå¦å¤–å®‰è£… <code>eslint-plugin-react dev</code>ä¾èµ–é¡¹ï¼Œå¹¶åœ¨ä¸Šé¢é…ç½®çš„<code>.eslintrc</code>ä¸­æ·»åŠ é…ç½®ï¼š</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ... others</span>  <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">react</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">'detect'</span><span class="token punctuation">,</span> <span class="token comment">// Tells eslint-plugin-react to automatically detect the version of React to use</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ... others</span>    <span class="token literal-property property">ecmaFeatures</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">jsx</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Allows for the parsing of JSX</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token comment">// ... others</span>    <span class="token string">'plugin:react/recommended'</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥é…ç½®<code>eslint</code>çš„<code>ignore</code>æ–‡ä»¶<code>.eslintignore</code>ï¼Œç¬¦åˆå…¶é…ç½®è§„åˆ™ï¼ˆè¯­æ³•åŒå…¶ä»–çš„<code>ignore</code>é…ç½®ï¼Œå¦‚<code>.gitignore</code>ï¼‰çš„æ–‡ä»¶å°†å¿½ç•¥<code>lint</code>æ£€æµ‹ã€‚</p><p>ğŸ˜ğŸ˜ğŸ˜<a href="https://eslint.org/docs/latest/">æŸ¥çœ‹æ›´å¤šçš„é…ç½®é¡¹åŠè§„åˆ™</a> -&gt; <a href="http://eslint.cn/docs/rules/">ä¸­æ–‡æ–‡æ¡£</a></p><h3 id="æ··å…¥prettieré…ç½®"><a href="#æ··å…¥prettieré…ç½®" class="headerlink" title="æ··å…¥prettieré…ç½®"></a>æ··å…¥<code>prettier</code>é…ç½®</h3><blockquote><p>æ··ç”¨åï¼Œå°±å¯ä»¥é€šè¿‡ eslint â€“fix æ¥è‡ªåŠ¨ä¿®å¤ä¸ç¬¦åˆ prettier è§„åˆ™çš„ä»£ç </p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># eslint-config-prettier ç¦ç”¨å¯èƒ½ä¸ prettier å†²çªçš„ ESLint è§„åˆ™</span><span class="token comment"># eslint-plugin-prettier å°† prettier ä½œä¸º eslint è§„åˆ™è¿è¡Œ</span><span class="token function">yarn</span> <span class="token function">add</span> -D prettier eslint-config-prettier eslint-plugin-prettier</code></pre><p>æ¥ä¸‹æ¥åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª<code>.prettierrc</code>æ–‡ä»¶ï¼Œç”¨ä»¥é…ç½®<code>prettier</code>ï¼Œ<code>eg:</code></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"singleQuote"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token property">"trailingComma"</span><span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>  <span class="token property">"printWidth"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>  <span class="token property">"arrowParens"</span><span class="token operator">:</span> <span class="token string">"always"</span><span class="token punctuation">&#125;</span></code></pre><p>ç»§ç»­â€¦åœ¨åŸæœ‰çš„é…ç½®åŸºç¡€ä¸Šï¼Œæ›´æ–°<code>.eslintrc.js</code>é…ç½®ï¼Œç”¨ä»¥æ”¯æŒæ··ç”¨ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ... others</span>  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token comment">// ... others</span>    <span class="token comment">// ç¡®ä¿æ·»åŠ çš„ 'plugin:prettier/recommended' åœ¨ extends é…ç½®çš„æœ€åä¸€é¡¹</span>    <span class="token string">'plugin:prettier/recommended'</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
            <tag> eslint </tag>
            
            <tag> prettier </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºhuskyå’Œcommitlintå®ç°gitæäº¤è§„èŒƒæ ¡éªŒ</title>
      <link href="/share/git-precommit-and-commitmsg-hooks/"/>
      <url>/share/git-precommit-and-commitmsg-hooks/</url>
      
        <content type="html"><![CDATA[<h3 id="Beforeâ€¦"><a href="#Beforeâ€¦" class="headerlink" title="Beforeâ€¦"></a>Beforeâ€¦</h3><p><code>husky</code>åœ¨å‰ç«¯å·¥ç¨‹åŒ–çš„è¿‡ç¨‹ä¸­å¯ä»¥è¯´æ˜¯å¿…ä¸å¯å°‘ï¼Œ<code>why?</code> å®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­æ›´åŠ æ–¹ä¾¿çš„å»ä½¿ç”¨<code>git hooks</code>ï¼Œè€Œéä¼ ç»Ÿæ„ä¹‰ä¸Šçš„<code>.git/hooks</code>ä¸‹ç¼–è¾‘ä¿®æ”¹ã€‚</p><p><code>git hooks</code>åˆ™æ˜¯<code>git</code>åœ¨è§¦å‘æŸä¸ªé‡è¦æ“ä½œæ—¶è‡ªåŠ¨æ‰§è¡Œçš„è„šæœ¬ï¼Œæœ¬æ–‡ä¸»è¦å›´ç»•<code>commit-msg and pre-commit</code>ä»‹ç»ã€‚<a href="https://git-scm.com/docs/githooks">äº†è§£æ›´å¤š</a></p><span id="more"></span><h3 id="husky-6â†‘å·¥ä½œåŸç†"><a href="#husky-6â†‘å·¥ä½œåŸç†" class="headerlink" title="husky@6â†‘å·¥ä½œåŸç†"></a><code>husky@6â†‘</code>å·¥ä½œåŸç†</h3><blockquote><p><code>husky@6</code>æ”¾å¼ƒäº†åŸæœ‰çš„é…ç½®æ–¹å¼ï¼ˆåˆ›å»ºæ‰€æœ‰ç±»å‹çš„<code>git hooks</code>ï¼Œæ–¹ä¾¿ç”¨æˆ·è®¾ç½®ä»»ä½•ç±»å‹é’©å­éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼‰ã€‚æ–°ç‰ˆæœ¬æ”¾å¼ƒäº†ä½¿ç”¨é»˜è®¤çš„<code>.git/hooks</code>ï¼Œè€Œæ˜¯æ ¹æ®<code>git@2.9</code>æä¾›çš„æ–°ç‰¹æ€§<code>core.hooksPath</code>æŒ‡å®šäº†<code>hooks</code>æ‰€åœ¨çš„ç›®å½•<code>.husky/</code>ï¼Œå®ç°åªæ·»åŠ ç”¨æˆ·æƒ³è¦çš„<code>hooks</code></p></blockquote><blockquote><p><del>æ—¢ç„¶çŸ¥é“äº†æ–°ç‰ˆæœ¬çš„ç ´åæ€§å˜æ›´ï¼Œä»¥åŠå…¶åŸç†ï¼Œé‚£è‚¯å®šé€‰æ‹©ç”¨æ–°ç‰ˆæœ¬ã€‚ç›®å‰æœ€æ–°ç‰ˆå·²ç»åˆ°<code>8.0.1</code>äº†.</del></p></blockquote><h3 id="æ–°ç‰ˆhuskyä½¿ç”¨"><a href="#æ–°ç‰ˆhuskyä½¿ç”¨" class="headerlink" title="æ–°ç‰ˆhuskyä½¿ç”¨"></a><strong>æ–°ç‰ˆ<code>husky</code>ä½¿ç”¨</strong></h3><h4 id="å®‰è£…husky"><a href="#å®‰è£…husky" class="headerlink" title="å®‰è£…husky"></a>å®‰è£…<code>husky</code></h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> -D husky</code></pre><h4 id="å¸è½½husky"><a href="#å¸è½½husky" class="headerlink" title="å¸è½½husky"></a>å¸è½½<code>husky</code></h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> remove husky<span class="token function">git</span> config --unset core.hooksPath</code></pre><h4 id="åˆå§‹åŒ–husky"><a href="#åˆå§‹åŒ–husky" class="headerlink" title="åˆå§‹åŒ–husky"></a>åˆå§‹åŒ–<code>husky</code></h4><pre class="language-bash" data-language="bash"><code class="language-bash">npx husky <span class="token function">install</span><span class="token comment"># æˆ–è€…æ·»åŠ  prepare è„šæœ¬å‘½ä»¤</span><span class="token function">npm</span> set-script prepare <span class="token string">"husky install"</span><span class="token function">yarn</span> prepare<span class="token comment"># install åˆ°æŒ‡å®šçš„ç›®å½•</span>npx husky <span class="token function">install</span> .config/husky</code></pre><h4 id="åˆ›å»ºhooks"><a href="#åˆ›å»ºhooks" class="headerlink" title="åˆ›å»ºhooks"></a>åˆ›å»º<code>hooks</code></h4><blockquote><p>è¯­æ³•ï¼š<code>husky add &lt;file&gt; [cmd]</code></p></blockquote><p><code>eg.</code></p><pre class="language-bash" data-language="bash"><code class="language-bash">husky <span class="token function">add</span> .husky/pre-commit <span class="token string">'eslint'</span></code></pre><h4 id="ç»•è¿‡é’©å­"><a href="#ç»•è¿‡é’©å­" class="headerlink" title="ç»•è¿‡é’©å­"></a>ç»•è¿‡é’©å­</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ·»åŠ  --no-verify eg.</span><span class="token function">git</span> commit -m <span class="token string">"test"</span> --no-verify</code></pre><h4 id="ç®€å•ä¸¾ä¾‹"><a href="#ç®€å•ä¸¾ä¾‹" class="headerlink" title="ç®€å•ä¸¾ä¾‹"></a>ç®€å•ä¸¾ä¾‹</h4><h5 id="æ·»åŠ pre-commité’©å­ï¼š"><a href="#æ·»åŠ pre-commité’©å­ï¼š" class="headerlink" title="æ·»åŠ pre-commité’©å­ï¼š"></a>æ·»åŠ <code>pre-commit</code>é’©å­ï¼š</h5><p>é€šè¿‡<code>husky add</code>é’©å­æ·»åŠ çš„<code>cmd</code>åœ¨åˆ›å»ºåä½œä¸ºåˆå§‹çš„è„šæœ¬å‘½ä»¤ï¼Œä½ å¯ä»¥å¯¹å…¶åšä»»ä½•ä¿®æ”¹ã€‚<del>æ„å‘³ç€åˆ›å»ºçš„æ—¶å€™å¯ä»¥ä¸åŠ  ğŸ˜ŠğŸ˜ŠğŸ˜Š</del></p><p><code>eg.</code>å½“è§¦å‘<code>pre-commit</code>çš„æ—¶å€™ï¼Œå¯¹ä»£ç æ‰§è¡Œ<code>lint</code>è„šæœ¬æ£€æŸ¥ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">npx husky <span class="token function">add</span> .husky/pre-commit <span class="token string">'npm run lint'</span><span class="token comment"># or å¦‚æœä½ çš„é¡¹ç›®ä½¿ç”¨äº†è„šæ‰‹æ¶çš„ lintï¼Œä¾‹å¦‚ vue-cli-service...</span><span class="token function">npm</span> set-script lint <span class="token string">"vue-cli-service lint"</span></code></pre><blockquote><p>é’©å­é‡Œé…ç½®çš„<code>npm run lint</code>ï¼Œè¯·ç¡®è®¤ä½ çš„é¡¹ç›®å·²ç»åŒ…å«äº†<code>lint</code>æ ¡éªŒé…ç½®ï¼Œå¹¶è‡ªè¡Œå®‰è£…<code>devDependencies</code>ã€‚<del>åªæ˜¯ä¸ªæ —å­ï¼Œä¸ä¸€å®šå°±æ˜¯åš<code>lint</code>æ ¡éªŒ â¤â¤â¤</del> æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p></blockquote><p><a href="/images/share/git-precommit-and-commitmsg-hooks/p1.png"><img src="/images/share/git-precommit-and-commitmsg-hooks/p1.png" alt="git-precommit-and-commitmsg-hooks-p1" loading="lazy"></a><br><a href="/images/share/git-precommit-and-commitmsg-hooks/p2.png"><img src="/images/share/git-precommit-and-commitmsg-hooks/p2.png" alt="git-precommit-and-commitmsg-hooks-p2" loading="lazy"></a></p><h3 id="pre-commitæ­é…lint-staged"><a href="#pre-commitæ­é…lint-staged" class="headerlink" title="pre-commitæ­é…lint-staged"></a><code>pre-commit</code>æ­é…<code>lint-staged</code></h3><p>ä¸Šé¢åªæ˜¯ä¸¾äº†ä¸€ä¸ªæ —å­â€¦<code>pre-commit</code>çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥åšå¾—åˆ°äº‹æƒ…æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚æ‰§è¡Œæµ‹è¯•è„šæœ¬â€¦</p><p><strong>Butâ€¦æ¯æ¬¡è§¦å‘ pre-commit éƒ½å¯¹æ‰€æœ‰çš„æ–‡ä»¶æ‰§è¡Œ lintï¼Œå±å®æ˜¯æœ‰ä¸€ç‚¹ç‚¹æ¶è¶£å‘³äº†ï¼Œè¿™é‡Œä½¿ç”¨ lint-staged å·¥å…·åšä¸€ç‚¹ä¼˜åŒ–.</strong> <del>å¦‚æœä½ ä¸ä»‹æ„â€¦å¯ä»¥è·³è¿‡ä¸‹é¢çš„<code>lint-staged</code>ğŸ˜¢ğŸ˜¢ğŸ˜¢</del></p><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> -D lint-staged</code></pre><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>åœ¨é¡¹ç›®çš„<code>package.json</code>ä¸­æ·»åŠ ï¼š</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token comment">// é…ç½®æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªå€¼éƒ½æ˜¯è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå…¶é”®è¦ç”¨äºæ­¤å‘½ä»¤çš„ glob æ¨¡å¼ï¼Œå€¼ï¼ˆcmdï¼‰å¯ä»¥æ˜¯æ•°ç»„ï¼Œå¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ™æŒ‰é¡ºåºè¿è¡Œå‘½ä»¤ã€‚</span>  <span class="token comment">// ç”šè‡³æ”¯æŒé…ç½®æˆå‡½æ•°ï¼š(filenames: string[]) => string | string[] | Promise&lt;string | string[]></span>  <span class="token comment">// eg. '**/*.js?(x)': filenames => filenames.map(filename => `prettier --write '$&#123;filename&#125;'`)</span>  <span class="token property">"lint-staged"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ä¾‹å¦‚æ­¤é…ç½®ï¼šé€šè¿‡ eslint å·¥å…·æ£€æµ‹ ä¿®å¤æäº¤çš„ .js .vue .ts çš„é”™è¯¯é¡¹ï¼Œç„¶åæ·»åŠ åˆ°æš‚å­˜åŒº</span>    <span class="token property">"**/*.&#123;js,vue,ts&#125;"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"eslint --fix"</span><span class="token punctuation">,</span> <span class="token string">"git add ."</span><span class="token punctuation">]</span>    <span class="token comment">// ä½ ä¹Ÿå¯ä»¥åªæ˜¯æäº¤å‰æ£€æµ‹</span>    <span class="token comment">// "**/*.&#123;js,vue,ts&#125;": "eslint"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>æäº¤å‰ä¼šè‡ªåŠ¨é¡ºåºæ‰§è¡Œ<code>cmd</code>ã€‚ä¾‹å¦‚ä¸Šé¢é…ç½®ï¼Œä¼šå…ˆ<code>eslint --fix</code>å°è¯•ä¿®å¤ï¼Œä¿®å¤æˆåŠŸæ‰§è¡Œ<code>add</code>æ“ä½œï¼Œä¿®å¤å¤±è´¥æŠ›å‡ºå¼‚å¸¸ï¼Œæ­¤æ—¶éœ€è¦æ‰‹åŠ¨ä¿®å¤ï¼Œç„¶åå†æäº¤ã€‚</p></blockquote><p>ä¿®æ”¹<code>.husky/pre-commit</code>é’©å­ï¼Œæ”¹ç”¨<code>lint-staged</code>ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ‰“å¼€ .husky/pre-commit æ–‡ä»¶ï¼Œä¿®æ”¹ä¹‹å‰ç”Ÿæˆçš„ cmd</span>npx lint-staged<span class="token comment"># or é…ç½® lint-staged è„šæœ¬</span><span class="token function">npm</span> run lint-staged<span class="token comment"># &#123;</span><span class="token comment">#   "scripts": &#123;</span><span class="token comment">#     "lint-staged": "lint-staged"</span><span class="token comment">#   &#125;</span><span class="token comment"># &#125;</span></code></pre><p><a href="https://github.com/okonet/lint-staged">äº†è§£æ›´å¤š<code>lint-staged</code></a></p><p>é™¤äº†åœ¨<code>commit</code>ä¹‹å‰æ·»åŠ ä»£ç æ ¡éªŒå¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æäº¤çš„<code>message(-m)</code>ä½œè§„èŒƒçº¦æŸã€‚å¦‚ä½•åšï¼Ÿå¾€ä¸‹çœ‹ â†“</p><h3 id="commit-msgæ­é…commitlint"><a href="#commit-msgæ­é…commitlint" class="headerlink" title="commit-msgæ­é…commitlint"></a><code>commit-msg</code>æ­é…<code>commitlint</code></h3><p><code>commit-msg</code>æ˜¯<code>git</code>æäº¤æ—¶æ ¡éªŒæäº¤ä¿¡æ¯çš„é’©å­ï¼ˆæ­¤æ—¶ç”±<code>husky</code>æ¥æŒ‡å®šï¼‰ï¼Œå½“è§¦å‘æ—¶ä¾¿ä¼šä½¿ç”¨<code>commitlit</code>æ¥æ ¡éªŒã€‚å®‰è£…é…ç½®å®Œæˆåï¼Œæƒ³é€šè¿‡<code>git commit</code>æˆ–è€…å…¶å®ƒç¬¬ä¸‰æ–¹å·¥å…·æäº¤æ—¶ï¼Œåªè¦æäº¤ä¿¡æ¯ï¼ˆ<code>-m</code>æŒ‡å®šçš„<code>message</code>ï¼‰ä¸ç¬¦åˆè§„èŒƒå°±æ— æ³•æäº¤ï¼Œå¹¶æç¤ºã€‚</p><blockquote><p>çº¦å®šæ ¼å¼ï¼š git commit -m &lt;type&gt;[optional scope]: &lt;description&gt;</p></blockquote><h4 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> -D @commitlint/cli @commitlint/config-conventional</code></pre><h4 id="é…ç½®commmitlint"><a href="#é…ç½®commmitlint" class="headerlink" title="é…ç½®commmitlint"></a>é…ç½®<code>commmitlint</code></h4><p><a href="https://github.com/conventional-changelog/commitlint/blob/master/%40commitlint/config-conventional/index.js">æ›´å¤šé…ç½®é¡¹å‚è€ƒ</a></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// commmitlint.config.js or .commmitlintrc.js</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@commitlint/config-conventional'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// rulesï¼škvç»„æˆçš„å¯¹è±¡ï¼Œeg. 'name:[0, 'always', 72]'</span>  <span class="token comment">// æ•°ç»„ä¸­ç¬¬ä¸€ä½ä¸º levelï¼Œå¯é€‰0,1,2ï¼Œ0ä¸ºdisableï¼Œ1ä¸ºwarningï¼Œ2ä¸ºerror</span>  <span class="token comment">// ç¬¬äºŒä½ä¸ºåº”ç”¨ä¸å¦ï¼Œå¯é€‰ always|never</span>  <span class="token comment">// ç¬¬ä¸‰ä½è¯¥ rule çš„å€¼</span>  <span class="token comment">// rules: &#123;&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><p>ç„¶åæ·»åŠ <code>husky</code>çš„<code>commit-msg</code>é’©å­ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">npx husky <span class="token function">add</span> .husky/commit-msg <span class="token string">'npx --no-install commitlint -e'</span></code></pre><p>è²Œä¼¼å·²ç»å¾ˆå®Œç¾äº†ï¼Œ<code>emmm~~</code>ä½†å¼€å§‹å¯¹è§„èŒƒä½¿ç”¨ä¸ç†Ÿæ‚‰çš„ç«¥é‹ï¼Œå¯èƒ½ä¸å¤ªå‹å¥½â€¦æˆ‘ä¸‹é¢æ·»åŠ äº†<code>commitizen</code>ä¼˜åŒ–æ–¹æ¡ˆä½¿ç”¨ï¼Œä¸éœ€è¦å¯ä»¥è·³è¿‡ ğŸ˜ŒğŸ˜ŒğŸ˜Œ</p><h4 id="é…ç½®commitizen"><a href="#é…ç½®commitizen" class="headerlink" title="é…ç½®commitizen"></a>é…ç½®<code>commitizen</code></h4><p><code>commitizen</code>å¯ä»¥è®©ç”¨æˆ·é€šè¿‡ç•Œé¢åŒ–é—®ç­”çš„æ–¹å¼å®Œæˆæäº¤ä¿¡æ¯çš„å½•å…¥ï¼Œå¹¶ç”±ç”¨æˆ·å†³å®šæ˜¯å¦æ¨é€ï¼ˆè¿™ä¸ªè¿‡ç¨‹ä»…ç›¸å½“äºå‘½ä»¤<code>git commit -m &#39;xxx&#39;</code>ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> -D commitizen cz-conventional-changelog</code></pre><p>é…ç½®<code>commitizen</code>å¹¶æ·»åŠ <code>commit</code>ä¸º<code>npm script</code>ï¼š</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token comment">// ...</span>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// cz æœ¬è´¨å°±æ˜¯ commitizen ä¸€æ®µçŸ­å‘½ä»¤ï¼Œä»£æ›¿ git commit ç”Ÿæˆä¸“ä¸šçš„ commit-message</span>    <span class="token property">"commit"</span><span class="token operator">:</span> <span class="token string">"git-cz"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"config"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"commitizen"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"cz-conventional-changelog"</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>åç»­<code>commit</code>ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>yarn commit</code>è¿›è¡Œ<code>commit</code>ï¼Œå…¶ä¼šè‡ªåŠ¨åšå‡ºå¦‚ä¸‹æç¤ºï¼š</p><p><a href="/images/share/git-precommit-and-commitmsg-hooks/p3.png"><img src="/images/share/git-precommit-and-commitmsg-hooks/p3.png" alt="git-precommit-and-commitmsg-hooks-p3" loading="lazy"></a></p><div class="warning"><blockquote><p>å› ä¸ºä½ ï¼Œæˆ‘çš„å¿ƒè„æ€»æ˜¯å¿™ä¸ªä¸åœ</p></blockquote></div>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> husky </tag>
            
            <tag> git-hooks </tag>
            
            <tag> commitlint </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨æµè§ˆå™¨ä¸Šæ›´è½»æ¾çš„é˜…è¯» github æºç </title>
      <link href="/posts/github-code-read/"/>
      <url>/posts/github-code-read/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å·ç§°åªéœ€è¦<code>1s</code>ï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸Šä½¿ç”¨<code>vscode</code>é˜…è¯»<code>Github</code>ä»£ç . <del>å½“ç„¶<code>vscode</code>çš„å¿«æ·é”®ä¹Ÿæ˜¯æ”¯æŒçš„.</del></p></blockquote><h3 id="æ•ˆæœå±•ç¤º"><a href="#æ•ˆæœå±•ç¤º" class="headerlink" title="æ•ˆæœå±•ç¤º"></a>æ•ˆæœå±•ç¤º</h3><p><a href="/images/posts/github-code-read/p1.png"><img src="/images/posts/github-code-read/p1.png" alt="github-code-read-p1" loading="lazy"></a></p><span id="more"></span><h3 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h3><h4 id="åœ¨github-comçš„githubåæ·»åŠ 1sï¼Œç„¶åå›è½¦"><a href="#åœ¨github-comçš„githubåæ·»åŠ 1sï¼Œç„¶åå›è½¦" class="headerlink" title="åœ¨github.comçš„githubåæ·»åŠ 1sï¼Œç„¶åå›è½¦"></a>åœ¨<code>github.com</code>çš„<code>github</code>åæ·»åŠ <code>1s</code>ï¼Œç„¶åå›è½¦</h4><p><code>eg. https://github1s.com/conwnet/github1s/blob/HEAD/extensions/vlang-web/snippets/snippets.json</code></p><p>é¡¹ç›®æºç åœ°å€ï¼š<a href="https://github.com/conwnet/github1s">https://github.com/conwnet/github1s</a></p><h4 id="å°†github-comçš„comæ”¹ä¸ºdevï¼Œç„¶åå›è½¦"><a href="#å°†github-comçš„comæ”¹ä¸ºdevï¼Œç„¶åå›è½¦" class="headerlink" title="å°†github.comçš„comæ”¹ä¸ºdevï¼Œç„¶åå›è½¦"></a>å°†<code>github.com</code>çš„<code>com</code>æ”¹ä¸º<code>dev</code>ï¼Œç„¶åå›è½¦</h4><blockquote><p>æˆ–è€…ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å¿«æ·é”® . å®Œæˆæ›¿æ¢å¹¶æ‰“å¼€ <code>eg. https://github.dev/vuejs/vue</code></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ”¶è—å®‰åˆ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git-commit æ·»åŠ emojiçš„messageæ˜¾ç¤º</title>
      <link href="/posts/git-commit-emoji/"/>
      <url>/posts/git-commit-emoji/</url>
      
        <content type="html"><![CDATA[<h3 id="å…ˆçœ‹æ•ˆæœ"><a href="#å…ˆçœ‹æ•ˆæœ" class="headerlink" title="å…ˆçœ‹æ•ˆæœ"></a>å…ˆçœ‹æ•ˆæœ</h3><p><a href="/images/posts/git-commit-emoji/p1.png"><img src="/images/posts/git-commit-emoji/p1.png" alt="git-commit-emoji-p1" loading="lazy"></a></p><span id="more"></span><blockquote><p>åœ¨æ‰§è¡Œ<code>git commit</code>çš„æ—¶å€™ï¼Œä¸ºè¿™æ¬¡å†…å®¹æäº¤æ‰“ä¸Šæ ‡è®°ï¼ˆä»… emoji æ˜¾ç¤ºï¼‰,å‡¸æ˜¾æ­¤æ¬¡æäº¤çš„å†…å®¹ä¸»ä½“ç±»å‹ï¼Œä¹Ÿä½¿å¾—åœ¨æ•´ä¸ªå†å²æäº¤ä¸­æ˜“äºåŒºåˆ†æŸ¥æ‰¾ã€‚</p></blockquote><blockquote><p>å½“ç„¶ï¼Œè¿™ç§<code>emoji</code>çš„ä»£ç å¹¶ä¸å¼ºåˆ¶ä½¿ç”¨ <del>å¯ä»¥ä¸ç”¨ï¼Œä½†ä¸èƒ½ä¸çŸ¥é“</del></p></blockquote><h3 id="æ ¼å¼è§„èŒƒ"><a href="#æ ¼å¼è§„èŒƒ" class="headerlink" title="æ ¼å¼è§„èŒƒ"></a>æ ¼å¼è§„èŒƒ</h3><p><code>:code:</code><strong>æ³¨æ„è¿™é‡Œçš„å†’å·æ˜¯è‹±æ–‡ï¼Œä¸”ä¸ code ä¹‹é—´æ²¡æœ‰ç©ºæ ¼</strong>.</p><p><code>eg.</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> commit -m <span class="token string">':bug: ä¿®å¤äº†xxxåŠŸèƒ½'</span><span class="token function">git</span> commit -m <span class="token string">':xxx: :xxx: å®Œæˆäº†ä¸€ç³»åˆ—åŠŸèƒ½'</span></code></pre><h3 id="emojiä»£ç "><a href="#emojiä»£ç " class="headerlink" title="emojiä»£ç "></a><code>emoji</code>ä»£ç </h3><table><thead><tr><th>emoji</th><th>emoji ä»£ç </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>:art:</code> (è°ƒè‰²æ¿)</td><td><code>:art:</code></td><td>æ”¹è¿›ä»£ç ç»“æ„&#x2F;ä»£ç æ ¼å¼</td></tr><tr><td><code>:zap:</code> (é—ªç”µ) <code>:racehorse:</code> (èµ›é©¬)</td><td><code>:zap :racehorse:</code></td><td>æå‡æ€§èƒ½</td></tr><tr><td><code>:fire:</code> (ç«ç„°)</td><td><code>:fire:</code></td><td>ç§»é™¤ä»£ç æˆ–æ–‡ä»¶</td></tr><tr><td><code>:bug:</code> (bug)</td><td><code>:bug:</code></td><td>ä¿®å¤ bug</td></tr><tr><td><code>:ambulance:</code> (æ€¥æ•‘è½¦)</td><td><code>:ambulance:</code></td><td>é‡è¦è¡¥ä¸</td></tr><tr><td><code>:sparkles:</code> (ç«èŠ±)</td><td><code>:sparkles:</code></td><td>å¼•å…¥æ–°åŠŸèƒ½</td></tr><tr><td><code>:memo:</code> (å¤‡å¿˜å½•)</td><td><code>:memo:</code></td><td>æ’°å†™æ–‡æ¡£</td></tr><tr><td><code>:rocket:</code> (ç«ç®­)</td><td><code>:rocket:</code></td><td>éƒ¨ç½²åŠŸèƒ½</td></tr><tr><td><code>:lipstick:</code> (å£çº¢)</td><td><code>:lipstick:</code></td><td>æ›´æ–° UI å’Œæ ·å¼æ–‡ä»¶</td></tr><tr><td><code>:tada:</code> (åº†ç¥)</td><td><code>:tada:</code></td><td>åˆæ¬¡æäº¤</td></tr><tr><td><code>:white_check_mark:</code> (ç™½è‰²å¤é€‰æ¡†)</td><td><code>:white_check_mark:</code></td><td>å¢åŠ æµ‹è¯•</td></tr><tr><td><code>:lock:</code> (é”)</td><td><code>:lock:</code></td><td>ä¿®å¤å®‰å…¨é—®é¢˜</td></tr><tr><td><code>:apple:</code> (è‹¹æœ)</td><td><code>:apple:</code></td><td>ä¿®å¤ macOS ä¸‹çš„é—®é¢˜</td></tr><tr><td><code>:penguin:</code> (ä¼é¹…)</td><td><code>:penguin:</code></td><td>ä¿®å¤ Linux ä¸‹çš„é—®é¢˜</td></tr><tr><td><code>:checkered_flag:</code> (æ——å¸œ)</td><td><code>:checked_flag:</code></td><td>ä¿®å¤ Windows ä¸‹çš„é—®é¢˜</td></tr><tr><td><code>:bookmark:</code> (ä¹¦ç­¾)</td><td><code>:bookmark:</code></td><td>å‘è¡Œ&#x2F;ç‰ˆæœ¬æ ‡ç­¾</td></tr><tr><td><code>:rotating_light:</code> (è­¦è½¦ç¯)</td><td><code>:rotating_light:</code></td><td>ç§»é™¤ linter è­¦å‘Š</td></tr><tr><td><code>:construction:</code> (æ–½å·¥)</td><td><code>:construction:</code></td><td>å·¥ä½œè¿›è¡Œä¸­</td></tr><tr><td><code>:green_heart:</code> (ç»¿å¿ƒ)</td><td><code>:green_heart:</code></td><td>ä¿®å¤ CI æ„å»ºé—®é¢˜</td></tr><tr><td><code>:arrow_down:</code> (ä¸‹é™ç®­å¤´)</td><td><code>:arrow_down:</code></td><td>é™çº§ä¾èµ–</td></tr><tr><td><code>:arrow_up:</code> (ä¸Šå‡ç®­å¤´)</td><td><code>:arrow_up:</code></td><td>å‡çº§ä¾èµ–</td></tr><tr><td><code>:construction_worker:</code> (å·¥äºº)</td><td><code>:construction_worker:</code></td><td>æ·»åŠ  CI æ„å»ºç³»ç»Ÿ</td></tr><tr><td><code>:chart_with_upwards_trend:</code> (ä¸Šå‡è¶‹åŠ¿å›¾)</td><td><code>:chart_with_upwards_trend:</code></td><td>æ·»åŠ åˆ†ææˆ–è·Ÿè¸ªä»£ç </td></tr><tr><td><code>:hammer:</code> (é”¤å­)</td><td><code>:hammer:</code></td><td>é‡å¤§é‡æ„</td></tr><tr><td><code>:heavy_minus_sign:</code> (å‡å·)</td><td><code>:heavy_minus_sign:</code></td><td>å‡å°‘ä¸€ä¸ªä¾èµ–</td></tr><tr><td><code>:heavy_plus_sign:</code> (åŠ å·)</td><td><code>:heavy_plug_sign:</code></td><td>å¢åŠ ä¸€ä¸ªä¾èµ–</td></tr><tr><td><code>:whale:</code> (é²¸é±¼)</td><td><code>:whale:</code></td><td>Docker ç›¸å…³å·¥ä½œ</td></tr><tr><td><code>:wrench:</code> (æ‰³æ‰‹)</td><td><code>:wrench:</code></td><td>ä¿®æ”¹é…ç½®æ–‡ä»¶</td></tr><tr><td><code>:globe_with_meridians:</code> (åœ°çƒ)</td><td><code>:globe_with_meridians:</code></td><td>å›½é™…åŒ–ä¸æœ¬åœ°åŒ–</td></tr><tr><td><code>:pencil2:</code> (é“…ç¬”)</td><td><code>:pencil2:</code></td><td>ä¿®å¤ typo</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ”¶è—å®‰åˆ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> emoji </tag>
            
            <tag> git-commit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git ä½¿ç”¨è¿‡ç¨‹ä¸­çš„è¸©å‘è®°å½•</title>
      <link href="/bugs/git-errors/"/>
      <url>/bugs/git-errors/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç”¨äºè®°å½•ç”±äº<code>git</code>çš„ä¸è§„èŒƒä½¿ç”¨<code>or</code>å…¶ä»–é—®é¢˜å¯¼è‡´çš„<strong>é”™è¯¯å’Œå¥‡æ€ªç°è±¡</strong>ï¼ŒåŠå…¶å®é™…è§£å†³æ–¹æ¡ˆæ±‡æ€»ã€‚</p></blockquote><span id="more"></span><h3 id="åˆ†æ”¯ä¿¡æ¯ä¸åŒæ­¥"><a href="#åˆ†æ”¯ä¿¡æ¯ä¸åŒæ­¥" class="headerlink" title="åˆ†æ”¯ä¿¡æ¯ä¸åŒæ­¥"></a>åˆ†æ”¯ä¿¡æ¯ä¸åŒæ­¥</h3><blockquote><p>ç”¨æˆ·<code>A</code>åˆ é™¤äº†æœ¬åœ°åŠè¿œç¨‹çš„æŸåˆ†æ”¯<code>fz</code>åï¼Œç”¨æˆ·<code>B</code>æ‰§è¡Œ<code>git branch -a</code>ä¾æ—§èƒ½å¤Ÿçœ‹åˆ°è¯¥åˆ†æ”¯.</p></blockquote><p>å°½ç®¡ç”¨æˆ·<code>B</code>æ‰§è¡Œ<code>git pull</code>æ‹‰å–å¹¶åˆå¹¶ä¿®æ”¹ï¼Œç”¨æˆ·<code>B</code>ä»ç„¶èƒ½å¤Ÿçœ‹åˆ°è¢«åˆ é™¤<code>origin/fz</code>åˆ†æ”¯.é‚£ä¹ˆæ­¤æ—¶åº”è¯¥æ€ä¹ˆè§£å†³ï¼Ÿ</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ‰§è¡Œä¸‹é¢å‘½ä»¤ --- åˆ é™¤è¿œç¨‹ä¸å­˜åœ¨ï¼Œä½†æœ¬åœ°é€šè¿‡æŒ‡ä»¤ä»èƒ½çœ‹åˆ°çš„æŸ origin/xxx åˆ†æ”¯</span><span class="token function">git</span> remote prune origin<span class="token comment"># å¦‚æœç”¨æˆ· B æ˜¾ç¤ºæœ¬åœ°ä¹Ÿè¿˜å­˜åœ¨ fz åˆ†æ”¯ï¼Œéœ€è¦å†åˆ é™¤æœ¬åœ°çš„ fzï¼ˆå…ˆåˆ‡åˆ°å¦å¤–ä¸€ä¸ªé fz åˆ†æ”¯ï¼Œå½“ç„¶ä¸åˆ é™¤ä¹Ÿä¸å½±å“ï¼‰</span><span class="token function">git</span> branch -d fz</code></pre><h3 id="æ‹’ç»åˆå¹¶ä¸ç›¸å…³çš„å†å²"><a href="#æ‹’ç»åˆå¹¶ä¸ç›¸å…³çš„å†å²" class="headerlink" title="æ‹’ç»åˆå¹¶ä¸ç›¸å…³çš„å†å²"></a>æ‹’ç»åˆå¹¶ä¸ç›¸å…³çš„å†å²</h3><p><code>refusing to merge unrelated histories: </code>å‡ºç°è¿™ä¸ªé—®é¢˜çš„æœ€ä¸»è¦åŸå› è¿˜æ˜¯åœ¨äºæœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“å®é™…ä¸Šæ˜¯ç‹¬ç«‹çš„ä¸¤ä¸ªä»“åº“ã€‚ï¼ˆä¾‹å¦‚ä½ åœ¨æœ¬åœ°åˆå§‹åŒ–äº†ä¸€ä¸ªä»“åº“ï¼Œå¹¶æäº¤äº†ä¸€äº›ä¸œè¥¿ï¼Œç„¶åä¸è¿œç¨‹ä»“åº“å»ºç«‹å…³è”ï¼Œæ­¤æ—¶æ¨é€å°±ä¼šæŠ›è¿™ä¸ªå¼‚å¸¸ï¼‰ç›´æ¥<code>clone</code>çš„æ–¹å¼åœ¨æœ¬åœ°å»ºç«‹èµ·è¿œç¨‹<code>github</code>ä»“åº“çš„å…‹éš†æœ¬åœ°ä»“åº“å°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚è§£å†³åŠæ³•ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> pull origin master --allow-unrelated-histories</code></pre><h3 id="æ–°å»ºåˆ†æ”¯é¦–æ¬¡æäº¤é”™è¯¯"><a href="#æ–°å»ºåˆ†æ”¯é¦–æ¬¡æäº¤é”™è¯¯" class="headerlink" title="æ–°å»ºåˆ†æ”¯é¦–æ¬¡æäº¤é”™è¯¯"></a>æ–°å»ºåˆ†æ”¯é¦–æ¬¡æäº¤é”™è¯¯</h3><p><code>There is no tracking information for the current branch</code>ï¼Œæ­¤æ—¶éœ€è¦åœ¨æ¨é€çš„æ—¶å€™å»ºç«‹å…³è”ï¼Œæ ¹æ®æç¤ºå®Œæˆå³å¯ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># (åˆ†æ”¯åç§°)ï¼Œå»ºç«‹å…³è”å…³ç³»å³å¯</span><span class="token function">git</span> branch --set-upstream-to<span class="token operator">=</span>origin/xxx</code></pre><h3 id="æ¨é€è¢«æ‹’ç»"><a href="#æ¨é€è¢«æ‹’ç»" class="headerlink" title="æ¨é€è¢«æ‹’ç»"></a>æ¨é€è¢«æ‹’ç»</h3><p><code>Updates were rejected because a pushed branch tip is behind its remote.</code>æ¨é€çš„åˆ†æ”¯æç¤ºä½äºå…¶è¿œç¨‹æäº¤çš„åé¢ã€‚æ¯”å¦‚åˆ«äººæäº¤äº†ï¼Œä½ å¹¶æ²¡æœ‰æ‹‰å–æœ€æ–°ä»£ç ï¼Œç›´æ¥<code>push</code>å°±ä¼šå­˜åœ¨è¯¥æç¤ºã€‚</p><blockquote><p>å»ºè®®ï¼šæ¯æ¬¡<code>push</code>ä¹‹å‰æœ€å¥½å…ˆ<code>pull</code>æ‹‰å–å¹¶åˆå¹¶ä»£ç ï¼Œå¦‚æœæœ‰å†²çªå°±è§£å†³å†²çªï¼Œç„¶åå†æ‰§è¡Œ<code>push</code>ï¼Œå¯ä»¥é¿å…å¾ˆå¤šé—®é¢˜ã€‚</p></blockquote><blockquote><p>è§£å†³åŠæ³•ï¼šå…ˆ<code>pull</code>æ‹‰å–æœ€æ–°ä»£ç åˆå¹¶ï¼Œç„¶åå†æäº¤ã€‚<strong>æˆ–è€…</strong>: æ·»åŠ  <code>-f</code> å‚æ•°å¼ºåˆ¶æ¨é€ã€‚</p></blockquote><h3 id="æ–‡ä»¶åå¤§å°å†™ä¸æ•æ„Ÿ"><a href="#æ–‡ä»¶åå¤§å°å†™ä¸æ•æ„Ÿ" class="headerlink" title="æ–‡ä»¶åå¤§å°å†™ä¸æ•æ„Ÿ"></a>æ–‡ä»¶åå¤§å°å†™ä¸æ•æ„Ÿ</h3><p>è¿™ä¸ªåœ¨å¦å¤–ä¸€ç¯‡<code>gitæŒ‡ä»¤ä½¿ç”¨</code>ä¸­ä¹Ÿæåˆ°è¿‡ï¼Œ<code>windows</code>ç¯å¢ƒä¸‹<code>git</code>å¯¹å¤§å°å†™è¯†åˆ«ä¸æ•æ„Ÿï¼Œè§£å†³åŠæ³•ï¼š</p><blockquote><p>æ–¹æ¡ˆä¸€ï¼šé‡å‘½åä¸ºå¦å¤–ä¸€ä¸ªåå­—ï¼Œç„¶åæäº¤ï¼ˆä¸€å®šè¦æäº¤ï¼‰ï¼Œç„¶åå†æ”¹å›ä½ è¦ä¿®æ”¹çš„å¤§ã€å°å†™åç§°ã€‚ï¼ˆä¸ä»…éº»çƒ¦ï¼Œè€Œä¸”è¿˜ä¼šå¤šäº§ç”Ÿä¸€æ¡æ— å…³çš„æäº¤ï¼‰</p></blockquote><blockquote><p>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨<code>git mv [file] [newfile]</code>æŒ‡ä»¤ä¿®æ”¹ã€‚</p></blockquote><h3 id="è¡Œå°¾ç»“æŸç¬¦ç»Ÿä¸€"><a href="#è¡Œå°¾ç»“æŸç¬¦ç»Ÿä¸€" class="headerlink" title="è¡Œå°¾ç»“æŸç¬¦ç»Ÿä¸€"></a>è¡Œå°¾ç»“æŸç¬¦ç»Ÿä¸€</h3><p>é—®é¢˜æè¿°åŠè§£å†³æ–¹æ¡ˆè¯¦è§<a href="/share/git-install-and-terminal-config">-&gt; git ç¯å¢ƒæ­å»º</a></p><h3 id="HttpRequestException-encountered"><a href="#HttpRequestException-encountered" class="headerlink" title="HttpRequestException encountered"></a>HttpRequestException encountered</h3><p>ä½¿ç”¨<code>Git</code>ä¸‹è½½æˆ–è€…æ›´æ–°ä»£ç æ—¶å‡ºç°<code>fatalï¼šHttpRequestException encountered</code>æç¤ºä¿¡æ¯ï¼Œä½†æ˜¯å®ƒåˆä¸ä¼šå½±å“ Git çš„æ­£å¸¸ä½¿ç”¨</p><blockquote><p>è§£å†³åŠæ³•ï¼šæ›´æ–°<code>Windows</code>çš„<code>git</code>å‡­è¯ç®¡ç†å™¨ï¼Œæ‰“å¼€é“¾æ¥ï¼Œä¸‹è½½å®‰è£…å³å¯ <a href="https://github.com/Microsoft/Git-Credential-Manager-for-Windows/releases/tag/v1.14.0">https://github.com/Microsoft/Git-Credential-Manager-for-Windows/releases/tag/v1.14.0</a></p></blockquote><h3 id="æŒç»­æ›´æ–°ä¸­â€¦"><a href="#æŒç»­æ›´æ–°ä¸­â€¦" class="headerlink" title="æŒç»­æ›´æ–°ä¸­â€¦"></a>æŒç»­æ›´æ–°ä¸­â€¦</h3>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®è¸©å‘ä¹‹è·¯ </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäº lerna ç®¡ç† monorepo çš„ä¸€æ¬¡å®è·µè®°å½•</title>
      <link href="/share/lerna/"/>
      <url>/share/lerna/</url>
      
        <content type="html"><![CDATA[<h3 id="lernaæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#lernaæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="lernaæ˜¯ä»€ä¹ˆï¼Ÿ"></a><code>lerna</code>æ˜¯ä»€ä¹ˆï¼Ÿ</h3><blockquote><p>Lerna is a fast modern build system for managing and publishing multiple JavaScript&#x2F;TypeScript packages from the same repository.</p></blockquote><p><a href="https://blog.nrwl.io/nx/home"><code>lerna and nx</code>çš„å…¶ä»–åšå®¢æ–‡ç« </a></p><h3 id="ä¸ºä»€ä¹ˆè¦ç”¨lerna"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨lerna" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨lerna?"></a>ä¸ºä»€ä¹ˆè¦ç”¨<code>lerna</code>?</h3><p><code>å®˜æ–¹è§£é‡Šï¼š</code></p><blockquote><p>Lerna åœ¨ repo ä¸­é“¾æ¥ä¸åŒçš„é¡¹ç›®ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥ç›¸äº’å¯¼å…¥ï¼Œè€Œæ— éœ€å‘ NPM å‘å¸ƒä»»ä½•å†…å®¹</p></blockquote><blockquote><p>Lerna å¯¹ä»»æ„æ•°é‡çš„é¡¹ç›®è¿è¡Œå‘½ä»¤ï¼Œå®ƒä»¥æœ€æœ‰æ•ˆçš„æ–¹å¼ã€ä»¥æ­£ç¡®çš„é¡ºåºæ‰§è¡Œå®ƒï¼Œå¹¶ä¸”å¯ä»¥å°†å…¶åˆ†å¸ƒåœ¨å¤šå°æœºå™¨ä¸Š</p></blockquote><blockquote><p>Lerna ç®¡ç†æ‚¨çš„å‘å¸ƒæµç¨‹ï¼Œä»ç‰ˆæœ¬ç®¡ç†åˆ°å‘å¸ƒå†åˆ° NPMï¼Œå®ƒæä¾›äº†å¤šç§é€‰é¡¹æ¥ç¡®ä¿å¯ä»¥é€‚åº”ä»»ä½•å·¥ä½œæµç¨‹</p></blockquote><p>ç»“åˆå·¥ä½œä¸­çš„å®é™…ä½“éªŒï¼Œè°ˆè°ˆæˆ‘çš„çœ‹æ³•ï¼š</p><blockquote><p>å…¬å¸ä¸€èˆ¬éƒ½æœ‰è‡ªå·±çš„ npm ç§åº“ï¼Œæœ‰å¾ˆå¤šçš„ package ç›¸äº’ä¹‹é—´å­˜åœ¨æˆ–å¤šæˆ–å°‘çš„å…³è”ã€‚éšç€ä¸šåŠ¡éœ€æ±‚çš„ä¸æ–­å‡çº§ï¼Œæˆ‘åœ¨ç»´æŠ¤è¿™äº› package çš„æ—¶å€™å°±ç¢°åˆ°äº†ä¸€ä¸ªå¾ˆæ“è›‹çš„é—®é¢˜ï¼šæ¯”å¦‚æˆ‘æ”¹äº† packageA ç„¶åå‘å¸ƒï¼Œé‚£ä¹ˆæ‰€æœ‰ç”¨åˆ°äº† packageA çš„å…¶ä»– packageï¼Œä¹Ÿè¦è·Ÿç€å‡çº§ packageA çš„ä¾èµ–ï¼Œç„¶åå†å‘å¸ƒï¼Œè¿‡ç¨‹æ˜¾å¾—å¾ˆæ˜¯ç¹çï¼Œæ­¤æ—¶å¦‚æœä½ çš„ package æ˜¯é€šè¿‡ lerna ç®¡ç†ï¼Œå°±å¯ä»¥å¾ˆå¥½çš„é¿å…è¿™ä¸ªé—®é¢˜ã€‚</p></blockquote><span id="more"></span><hr><h3 id="å…¨å±€å®‰è£…lerna"><a href="#å…¨å±€å®‰è£…lerna" class="headerlink" title="å…¨å±€å®‰è£…lerna"></a>å…¨å±€å®‰è£…<code>lerna</code></h3><p><code>tips: æ³¨æ„ lerna@5.1.0 å‰ååŒºåˆ«.</code></p><blockquote><p>npm i -g <a href="mailto:&#x6c;&#x65;&#x72;&#110;&#97;&#x40;&#52;&#x2e;&#x30;&#x2e;&#x30;">&#x6c;&#x65;&#x72;&#110;&#97;&#x40;&#52;&#x2e;&#x30;&#x2e;&#x30;</a></p></blockquote><h3 id="lernaä½¿ç”¨å®è·µ"><a href="#lernaä½¿ç”¨å®è·µ" class="headerlink" title="lernaä½¿ç”¨å®è·µ"></a><code>lerna</code>ä½¿ç”¨å®è·µ</h3><h4 id="åˆå§‹åŒ–gitä»“åº“"><a href="#åˆå§‹åŒ–gitä»“åº“" class="headerlink" title="åˆå§‹åŒ–gitä»“åº“"></a>åˆå§‹åŒ–<code>git</code>ä»“åº“</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆå§‹åŒ–ä¸€ä¸ª utils çš„ lerna é¡¹ç›®</span><span class="token function">mkdir</span> utils <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> utils<span class="token function">git</span> init<span class="token function">git</span> remote <span class="token function">add</span> origin <span class="token punctuation">[</span>xxx<span class="token punctuation">]</span></code></pre><p>é…ç½®<code>.gitignore</code></p><pre class="language-none"><code class="language-none">node_moduleslibdistlogscoverage*&#x2F;.config&#x2F;*</code></pre><h4 id="lernaåˆå§‹åŒ–"><a href="#lernaåˆå§‹åŒ–" class="headerlink" title="lernaåˆå§‹åŒ–"></a><code>lerna</code>åˆå§‹åŒ–</h4><p><code>lerna</code>æœ‰ä¸¤ç§å‘å¸ƒæ¨¡å¼ï¼Œå›ºå®šæ¨¡å¼<code>fixed</code>ï¼ˆé»˜è®¤ï¼‰ã€ç‹¬ç«‹æ¨¡å¼<code>independent</code>ã€‚ä¸¤è€…çš„åŒºåˆ«ï¼š</p><blockquote><p>å›ºå®šæ¨¡å¼ï¼šlerna init é€šè¿‡ lerna.json é‡Œçš„ç‰ˆæœ¬è¿›è¡Œç»Ÿä¸€çš„ç‰ˆæœ¬ç®¡ç†ã€‚å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªåŒ…çš„æ”¹åŠ¨éƒ½ä¼šå¯¼è‡´æ‰€æœ‰çš„ packages çš„ç‰ˆæœ¬å·è¿›è¡Œå‡çº§ã€‚</p></blockquote><blockquote><p>ç‹¬ç«‹æ¨¡å¼ï¼šlerna init --independent å…è®¸ä½¿ç”¨è€…å¯¹æ¯ä¸ªåŒ…å•ç‹¬æ”¹å˜ç‰ˆæœ¬å·ã€‚æ¯æ¬¡å‘å¸ƒçš„æ—¶å€™ï¼Œé’ˆå¯¹æ‰€æœ‰æœ‰æ›´æ–°çš„ package è¯¢é—®éœ€è¦å‡çº§çš„ç‰ˆæœ¬å·ã€‚ï¼ˆåŸºäºè‡ªèº«çš„ package.json ç‰ˆæœ¬å·ï¼‰è¿™ç§æƒ…å†µä¸‹ï¼Œlerna.json çš„ç‰ˆæœ¬å·ä¸ä¼šå˜åŒ–ï¼Œ é»˜è®¤ä¸º independent</p></blockquote><p><del>å»ºè®®ä½¿ç”¨ç‹¬ç«‹æ¨¡å¼â€¦</del> ä¸‹é¢å¼€å§‹åˆå§‹åŒ–è¿‡ç¨‹ï¼ˆé™„æ•ˆæœå›¾ï¼‰ï¼š</p><blockquote><p>lerna init --independent</p></blockquote><p><a href="/images/share/lerna/p1.png"><img src="/images/share/lerna/p1.png" alt="lerna-p1" loading="lazy"></a></p><h4 id="å®Œå–„lerna-jsoné…ç½®"><a href="#å®Œå–„lerna-jsoné…ç½®" class="headerlink" title="å®Œå–„lerna.jsoné…ç½®"></a>å®Œå–„<code>lerna.json</code>é…ç½®</h4><p>æŒ‡å®šå‘½ä»¤ä½¿ç”¨çš„<code>client</code>ï¼Œé»˜è®¤æ˜¯<code>npm</code>ï¼Œå¯ä»¥æ˜¯<code>yarn</code>.ä¿®æ”¹<code>lerna.json</code>ï¼Œæ·»åŠ ï¼š</p><blockquote><p>â€œnpmClientâ€: â€œyarnâ€</p></blockquote><p>æŒ‡å®šä½¿ç”¨<code>yarn workspaces</code>æ¨¡å¼ï¼Œå¹¶åœ¨<code>lerna</code>ä¸­å¼€å¯ï¼ŒåŒæ—¶åœ¨æ ¹ç›®å½•ä¸‹çš„<code>package.json</code>ä¸­æ·»åŠ <code>workspaces</code>ï¼šï¼ˆå¼€å¯å<code>lerna bootstrap</code>å‘½ä»¤ç”±<code>yarn install</code>ä»£ç†ï¼Œç­‰ä»·äºåœ¨<code>workspace</code>çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ<code>yarn install</code>ï¼Œåªæœ‰é¡¶å±‚æœ‰ä¸€ä¸ª<code>node_modules</code>ï¼‰ï¼Œ<strong>è¿™ä¹ˆåšæ˜¯å› ä¸º yarn æœ¬èº«æä¾›äº†è¾ƒ lerna æ›´å¥½çš„ä¾èµ–åˆ†æä¸ hoisting çš„åŠŸèƒ½</strong>ï¼š</p><blockquote><p>â€œuseWorkspacesâ€: true</p></blockquote><blockquote><p>â€œworkspacesâ€: [â€œpackages&#x2F;*â€œ]</p></blockquote><p>æŒ‡å®šå¿½ç•¥å‘å¸ƒçš„ä¸å¿…è¦çš„æ›´æ–°ï¼ˆæ¯”å¦‚<code>readme.md</code>ï¼‰ï¼š</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token comment">// æ–¹å¼ä¸€ï¼šåœ¨`lerna.json`ä¸­æ·»åŠ ï¼š</span><span class="token property">"ignoreChanges"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"**/*.md"</span><span class="token punctuation">,</span> <span class="token string">"**/*.test.ts"</span><span class="token punctuation">,</span> <span class="token string">"**/*.e2e.ts"</span><span class="token punctuation">,</span> <span class="token string">"**/fixtures/**"</span><span class="token punctuation">,</span> <span class="token string">"**/test/**"</span><span class="token punctuation">,</span> <span class="token string">"**/__test__/**"</span><span class="token punctuation">]</span><span class="token comment">// æ–¹å¼äºŒï¼šåœ¨æŒ‡å®šçš„å‘½ä»¤ä¸‹æ·»åŠ ï¼š</span><span class="token property">"command"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token property">"publish"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"ignoreChanges"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"ignored-file"</span><span class="token punctuation">,</span> <span class="token string">"*.md"</span><span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"bootstrap"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"ignore"</span><span class="token operator">:</span> <span class="token string">"component-*"</span><span class="token punctuation">,</span>    <span class="token property">"npmClientArgs"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"--no-package-lock"</span><span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h5 id="lerna-jsonçš„é…ç½®å‚æ•°è¯´æ˜"><a href="#lerna-jsonçš„é…ç½®å‚æ•°è¯´æ˜" class="headerlink" title="lerna.jsonçš„é…ç½®å‚æ•°è¯´æ˜"></a><code>lerna.json</code>çš„é…ç½®å‚æ•°è¯´æ˜</h5><pre class="language-json" data-language="json"><code class="language-json"><span class="token comment">// versionï¼šå½“å‰åº“çš„ç‰ˆæœ¬</span><span class="token comment">// npmClientï¼šå…è®¸æŒ‡å®šå‘½ä»¤ä½¿ç”¨çš„clientï¼Œ é»˜è®¤æ˜¯ npmï¼Œ å¯ä»¥è®¾ç½®æˆ yarn</span><span class="token comment">// useWorkspacesï¼šä½¿ç”¨ yarn workspaces æ¨¡å¼</span><span class="token comment">// ignoreChangesï¼šä¸€ä¸ªä¸åŒ…å«åœ¨ lerna changed/publish çš„ glob æ•°ç»„ã€‚ä½¿ç”¨è¿™ä¸ªå»é˜»æ­¢å‘å¸ƒä¸å¿…è¦çš„æ›´æ–°ï¼Œæ¯”å¦‚ä¿®å¤ README.md</span><span class="token comment">// command.publish.ignoreChangesï¼šå¯ä»¥æŒ‡å®šé‚£äº›ç›®å½•æˆ–è€…æ–‡ä»¶çš„å˜æ›´ä¸ä¼šè¢« publish</span><span class="token comment">// command.publish.registryï¼šè®¾ç½®è‡ªå®šä¹‰çš„ npm ä»£ç†ï¼ˆæ¯”å¦‚ä½¿ç”¨å…¬å¸è‡ªå·±æ­å»ºçš„ç§æœï¼‰</span><span class="token comment">// command.publish.conventionalCommitsï¼šlerna version ä¼šè‡ªåŠ¨å†³å®š version bump å’Œç”Ÿæˆ CHANGELOG æ–‡ä»¶</span><span class="token comment">// command.publish.messageï¼šä¸€ä¸ª publish æ—¶çš„è‡ªå®šä¹‰ commit ä¿¡æ¯</span><span class="token comment">// command.bootstrap.ignoreï¼šæŒ‡å®šä¸å— bootstrap å‘½ä»¤å½±å“çš„åŒ…</span><span class="token comment">// command.bootstrap.npmClientArgsï¼šæŒ‡å®šé»˜è®¤ä¼ ç»™ lerna bootstrap å‘½ä»¤çš„å‚æ•°</span><span class="token comment">// command.bootstrap.scopeï¼šæŒ‡å®šé‚£äº›åŒ…ä¼šå— lerna bootstrap å‘½ä»¤å½±å“</span><span class="token comment">// packagesï¼šæŒ‡å®šåŒ…æ‰€åœ¨çš„ç›®å½•</span></code></pre><p><del><code>ok</code>ï¼Œå‡†å¤‡å·¥ä½œåšå®Œäº† ğŸ˜ƒğŸ˜ƒğŸ˜ƒ</del></p><hr><h4 id="åˆ›å»ºpackage"><a href="#åˆ›å»ºpackage" class="headerlink" title="åˆ›å»ºpackage"></a>åˆ›å»º<code>package</code></h4><p>è¿™ä¸ªè¿‡ç¨‹å¯ä»¥é€šè¿‡æ‰‹åŠ¨åˆ›å»ºï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤ç”Ÿæˆï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ./packages<span class="token function">mkdir</span> package-a package-b package-c<span class="token comment"># åˆ†åˆ«è¿›å…¥è¿™ä¸‰ä¸ªç›®å½•åˆå§‹åŒ–æˆåŒ… ...</span><span class="token builtin class-name">cd</span> package-a <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> init -y</code></pre><p><code>or</code>ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># nameï¼šåŒ…åï¼Œloc ä½ç½® [å¯é€‰ï¼Œä¸æŒ‡å®šæ—¶é»˜è®¤å°±æ˜¯ workspaces[0] æ‰€æŒ‡ä½ç½®]</span>lerna create <span class="token operator">&lt;</span> name <span class="token operator">></span> <span class="token punctuation">[</span>loc<span class="token punctuation">]</span><span class="token comment"># ä¾‹å¦‚ï¼š</span>lerna create package-a</code></pre><p>ç›®å½•ç»“æ„ï¼š</p><pre class="language-none"><code class="language-none">â”œâ”€â”€ lerna.jsonâ”œâ”€â”€ package.jsonâ””â”€â”€ packages    â”œâ”€â”€ packageA    â”‚Â Â  â”œâ”€â”€ index.js    â”‚Â Â  â””â”€â”€ package.json</code></pre><h4 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h4><h5 id="å®‰è£…å…±ç”¨çš„dependencicesordevDependencices"><a href="#å®‰è£…å…±ç”¨çš„dependencicesordevDependencices" class="headerlink" title="å®‰è£…å…±ç”¨çš„dependencicesordevDependencices"></a>å®‰è£…å…±ç”¨çš„<code>dependencices</code>or<code>devDependencices</code></h5><p>è®¾ç½®<code>root</code>çš„ä¾èµ–ï¼Œé€šå¸¸ä¸ºä¸€äº›å¼€å‘å·¥å…·. <code>eg: typescriptã€eslintã€babel...</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> -W -D typescript <span class="token punctuation">[</span>-W -D <span class="token operator">==</span> --ignore-workspace-root-check --dev<span class="token punctuation">]</span><span class="token comment"># å¸è½½</span><span class="token function">yarn</span> remove -W typescript</code></pre><p>æ·»åŠ æ‰€æœ‰çš„<code>package</code>ä¾èµ–ï¼ˆä¸åŒ…å«<code>root</code>ï¼Œè€Œæ˜¯åœ¨å„è‡ªçš„<code>package.json</code>ï¼‰ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">lerna <span class="token function">add</span> lodash -D</code></pre><h5 id="ç»™æŒ‡å®šçš„-packageA-å®‰è£…ä¾èµ–Aæ¨¡å—"><a href="#ç»™æŒ‡å®šçš„-packageA-å®‰è£…ä¾èµ–Aæ¨¡å—" class="headerlink" title="ç»™æŒ‡å®šçš„ packageA å®‰è£…ä¾èµ–Aæ¨¡å—"></a>ç»™æŒ‡å®šçš„ packageA å®‰è£…ä¾èµ–<code>A</code>æ¨¡å—</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ¨è</span>lerna <span class="token function">add</span> A packages/packageA<span class="token comment"># æˆ–è€…æŒ‡å®š --scope</span>lerna <span class="token function">add</span> A --scope<span class="token operator">=</span>packageAlerna <span class="token function">add</span> A --scope<span class="token operator">=</span>packageA --dev<span class="token comment"># æˆ–ï¼ˆè¿™ç§æ–¹å¼å®‰è£…çš„ A å¦‚æœæ˜¯å½“å‰å·¥ä½œåŒºçš„å¼€å‘æ¨¡å—ï¼Œéœ€è¦å¸¦ä¸Šç‰ˆæœ¬å·ï¼‰</span><span class="token function">yarn</span> workspace packageA <span class="token function">add</span> A<span class="token comment"># å®‰è£… A åˆ°æŒ‡å®šå‰ç¼€ä¸º prefix- çš„åŒ…</span>lerna <span class="token function">add</span> A packages/prefix-*<span class="token comment"># å®‰è£… A åˆ°æ‰€æœ‰åä¸º packageA åŒ…ä¸­</span>lerna <span class="token function">add</span> A **/packageA</code></pre><h5 id="workspaceå„packageä¹‹é—´çš„ä¾èµ–"><a href="#workspaceå„packageä¹‹é—´çš„ä¾èµ–" class="headerlink" title="workspaceå„packageä¹‹é—´çš„ä¾èµ–"></a><code>workspace</code>å„<code>package</code>ä¹‹é—´çš„ä¾èµ–</h5><p><code>packages</code>ä¸‹çš„å„ä¸ªåŒ…ä¹‹é—´ï¼Œä¹Ÿå¯ä»¥ç›¸äº’ä¾èµ–ï¼Œä¾‹å¦‚<code>moduleA</code>ä¾èµ–äº†<code>moduleB</code>ï¼Œè€Œ<code>moduleB</code>åˆä¾èµ–äº†<code>moduleC</code>ã€‚ä½¿ç”¨çš„æ–¹å¼åŒä¸Šï¼Œç›¸å·®ä¸å¤§ï¼ˆåŸºäºè½¯é“¾æ¥<code>symlink</code>å®ç°ï¼‰ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">lerna <span class="token function">add</span> moduleB packages/moduleAlerna <span class="token function">add</span> moduleC --scope moduleB</code></pre><h4 id="lerna-bootstrapå®‰è£…æ‰€æœ‰åŒ…çš„ä¾èµ–"><a href="#lerna-bootstrapå®‰è£…æ‰€æœ‰åŒ…çš„ä¾èµ–" class="headerlink" title="lerna bootstrapå®‰è£…æ‰€æœ‰åŒ…çš„ä¾èµ–"></a><code>lerna bootstrap</code>å®‰è£…æ‰€æœ‰åŒ…çš„ä¾èµ–</h4><p>åœ¨<code>lerna</code>ä¸­ï¼Œæ‰§è¡Œ<strong>é»˜è®¤çš„<code>bootstrap</code>å‘½ä»¤</strong>ä¼šåœ¨æ¯ä¸ª<code>package</code>ä¸‹å®‰è£…å„è‡ª<code>package.json</code>ä¸­çš„ä¾èµ–ã€‚</p><p>å½“ä½ ä½¿ç”¨<code>yarn workspaceï¼Œå¹¶åœ¨lernaä¸­å¼€å¯è¯¥åŠŸèƒ½æ—¶</code>ï¼Œ<code>lerna bootstrap</code>å°†ç”±<code>yarn install</code>ä»£ç†ï¼Œç­‰ä»·ä½“ç°ä¸ºåœ¨<code>workspace</code>çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ<code>yarn install</code>.</p><pre class="language-bash" data-language="bash"><code class="language-bash">lerna bootstrap<span class="token comment"># æ•ˆæœç­‰ä»·äº</span>lerna <span class="token function">link</span> + <span class="token function">yarn</span> <span class="token function">install</span></code></pre><h5 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h5><blockquote><p>å·¥ä½œåŒºçš„æ¨¡å—åŒ…ä¹‹é—´å¯ä»¥ç›¸äº’ä¾èµ–ï¼Œå¹¶åœ¨ä½ å‘å¸ƒå‡çº§å¯¹åº”åŒ…çš„æ—¶å€™ï¼Œè‡ªåŠ¨æ£€æµ‹å…¶ä»–ä¾èµ–è¯¥æ¨¡å—çš„åŒ…ã€‚</p></blockquote><blockquote><p>ç›¸æ¯” yarn linkï¼Œè¿™ç§æ–¹å¼åªå½±å“ä½ å·¥ä½œåŒºçš„ä¾èµ–æ ‘ï¼Œè€Œä¸ä¼šæ±¡æŸ“å…¨å±€ã€‚</p></blockquote><blockquote><p>node_modules ç»Ÿä¸€å®‰è£…ï¼Œç”Ÿæˆå•ä¸€ lock æ–‡ä»¶ï¼Œæ–¹ä¾¿ yarn æ›´å¥½çš„ç®¡ç†å¹¶æ„å»ºä¾èµ–ã€‚</p></blockquote><h4 id="å¸è½½ä¾èµ–"><a href="#å¸è½½ä¾èµ–" class="headerlink" title="å¸è½½ä¾èµ–"></a>å¸è½½ä¾èµ–</h4><blockquote><p>lerna exec â€“ <command> [..args] # åœ¨æ‰€æœ‰åŒ…ä¸­è¿è¡Œè¯¥å‘½ä»¤</p></blockquote><p>å¯ä»¥ä¾æ®è¿™ä¸ªå‘½ä»¤æ¥å®ç°æŒ‡å®šæ¨¡å—çš„åŒ…å¸è½½ï¼Œ<code>eg</code>ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">lerna <span class="token builtin class-name">exec</span> --scope<span class="token operator">=</span>packageA  <span class="token function">yarn</span> remove A <span class="token comment"># å°† packageA åŒ…ä¸‹çš„ A å¸è½½</span>lerna <span class="token builtin class-name">exec</span> -- <span class="token function">yarn</span> remove A <span class="token comment"># å°†æ‰€æœ‰åŒ…ä¸‹çš„ A å¸è½½</span></code></pre><h4 id="æ¸…ç†ä¾èµ–åŒ…"><a href="#æ¸…ç†ä¾èµ–åŒ…" class="headerlink" title="æ¸…ç†ä¾èµ–åŒ…"></a>æ¸…ç†ä¾èµ–åŒ…</h4><p>å¿«é€Ÿåˆ é™¤æ‰€æœ‰æ¨¡å—ä¸­çš„<code>node_modules</code>æ–‡ä»¶å¤¹ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">lerna clean</code></pre><p><a href="https://lerna.js.org/docs/features/bootstrap">æ›´å¤šçš„ <code>bootstrap</code>ç»†èŠ‚</a></p><h4 id="åˆ—å‡ºå·¥ä½œåŒºæ‰€æœ‰çš„package"><a href="#åˆ—å‡ºå·¥ä½œåŒºæ‰€æœ‰çš„package" class="headerlink" title="åˆ—å‡ºå·¥ä½œåŒºæ‰€æœ‰çš„package"></a>åˆ—å‡ºå·¥ä½œåŒºæ‰€æœ‰çš„<code>package</code></h4><p>å¦‚æœä¸ä½ æ–‡å¤¹é‡Œé¢çš„ä¸ç¬¦ï¼Œè¿›å…¥é‚£ä¸ªåŒ…è¿è¡Œ<code>yarn init -y</code>è§£å†³.</p><pre class="language-bash" data-language="bash"><code class="language-bash">lerna list<span class="token comment"># or</span>lerna <span class="token function">ls</span></code></pre><h4 id="åˆ—å‡ºéœ€è¦publishæ›´æ–°çš„åŒ…"><a href="#åˆ—å‡ºéœ€è¦publishæ›´æ–°çš„åŒ…" class="headerlink" title="åˆ—å‡ºéœ€è¦publishæ›´æ–°çš„åŒ…"></a>åˆ—å‡ºéœ€è¦<code>publish</code>æ›´æ–°çš„åŒ…</h4><pre class="language-bash" data-language="bash"><code class="language-bash">lerna changed</code></pre><blockquote><p>lerna æ¯æ¬¡å‘å¸ƒéƒ½ä¼šä¸ºå¯¹åº”çš„ç‰ˆæœ¬æ‰“ TAGï¼Œå˜åŠ¨æ£€æµ‹å…¶å®æ˜¯ä¾æ® <code>git diff --name-only vç‰ˆæœ¬</code>æ”¶é›†å˜åŠ¨ä¿¡æ¯.</p></blockquote><blockquote><p><code>lerna diff</code>æŸ¥çœ‹è‡ªä¸Šæ¬¡å‘å¸ƒä»¥æ¥çš„æ‰€æœ‰åŒ…æˆ–è€…æŒ‡å®šåŒ…çš„ git diff å˜åŒ–ã€‚</p></blockquote><h4 id="lerna-runæ‰§è¡Œè„šæœ¬"><a href="#lerna-runæ‰§è¡Œè„šæœ¬" class="headerlink" title="lerna runæ‰§è¡Œè„šæœ¬"></a><code>lerna run</code>æ‰§è¡Œè„šæœ¬</h4><p>é€šè¿‡<code>lerna run xx</code>æ‰§è¡Œè„šæœ¬æ—¶ï¼Œ<code>lerna</code>ä¼šå…ˆæ£€æµ‹ç¬¦åˆæ¡ä»¶ï¼ˆå«æœ‰<code>xx</code>å‘½ä»¤ï¼‰çš„<code>package</code>ï¼Œç„¶åå†å„è‡ªå†…éƒ¨æ‰§è¡Œ<code>npm run xx</code>.</p><pre class="language-bash" data-language="bash"><code class="language-bash">lerna run <span class="token builtin class-name">test</span><span class="token comment"># åŒºåˆ«äºæ™®é€šé¡¹ç›®ä¹‹å¤„åœ¨äºå„ä¸ªpackageä¹‹é—´å­˜åœ¨ç›¸äº’ä¾èµ–ï¼Œå¦‚packageBåªæœ‰åœ¨packageAæ„å»ºå®Œä¹‹åæ‰èƒ½è¿›è¡Œæ„å»ºï¼Œå¦åˆ™å°±ä¼šå‡ºé”™ï¼Œè¿™å®é™…ä¸Šè¦æ±‚æˆ‘ä»¬ä»¥ä¸€ç§æ‹“æ‰‘æ’åºçš„è§„åˆ™è¿›è¡Œæ„å»ºã€‚</span>lerna run --stream --sort build</code></pre><p>åŒºåˆ«äº<code>yarn workspaces run</code>ï¼š</p><blockquote><p>yarn workspaces run æ‰§è¡Œ xx æŒ‡ä»¤æ—¶ï¼Œå¿…é¡»æ‰€æœ‰çš„åŒ…éƒ½å«æœ‰è¯¥ xx å‘½ä»¤ï¼Œå¦åˆ™åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šæŠ›å‡ºå¼‚å¸¸.</p></blockquote><h4 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="headerlink" title="å‘å¸ƒ"></a>å‘å¸ƒ</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ‰§è¡Œè¯¥å‘½ä»¤åï¼Œä¼šæ ¹æ®æ£€æµ‹å‡ºçš„æœ‰å˜åŠ¨çš„ package æç¤ºä½ é€‰æ‹©å¯¹åº”è¦å‡çº§åˆ°çš„æ–°ç‰ˆæœ¬å·</span>lerna publish<span class="token comment"># æˆ–è€…é»˜è®¤é€‰é¡¹å…¨éƒ¨é€‰æ‹© Yesï¼Œå¹¶æ ¹æ® commit ä¿¡æ¯è‡ªåŠ¨å‡çº§ç‰ˆæœ¬å·</span>lerna publish -y</code></pre><h5 id="å»ºè®®"><a href="#å»ºè®®" class="headerlink" title="å»ºè®®"></a>å»ºè®®</h5><blockquote><p>ä¸è¦è‡ªå·±æ‰‹åŠ¨ä¸º<code>lerna</code>ç®¡ç†çš„ä»“åº“æ·»åŠ <code>tag</code>ï¼Œé˜²æ­¢ <code>package</code>å˜æ›´æ£€æµ‹å¼‚å¸¸ï¼Œå¯¼è‡´æ— æ³•æ­£å¸¸å‡çº§å‘å¸ƒ</p></blockquote><blockquote><p>å°½é‡åªåœ¨ä¸€ä¸ªåˆ†æ”¯ä¸Šå‘å¸ƒï¼Œé¿å…å¤šä¸ªåˆ†æ”¯åŒæ—¶è¿›è¡Œä¸”ç”Ÿæˆç›¸åŒç‰ˆæœ¬</p></blockquote><blockquote><p>æ¯æ¬¡<code>publish</code>ä¹‹å‰ï¼Œå…ˆ<code>commit</code>ä»£ç ï¼Œä¿è¯å·¥ä½œåŒºæ˜¯å¹²å‡€çš„</p></blockquote><blockquote><p>ç¡®ä¿ä½ çš„<code>npm</code>è´¦å·æ˜¯ç™»å½•çŠ¶æ€ï¼Œå¦åˆ™ä¼šå‘å¸ƒå¤±è´¥ã€‚<code>npm whoami</code>æŸ¥çœ‹çŠ¶æ€ï¼Œå¯ä»¥æŒ‡å®š<code>registry</code></p></blockquote><blockquote><p>ç¡®ä¿ä½ çš„<code>package</code>è®¾ç½®äº†æ­£ç¡®çš„<code>npm registry</code>åœ°å€ï¼Œä¸”å‘å¸ƒçš„åŒ…ä¸å·²å­˜åœ¨çš„åŒ…ä¹‹é—´ä¸ä¼šå­˜åœ¨å†²çª</p></blockquote><blockquote><p>æŒ‰é¡ºåºæ‰§è¡Œ<code>lerna bootstrap -&gt; lerna run --stream --sort buildï¼ˆæˆ‘åœ¨å•ä¸ª package ä¸­å®šä¹‰äº†ä¸€äº› npm scriptsï¼Œä¾‹å¦‚ prepublishOnly é’©å­æ¥æ‰§è¡Œ buildï¼Œç„¶è€Œ npm-client ä½¿ç”¨ yarn åï¼Œè¿™äº›é’©å­ä¼¼ä¹å¹¶æ²¡æœ‰æŒ‰é¢„æœŸè¿›è¡Œå·¥ä½œï¼Œå¯¼è‡´æœ€ç»ˆ publish å¤±è´¥ã€‚é€šè¿‡ lerna run build å¯ä»¥è§¦å‘æ‰€æœ‰ package æ‰§è¡Œ buildï¼Œå¦‚æœæ— æ­¤éœ€æ±‚å¯ä»¥è·³è¿‡è¯¥æ­¥éª¤ï¼‰-&gt; lerna publish.</code></p></blockquote><h3 id="é—®é¢˜è®°å½•"><a href="#é—®é¢˜è®°å½•" class="headerlink" title="é—®é¢˜è®°å½•"></a>é—®é¢˜è®°å½•</h3><h4 id="å…³äº-scopeçš„è¯´æ˜"><a href="#å…³äº-scopeçš„è¯´æ˜" class="headerlink" title="å…³äº--scopeçš„è¯´æ˜"></a>å…³äº<code>--scope</code>çš„è¯´æ˜</h4><blockquote><p>ä¸ç®¡æ˜¯å®‰è£…è¿˜æ˜¯å¸è½½ï¼Œ<code>--scope=packageA</code>ä¸­çš„<code>packageA</code>å‡æ˜¯æŒ‡çš„å…·ä½“åŒ…åï¼Œè€Œé<code>path</code>ï¼Œè€Œå¦å¤–ä¸€ç§æ–¹å¼<code>packages/packageA</code>åˆ™æ˜¯æŒ‡å…·ä½“è·¯å¾„.</p></blockquote><h4 id="åŒ…åå¸¦æœ‰scopeçš„å‘å¸ƒ"><a href="#åŒ…åå¸¦æœ‰scopeçš„å‘å¸ƒ" class="headerlink" title="åŒ…åå¸¦æœ‰scopeçš„å‘å¸ƒ?"></a>åŒ…åå¸¦æœ‰<code>scope</code>çš„å‘å¸ƒ?</h4><p>å½¢å¦‚<code>@xxx/xx</code>ï¼Œåœ¨ä½ çš„å­åŒ…ï¼ˆå…·ä½“è¦å‘å¸ƒçš„é‚£ä¸ªåŒ…ï¼‰çš„<code>package.json</code>ä¸­æ·»åŠ <code>publishConfig.access</code>å­—æ®µï¼š</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token comment">// ...</span>  <span class="token property">"publishConfig"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ...</span>    <span class="token property">"access"</span><span class="token operator">:</span> <span class="token string">"public"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h5 id="ä¸ºä»€ä¹ˆ-å‰ç¼€åŒ…æ·»åŠ äº†accessä»ç„¶æŠ›å‡ºäº†403å¼‚å¸¸"><a href="#ä¸ºä»€ä¹ˆ-å‰ç¼€åŒ…æ·»åŠ äº†accessä»ç„¶æŠ›å‡ºäº†403å¼‚å¸¸" class="headerlink" title="ä¸ºä»€ä¹ˆ@å‰ç¼€åŒ…æ·»åŠ äº†accessä»ç„¶æŠ›å‡ºäº†403å¼‚å¸¸?"></a>ä¸ºä»€ä¹ˆ<code>@</code>å‰ç¼€åŒ…æ·»åŠ äº†<code>access</code>ä»ç„¶æŠ›å‡ºäº†<code>403</code>å¼‚å¸¸?</h5><p><code>@</code>ç¬¦å·åé¢çš„æ˜¯ä½ æ³¨å†Œ<code>npm</code>è´¦æˆ·æ—¶çš„<code>username</code>ï¼Œè¯·ç¡®ä¿è¯¥<code>scope</code>ä¸ä½ è´¦æˆ·ä¸€è‡´. <del>ï¼ˆå‰å¾€å®˜ç½‘æ³¨å†Œä½ çš„è´¦æˆ·ï¼Œå¯ä»¥çœ‹åˆ°æ›´åŠ æ˜ç¡®çš„é”™è¯¯æç¤ºï¼‰ğŸ˜‚ğŸ˜‚ğŸ˜‚</del></p><h4 id="å¦‚ä½•ç”ŸæˆchangeLog-mdæ–‡ä»¶"><a href="#å¦‚ä½•ç”ŸæˆchangeLog-mdæ–‡ä»¶" class="headerlink" title="å¦‚ä½•ç”ŸæˆchangeLog.mdæ–‡ä»¶?"></a>å¦‚ä½•ç”Ÿæˆ<code>changeLog.md</code>æ–‡ä»¶?</h4><p><code>lerna.json</code>ä¸­æ·»åŠ ï¼š</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token comment">// ...</span>  <span class="token property">"command"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ...</span>    <span class="token property">"publish"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// ...</span>      <span class="token property">"allowBranch"</span><span class="token operator">:</span> <span class="token string">"master"</span><span class="token punctuation">,</span> <span class="token comment">// åªåœ¨ master åˆ†æ”¯æ‰§è¡Œ publish</span>      <span class="token property">"conventionalCommits"</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// ç”Ÿæˆ changelog æ–‡ä»¶</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="å¦‚ä½•åªå‘å¸ƒæŒ‡å®šæ–‡ä»¶è‡³npm"><a href="#å¦‚ä½•åªå‘å¸ƒæŒ‡å®šæ–‡ä»¶è‡³npm" class="headerlink" title="å¦‚ä½•åªå‘å¸ƒæŒ‡å®šæ–‡ä»¶è‡³npm?"></a>å¦‚ä½•åªå‘å¸ƒæŒ‡å®šæ–‡ä»¶è‡³<code>npm</code>?</h4><blockquote><p>æ·»åŠ  .npmignore è§„åˆ™åŒ .gitignoreï¼Œæ·»åŠ  .gitignore ä¹Ÿæ˜¯å¯ä»¥çš„</p></blockquote><blockquote><p>æˆ–è€…é…ç½®å½“å‰åŒ…çš„ package.json çš„ files å­—æ®µæŒ‡å®š</p></blockquote><h4 id="å¦‚ä½•å°†é¢„å…ˆå­˜åœ¨çš„ç‹¬ç«‹åŒ…æ”¶é›†åˆ°lernaç®¡ç†çš„ä»“åº“ä¸­"><a href="#å¦‚ä½•å°†é¢„å…ˆå­˜åœ¨çš„ç‹¬ç«‹åŒ…æ”¶é›†åˆ°lernaç®¡ç†çš„ä»“åº“ä¸­" class="headerlink" title="å¦‚ä½•å°†é¢„å…ˆå­˜åœ¨çš„ç‹¬ç«‹åŒ…æ”¶é›†åˆ°lernaç®¡ç†çš„ä»“åº“ä¸­?"></a>å¦‚ä½•å°†é¢„å…ˆå­˜åœ¨çš„ç‹¬ç«‹åŒ…æ”¶é›†åˆ°<code>lerna</code>ç®¡ç†çš„ä»“åº“ä¸­?</h4><p>å°†å¸¦æœ‰æäº¤å†å²è®°å½•çš„åŒ…å¯¼å…¥ <code>packages/&lt;directory-name&gt;</code>. ä¿ç•™åŸå§‹æäº¤ä½œè€…ã€æ—¥æœŸå’Œæ¶ˆæ¯ã€‚å¦å¤–ï¼šå¦‚æœæ‚¨è¦åœ¨æ–°çš„ lerna å­˜å‚¨åº“ä¸Šå¯¼å…¥å¤–éƒ¨å­˜å‚¨åº“ï¼Œè¯·è®°ä½è‡³å°‘æœ‰ä¸€æ¬¡æäº¤ã€‚<a href="https://github.com/lerna/lerna/tree/main/commands/import#readme">-&gt; æˆ³è¿™é‡Œ</a></p><pre class="language-bash" data-language="bash"><code class="language-bash">lerna <span class="token function">import</span> <span class="token operator">&lt;</span>path-to-external-repository<span class="token operator">></span></code></pre><h4 id="å‘å¸ƒå¤±è´¥åæ€ä¹ˆé‡æ–°å‘å¸ƒ"><a href="#å‘å¸ƒå¤±è´¥åæ€ä¹ˆé‡æ–°å‘å¸ƒ" class="headerlink" title="å‘å¸ƒå¤±è´¥åæ€ä¹ˆé‡æ–°å‘å¸ƒ?"></a>å‘å¸ƒå¤±è´¥åæ€ä¹ˆé‡æ–°å‘å¸ƒ?</h4><p>è¿è¡Œ<code>lerna publish</code>å¦‚æœä¸­é€”æœ‰åŒ…å‘å¸ƒå¤±è´¥ï¼Œå†è¿è¡Œ<code>lerna publish</code>çš„æ—¶å€™ï¼Œå› ä¸º<code>Tag</code>å·²ç»æ‰“ä¸Šå»äº†ï¼Œæ‰€ä»¥ä¸ä¼šå†é‡æ–°å‘å¸ƒåŒ…åˆ°<code>NPM</code>.</p><p>å…ˆæ¸…ç©ºå½“å‰å·¥ä½œåŒºçš„æ–‡ä»¶ä¿®æ”¹ï¼ˆä¸»è¦æ˜¯ä¸Šä¸€æ¬¡å‘å¸ƒæ—¶ï¼Œæ¯ä¸ª<code>package</code>è‡ªèº«çš„<code>package.json</code>ä¼šä¿®æ”¹<code>gitHead</code>ï¼Œå‘å¸ƒæˆåŠŸä¼šè¢«é‡ç½®ï¼Œå¤±è´¥åæ— æ³•æ­£å¸¸é‡ç½®ï¼Œéœ€è¦æ‰‹åŠ¨æ”¾å¼ƒä¿®æ”¹ï¼‰ï¼Œç„¶åï¼š</p><blockquote><p>è¿è¡Œ <code>lerna publish from-git</code>ï¼Œä¼šæŠŠå½“å‰æ ‡ç­¾ä¸­æ¶‰åŠçš„<code>NPM</code>åŒ…å†å‘å¸ƒä¸€æ¬¡ï¼ŒPSï¼šä¸ä¼šå†æ›´æ–°<code>package.json</code>ï¼Œåªæ˜¯æ‰§è¡Œ<code>npm publish</code></p></blockquote><p><code>or</code>ï¼š</p><blockquote><p>è¿è¡Œ <code>lerna publish from-package</code>ï¼Œä¼šæŠŠå½“å‰æ‰€æœ‰æœ¬åœ°åŒ…ä¸­çš„<code>package.json</code>å’Œè¿œç«¯<code>NPM</code>æ¯”å¯¹ï¼Œå¦‚æœæ˜¯ NPM ä¸Šä¸å­˜åœ¨çš„åŒ…ç‰ˆæœ¬ï¼Œéƒ½æ‰§è¡Œä¸€æ¬¡<code>npm publish</code></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> lerna </tag>
            
            <tag> monorepo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>github ä¸Šå¦‚ä½•ä¸ºå¼€æºé¡¹ç›®æäº¤ pr?</title>
      <link href="/posts/github-create-pr/"/>
      <url>/posts/github-create-pr/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦æ˜¯æ ¹æ®è‡ªå·±åœ¨æ‘¸ç´¢æäº¤<code>pr (pull-request)</code>è¿‡ç¨‹ç¨‹çš„ä¸€äº›æ€»ç»“ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿æè¿°ï¼Œçº¦å®šæœ¬æ–‡éœ€è¦<code>fork</code>çš„é¡¹ç›®ä¸º<code>test-project</code>ï¼Œæºä»“åº“åœ°å€<code>regionUser/test-project</code>ï¼Œä½ ï¼ˆæ<code>pr</code>çš„ç”¨æˆ·ï¼‰çš„ç”¨æˆ·åä¸º<code>userA</code>ã€‚</p><span id="more"></span><h3 id="forkåŸé¡¹ç›®"><a href="#forkåŸé¡¹ç›®" class="headerlink" title="forkåŸé¡¹ç›®"></a><code>fork</code>åŸé¡¹ç›®</h3><p>ç™»å…¥è‡ªå·±çš„<code>github</code>è´¦å·ï¼Œè¿›å…¥ä½ éœ€è¦æ<code>pr</code>çš„é‚£ä¸ªé¡¹ç›®ä¸‹ï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„<code>fork</code>ã€‚</p><p>ç„¶åè¿›å…¥ä½ çš„<code>Repositories</code>åˆ—è¡¨ï¼Œä½ ä¼šå‘ç°åä¸º<code>test-project</code>ä»“åº“ã€‚</p><h3 id="clone-è¿™ä¸ª-forké¡¹ç›®"><a href="#clone-è¿™ä¸ª-forké¡¹ç›®" class="headerlink" title="clone è¿™ä¸ª forké¡¹ç›®"></a><code>clone è¿™ä¸ª fork</code>é¡¹ç›®</h3><p>æ‰“å¼€<code>userA/test-project</code>ï¼ˆå³ä½ <code>fork</code>çš„é¡¹ç›®ä¸‹ï¼‰ï¼Œ<code>clone</code>åˆ°æœ¬åœ°ã€‚</p><blockquote><p>git clone <a href="https://github.com/userA/test-project.git">https://github.com/userA/test-project.git</a></p></blockquote><h3 id="å»ºç«‹upstreamä¸Šæ¸¸é“¾æ¥"><a href="#å»ºç«‹upstreamä¸Šæ¸¸é“¾æ¥" class="headerlink" title="å»ºç«‹upstreamä¸Šæ¸¸é“¾æ¥"></a>å»ºç«‹<code>upstream</code>ä¸Šæ¸¸é“¾æ¥</h3><p>è¿™é‡Œä¸Šæ¸¸æŒ‡çš„æ˜¯ä¸€å¼€å§‹<code>fork</code>çš„é‚£ä¸ªé¡¹ç›®æºã€‚</p><blockquote><p>git remote add upstream <a href="https://github.com/regionUser/test-project.git">https://github.com/regionUser/test-project.git</a></p></blockquote><p>æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯ï¼š</p><blockquote><p>git remote -v</p></blockquote><div class="error"><blockquote><p>ä¸€å®šç¡®å®š<code>origin</code>æ˜¯ä½ è‡ªå·±çš„åœ°å€ï¼Œ<code>upstream</code>æ˜¯è¿œç¨‹çš„åœ°å€ã€‚</p></blockquote></div><h3 id="æ–°å¢ã€æäº¤å˜åŠ¨"><a href="#æ–°å¢ã€æäº¤å˜åŠ¨" class="headerlink" title="æ–°å¢ã€æäº¤å˜åŠ¨"></a>æ–°å¢ã€æäº¤å˜åŠ¨</h3><p>è¿™é‡Œä¿®æ”¹çš„æ˜¯ä½ <code>clone</code>ä¸‹æ¥çš„é¡¹ç›®ï¼Œåˆ—ä¸¾äº†ä¸¤ç§æ–¹å¼ã€‚</p><h4 id="åœ¨mainåˆ†æ”¯ä¿®æ”¹"><a href="#åœ¨mainåˆ†æ”¯ä¿®æ”¹" class="headerlink" title="åœ¨mainåˆ†æ”¯ä¿®æ”¹"></a>åœ¨<code>main</code>åˆ†æ”¯ä¿®æ”¹</h4><p>æˆ‘è¿™é‡Œä¸ºäº†æµ‹è¯•ï¼Œé€‰æ‹©å°±åœ¨<code>main</code>ä¸Šä¿®æ”¹ï¼Œä¸”æ¨¡æ‹Ÿäº†æºé¡¹ç›®<code>main</code>å˜æ›´ï¼Œä»¥åŠ<code>userA</code>çš„å¤šæ¬¡æäº¤ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> commit -m <span class="token string">'userAçš„ç¬¬ä¸€æ¬¡æäº¤'</span><span class="token function">git</span> commit -m <span class="token string">'userAçš„ç¬¬äºŒæ¬¡æäº¤'</span><span class="token function">git</span> push origin main</code></pre><h4 id="åŸºäºæ–°çš„åˆ†æ”¯"><a href="#åŸºäºæ–°çš„åˆ†æ”¯" class="headerlink" title="åŸºäºæ–°çš„åˆ†æ”¯"></a>åŸºäºæ–°çš„åˆ†æ”¯</h4><p>åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„<code>fix/fs-fix</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout -b fix/fs-fix<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> commit -m <span class="token string">'userAçš„ç¬¬ä¸€æ¬¡æäº¤'</span><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> commit -m <span class="token string">'userAçš„ç¬¬äºŒæ¬¡æäº¤'</span><span class="token function">git</span> push origin fix/fs-fix</code></pre><p>å†™å®Œååˆå¹¶åˆ°ä¸»åˆ†æ”¯<code>main</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> merge fix/fs-fix<span class="token function">git</span> push origin main</code></pre><h3 id="æ–°å»ºpull-request"><a href="#æ–°å»ºpull-request" class="headerlink" title="æ–°å»ºpull-request"></a>æ–°å»º<code>pull-request</code></h3><p>åœ¨<code>github</code>æ‰“å¼€ä½ <code>fork</code>çš„é¡¹ç›®ã€‚<code>userA/test-project</code>ï¼Œç‚¹å‡»<code>Pull requests</code> -&gt; <code>New pul request</code>æ–°å»º<code>pr</code>ï¼Œä¼šè‡ªåŠ¨è·³è½¬è‡³<code>regionUser/test-project</code>ä¸‹çš„<code>compare</code>ï¼Œå‡ºç°ä¸‹é¢ç•Œé¢ï¼š</p><p><a href="/images/posts/github-create-pr/p1.png"><img src="/images/posts/github-create-pr/p1.png" alt="github-create-pr-p1" loading="lazy"></a></p><blockquote><p><code>base repositories</code>æºé¡¹ç›®ä»“åº“ï¼Œ<code>head repositories</code>æ˜¯<code>fork</code>çš„é¡¹ç›®ä»“åº“(<code>userA</code>).</p></blockquote><p>æˆ‘è¿™é‡Œåˆ›å»ºçš„æ—¶å€™å‡ºç°<code>check</code>ä¸é€šè¿‡çš„æç¤ºï¼ˆå¦‚æœä½ æ²¡æœ‰é‡åˆ°ï¼Œå°±è·³è¿‡ï¼‰ï¼š</p><blockquote><p>Canâ€™t automatically merge. Donâ€™t worry, you can still create the pull request.</p></blockquote><p>å¯ä»¥é¢„æ–™åˆ°ï¼Œå› ä¸ºåŸé¡¹ç›®çš„ä½œè€…åœ¨æˆ‘ä»¬ä¹‹å‰<code>fork</code>ä»¥åï¼Œåˆæ–°å¢äº†åŠŸèƒ½æäº¤ã€‚ <del>è™½ç„¶ä»ç„¶å¯ä»¥åˆ›å»ºæˆåŠŸï¼Œä½†ä¸å»ºè®®ï¼Œä¹Ÿä¸ä¸€å®šä¼šè¢«é‡‡çº³</del></p><p>æ­¤æ—¶ï¼Œéœ€è¦æˆ‘ä»¬å¯¹<code>fork</code>çš„é¡¹ç›®æºç åšä»£ç åŒæ­¥ã€‚å¦‚ä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ‹‰å– upstream æœ€æ–°ä»£ç </span><span class="token function">git</span> fetch upstream<span class="token comment"># (è¿™é‡Œä¸ä¸€å®šæ˜¯ä½¿ç”¨ rebaseï¼Œmerge åŒæ ·å¯ä»¥ï¼Œåªæ˜¯ä¸€ä¸ªåŒæ­¥æœ€æ–°ä»£ç çš„ä¸€ä¸ªæ–¹å¼è€Œå·²)</span><span class="token comment"># å† rebaseï¼Œmain æ˜¯åˆ†æ”¯åï¼Œæˆ‘è¿™å·äº†ä¸ªæ‡’</span><span class="token comment"># æ­¤è¿‡ç¨‹å¯èƒ½ä¼šé‡åˆ°å†²çªï¼Œè§£å†³å†²çª</span><span class="token function">git</span> rebase upstream/main<span class="token comment"># å½“ç„¶ç›´æ¥ä½¿ç”¨ git pull upstream branch ä¹Ÿæ˜¯å¯ä»¥çš„ === fetch + merge</span><span class="token comment"># æ­¤è¿‡ç¨‹å¯èƒ½ä¼šé‡åˆ°å†²çªï¼Œè§£å†³å†²çªå†æ¬¡ rebase</span><span class="token function">git</span> status<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> rebase --continue<span class="token comment"># rebase ï¼ˆå˜åŸºï¼‰æ˜¯åˆå¹¶çš„å¦å¤–ä¸€ç§æ–¹å¼ï¼Œä¸åŒäºmergeçš„æ˜¯ï¼Œä¸ä¼šäº§ç”Ÿæ—æ”¯å’Œå†—ä½™çš„æäº¤è®°å½•ã€‚</span><span class="token comment"># æ‰§è¡Œåä¼šåœ¨ terminal ä¸­æ‰“å¼€ç¼–è¾‘å™¨äº¤äº’ï¼Œå®Œæˆå˜åŸºæ“ä½œï¼ˆä¸çŸ¥é“æ€ä¹ˆåœ¨è¿™ä¸ªç•Œé¢æ“ä½œçš„ï¼Œå¯ä»¥çœ‹æˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡ç« 'vi ç¼–è¾‘å™¨å­¦ä¹ 'ï¼‰</span><span class="token comment"># åœ¨ç•Œé¢ä¸Šæ–¹åˆ—å‡ºäº†éœ€è¦ç¼–è¾‘çš„æ‰€æœ‰æäº¤ï¼Œåœ¨æ¯ä¸ªcommit idå‰çš„æ˜¯æŒ‡ä»¤ç±»å‹(pick)ï¼Œåœ¨Commandsä¸­æœ‰ç›¸å…³çš„æŒ‡ä»¤è¯´æ˜ã€‚</span><span class="token comment"># p, pick = ä¿ç•™è¯¥commit</span><span class="token comment"># r, reword = ä¿ç•™è¯¥commitï¼Œä½†ä¿®æ”¹å®ƒçš„æäº¤ä¿¡æ¯</span><span class="token comment"># e, edit = ä¿ç•™è¯¥commitï¼Œåœ¨åˆå¹¶è¯¥è¯·æ±‚æ—¶æš‚åœ</span><span class="token comment"># s, squash = ä¿ç•™è¯¥commitï¼Œåˆå¹¶åˆ°å‰ä¸€ä¸ªæäº¤ä¸­</span><span class="token comment"># f, fixup = ç±»ä¼¼äºsquashï¼Œä½†æŠ›å¼ƒæäº¤å®ƒçš„æäº¤ä¿¡æ¯</span><span class="token comment"># x, exec = æ‰§è¡Œshellå‘½ä»¤</span><span class="token comment"># d, drop = ä¸¢å¼ƒè¯¥commit</span><span class="token comment"># è§£å†³æ‰æ‰€æœ‰å†²çª æ¨é€æ­¤æ¬¡åˆå¹¶ï¼Œæ·»åŠ  -f å¼ºåˆ¶æ¨é€</span><span class="token function">git</span> push -f origin main</code></pre><p>æŒ‰ä¸Šé¢æµç¨‹æ“ä½œå®Œäº†ä»¥åï¼Œé‡æ–°åˆ›å»º<code>pull-request</code>ï¼Œ<code>check</code>é”™è¯¯å·²ç»æ¶ˆå¤±ï¼š</p><p><a href="/images/posts/github-create-pr/p2.png"><img src="/images/posts/github-create-pr/p2.png" alt="github-create-pr-p2" loading="lazy"></a></p><p><code>å¡«å†™pull-request çš„ titleï¼Œä½ ä¹Ÿå¯ä»¥æ·»åŠ  comment</code>ï¼Œå®Œæˆåï¼Œä½ å¯ä»¥åœ¨<code>regionUser/test-project</code>çš„<code>Pull requests</code>ä¸‹çœ‹åˆ°ä½ æ–°æäº¤çš„<code>pr</code>.æ•ˆæœå¦‚ä¸‹ï¼š</p><p><a href="/images/posts/github-create-pr/p3.png"><img src="/images/posts/github-create-pr/p3.png" alt="github-create-pr-p3" loading="lazy"></a></p><p>è‡³æ­¤ï¼Œ<code>pr</code>åˆ›å»ºå°±å®Œæˆäº†ï¼Œç­‰å¾…åŸé¡¹ç›®ä½œè€…å®¡æ ¸ååˆå¹¶ã€‚</p><h3 id="åŸä»“åº“ä½œè€…è§†è§’"><a href="#åŸä»“åº“ä½œè€…è§†è§’" class="headerlink" title="åŸä»“åº“ä½œè€…è§†è§’"></a>åŸä»“åº“ä½œè€…è§†è§’</h3><p><a href="/images/posts/github-create-pr/p4.png"><img src="/images/posts/github-create-pr/p4.png" alt="github-create-pr-p4" loading="lazy"></a></p><p>é€‰æ‹©åˆå¹¶çš„æ–¹å¼ï¼Œå†æ¬¡ç‚¹å‡»ç¡®è®¤å³å¯å®Œæˆåˆå¹¶ã€‚</p><h3 id="æ›´æ–°forké¡¹ç›®"><a href="#æ›´æ–°forké¡¹ç›®" class="headerlink" title="æ›´æ–°forké¡¹ç›®"></a>æ›´æ–°<code>fork</code>é¡¹ç›®</h3><p>å½“ä½ çš„æäº¤è¢«é‡‡çº³ä»¥åï¼ŒåŸé¡¹ç›®<code>regionUser/test-project</code>ä¼šæ–°å¢ä¸€ä¸ªåˆå¹¶çš„æäº¤è®°å½•ï¼Œä¸ºäº†ä¿æŒä¸€è‡´ï¼Œéœ€è¦åœ¨<code>fork</code>çš„æœ¬åœ°ä»“åº“è¿›è¡Œæ›´æ–°ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> pull --rebase upstream <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span class="token comment"># æˆ–è€…</span><span class="token function">git</span> fetch upstream<span class="token function">git</span> merge upstream/main<span class="token comment"># æ›´æ–°æ¨é€è‡³è¿œç¨‹</span><span class="token function">git</span> push origin main</code></pre><h3 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h3><h4 id="å¦‚ä½•å†æ¬¡æäº¤pr"><a href="#å¦‚ä½•å†æ¬¡æäº¤pr" class="headerlink" title="å¦‚ä½•å†æ¬¡æäº¤pr?"></a>å¦‚ä½•å†æ¬¡æäº¤<code>pr</code>?</h4><p><code>answer</code>ï¼šé‡å¤ä¸Šé¢æ–°å»º<code>pull-request</code>çš„æµç¨‹ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè®°å¾—å…ˆåŒæ­¥ä¸»åˆ†æ”¯ä»£ç ï¼Œä¿è¯ä¸<code>fork</code>çš„åŸé¡¹ç›®ä»£ç ä¸€è‡´ï¼Œå¦åˆ™ä½ ä¼šç»§ç»­é‡åˆ°å†²çªã€‚</p><h4 id="æäº¤pråï¼Œæˆ‘forkçš„ä»“åº“å¯ä»¥åˆ é™¤å—"><a href="#æäº¤pråï¼Œæˆ‘forkçš„ä»“åº“å¯ä»¥åˆ é™¤å—" class="headerlink" title="æäº¤pråï¼Œæˆ‘forkçš„ä»“åº“å¯ä»¥åˆ é™¤å—?"></a>æäº¤<code>pr</code>åï¼Œæˆ‘<code>fork</code>çš„ä»“åº“å¯ä»¥åˆ é™¤å—?</h4><p><code>answer</code>ï¼šåœ¨<code>pr</code>è¢«é‡‡çº³å‰ï¼Œä¸èƒ½åˆ é™¤ï¼Œå¦åˆ™è¯¥<code>pr</code>ä¼šè‡ªåŠ¨å…³é—­ï¼›åœ¨é‡‡çº³åæ˜¯å¯ä»¥åˆ é™¤æ‰çš„ï¼Œå› ä¸ºä»£ç å·²ç»è¢«åˆå¹¶è‡³ä¸»é¡¹ç›®é‡Œäº†ï¼ˆå­˜åœ¨äºä¸»ä»“åº“çš„<code>Pull requests</code>è®°å½•ä¹Ÿä¼šè¢«åˆ é™¤ï¼‰ã€‚</p><div class="success"><blockquote><p>ä¸–äº‹åƒå¸†è¿‡ï¼Œå‰æ–¹ç»ˆä¼šæ˜¯æ¸©æŸ”å’Œæœˆå…‰ã€‚</p></blockquote></div>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ”¶è—å®‰åˆ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git çš„åŸºæœ¬ä½¿ç”¨</title>
      <link href="/share/git/"/>
      <url>/share/git/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Git is a free and open source distributed version control system</p></blockquote><h3 id="Gitæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„"><a href="#Gitæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„" class="headerlink" title="Gitæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„?"></a><code>Git</code>æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„?</h3><ul><li><p>æ‰˜ç®¡ä»£ç åˆ°è¿œç¨‹ï¼Œåˆ†å¸ƒå¼æ‰˜ç®¡ï¼Œé¿å…æœ¬æœºç£ç›˜æŸåé€ æˆä¸å¯æŒ½å›çš„å±€é¢ã€‚</p></li><li><p>ç‰ˆæœ¬æ§åˆ¶ï¼Œå¯ä»¥å‘å¸ƒå¤šä¸ªç‰ˆæœ¬å¹¶ä¸”å®ç°åœ¨å„ä¸ªç‰ˆæœ¬ä¹‹é—´æ¥å›ç©¿æ¢­ï¼ˆå®ç°åŸç†ï¼šæ–‡ä»¶å¿«ç…§ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½ä¼šæœ‰ä¸€ä¸ªæ–‡ä»¶å¿«ç…§ï¼Œæ¯”ç›´æ¥å¤‡ä»½æ–‡ä»¶å¿«é€Ÿä¾¿æ·ã€‚å› æ­¤ï¼ŒGit ä»“åº“åˆè¢«ç§°ä¸ºç‰ˆæœ¬åº“ï¼‰ã€‚</p></li><li><p>å›¢é˜Ÿåä½œï¼Œå¼ºå¤§çš„åˆ†æ”¯åŠŸèƒ½ï¼Œå¯ä»¥å¿«é€Ÿå®ç°å›¢é˜Ÿåä½œ</p></li></ul><span id="more"></span><p>ç¯å¢ƒæ­å»ºï¼š<a href="/share/git-install-and-terminal-config">-&gt; æˆ³è¿™é‡Œ</a></p><hr><h3 id="æŒ‡ä»¤ä½¿ç”¨"><a href="#æŒ‡ä»¤ä½¿ç”¨" class="headerlink" title="æŒ‡ä»¤ä½¿ç”¨"></a>æŒ‡ä»¤ä½¿ç”¨</h3><h4 id="é…ç½®ä¿¡æ¯"><a href="#é…ç½®ä¿¡æ¯" class="headerlink" title="é…ç½®ä¿¡æ¯"></a>é…ç½®ä¿¡æ¯</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config <span class="token operator">&lt;</span>scope<span class="token operator">></span> <span class="token operator">&lt;</span>key<span class="token operator">></span> <span class="token operator">&lt;</span>value<span class="token operator">></span><span class="token comment"># åˆ—å‡ºç”¨æˆ·çº§çš„æ‰€æœ‰é…ç½®ä¿¡æ¯</span><span class="token function">git</span> config --global -l<span class="token comment"># å¢åŠ é…ç½®é¡¹ é»˜è®¤æ˜¯è·å–localé…ç½®ä¸­å†…å®¹</span><span class="token function">git</span> config <span class="token punctuation">[</span>--local<span class="token operator">|</span>--global<span class="token operator">|</span>--system<span class="token punctuation">]</span> --get section.key<span class="token comment"># è·å–ä¸€ä¸ªé…ç½®é¡¹</span><span class="token function">git</span> config <span class="token punctuation">[</span>--local<span class="token operator">|</span>--global<span class="token operator">|</span>--system<span class="token punctuation">]</span> --get section.key<span class="token comment"># åˆ é™¤ä¸€ä¸ªé…ç½®é¡¹</span><span class="token function">git</span> config <span class="token punctuation">[</span>--local<span class="token operator">|</span>--global<span class="token operator">|</span>--system<span class="token punctuation">]</span> --unset section.key</code></pre><p><code>git</code>çš„é…ç½®çº§åˆ«ä¸»è¦æœ‰ä¸‰ç±»ï¼ŒæŒ‰ä¼˜å…ˆçº§é¡ºåºåˆ†ä¸ºï¼š<code>local(ä»“åº“çº§)ã€global(ç”¨æˆ·çº§)ã€system(ç³»ç»Ÿçº§)</code>ï¼š</p><blockquote><p><code>local</code>(ä»“åº“çº§)ï¼šå¯¹åº”çš„é…ç½®æ–‡ä»¶æ˜¯å½“å‰ä»“åº“ä¸‹çš„<code>.git/config</code> ï¼ˆé»˜è®¤æ˜¯éšè—çš„ï¼‰</p></blockquote><blockquote><p><code>global</code>(ç”¨æˆ·çº§)ï¼šå¯¹åº”çš„é…ç½®æ–‡ä»¶æ˜¯ç”¨æˆ·å®¿ä¸»ç›®å½•ä¸‹çš„<code>~/.gitconfig</code></p></blockquote><blockquote><p><code>system</code>(ç³»ç»Ÿçº§)ï¼šå¯¹åº”çš„é…ç½®æ–‡ä»¶æ˜¯<code>git</code>å®‰è£…ç›®å½•ä¸‹çš„<code>/etc/gitconfig</code></p></blockquote><h4 id="åˆå§‹åŒ–é¡¹ç›®ä»“åº“"><a href="#åˆå§‹åŒ–é¡¹ç›®ä»“åº“" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®ä»“åº“"></a>åˆå§‹åŒ–é¡¹ç›®ä»“åº“</h4><p>åŒºåˆ«äºå…‹éš†ï¼Œåˆå§‹åŒ–ä»“åº“é€šå¸¸æ˜¯åœ¨æ–°å»ºé¡¹ç›®æ—¶ä½¿ç”¨ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–ä»“åº“</span><span class="token function">git</span> init<span class="token comment"># ç¬¬äºŒæ­¥ï¼šå»ºç«‹æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“çš„å…³è”</span><span class="token function">git</span> remote <span class="token function">add</span> origin <span class="token punctuation">[</span>çº¿ä¸Šä»“åº“åœ°å€<span class="token punctuation">]</span><span class="token comment"># å¦‚æœæ­¤å‘½ä»¤æŠ›å‡º fatal: remote origin already exists. å¼‚å¸¸ï¼Œé‚£ä¹ˆç»§ç»­æ‰§è¡Œï¼š</span><span class="token function">git</span> remote <span class="token function">rm</span> origin<span class="token function">git</span> remote <span class="token function">add</span> origin <span class="token punctuation">[</span>çº¿ä¸Šä»“åº“çš„SSHåœ°å€<span class="token punctuation">]</span></code></pre><p><code>æ³¨æ„ï¼š.git æ–‡ä»¶ä¸èƒ½åµŒå¥—ï¼ˆä»“åº“ä¸èƒ½åµŒå¥—ï¼‰</code></p><h4 id="å…‹éš†ä¸€ä¸ªé¡¹ç›®"><a href="#å…‹éš†ä¸€ä¸ªé¡¹ç›®" class="headerlink" title="å…‹éš†ä¸€ä¸ªé¡¹ç›®"></a>å…‹éš†ä¸€ä¸ªé¡¹ç›®</h4><p>å…‹éš†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„é¡¹ç›®åˆ°æœ¬åœ°ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone <span class="token punctuation">[</span>url<span class="token punctuation">]</span></code></pre><h4 id="ä¸€æ¬¡æäº¤æµç¨‹"><a href="#ä¸€æ¬¡æäº¤æµç¨‹" class="headerlink" title="ä¸€æ¬¡æäº¤æµç¨‹"></a>ä¸€æ¬¡æäº¤æµç¨‹</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å…ˆæ‹‰å–ç›®æ ‡åˆ†æ”¯çš„æœ€æ–°ä»£ç ï¼Œæ‹‰å–ä¹‹åç›´æ¥åˆå¹¶ã€‚å¯ä»¥ç®€å†™ä¸º git pull</span><span class="token function">git</span> pull origin <span class="token punctuation">[</span>åˆ†æ”¯å<span class="token punctuation">]</span><span class="token comment"># git pull = git fetch + git merge</span><span class="token comment"># git fetch origin [åˆ†æ”¯å] ï¼šå…ˆæ‹‰å–ç›®æ ‡åˆ†æ”¯çš„æœ€æ–°ä»£ç ï¼Œæ‹‰å–ä¹‹åç”±ç”¨æˆ·å†³å®šæ˜¯å¦åˆå¹¶</span><span class="token comment"># å°†æ”¹åŠ¨çš„ä»£ç æ–‡ä»¶æ·»åŠ è‡³æš‚å­˜åŒº</span><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token comment"># ä¹Ÿå¯ä»¥ git add [æ–‡ä»¶å] æ¥å•ç‹¬æ·»åŠ æŸä¸€ä¸ªæ–‡ä»¶</span><span class="token function">git</span> <span class="token function">add</span> -A<span class="token comment"># å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤è‡³æœ¬åœ°ä»“åº“</span><span class="token function">git</span> commit -m <span class="token string">'è¿™æ¬¡æäº¤çš„æè¿°ä¿¡æ¯'</span><span class="token comment"># å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ å¦‚æœä¸æ˜¯è¯¥åˆ†æ”¯çš„ç¬¬ä¸€æ¬¡æ¨é€ï¼Œå¯ä»¥ç®€å†™ä¸º git push</span><span class="token function">git</span> push origin <span class="token punctuation">[</span>åˆ†æ”¯å<span class="token punctuation">]</span><span class="token comment"># å½“ç„¶è¿™ä¸ªè¿‡ç¨‹ä½ ä¹Ÿå¯ä»¥æŸ¥çœ‹å½“å‰ä»“åº“çš„çŠ¶æ€</span><span class="token function">git</span> status</code></pre><p>å¦‚å›¾ï¼š</p><p><a href="/images/share/git/p1.png"><img src="/images/share/git/p1.png" alt="git-p1" loading="lazy"></a></p><h4 id="æŸ¥çœ‹æäº¤æ—¥å¿—"><a href="#æŸ¥çœ‹æäº¤æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹æäº¤æ—¥å¿—"></a>æŸ¥çœ‹æäº¤æ—¥å¿—</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log</code></pre><h4 id="ç§»åŠ¨ã€é‡å‘½åæ–‡ä»¶"><a href="#ç§»åŠ¨ã€é‡å‘½åæ–‡ä»¶" class="headerlink" title="ç§»åŠ¨ã€é‡å‘½åæ–‡ä»¶"></a><strong>ç§»åŠ¨ã€é‡å‘½åæ–‡ä»¶</strong></h4><div class="success"><blockquote><p><code>git mv</code>å‘½ä»¤ç”¨äºç§»åŠ¨æˆ–é‡å‘½åä¸€ä¸ªæ–‡ä»¶ã€ç›®å½•æˆ–è½¯è¿æ¥ï¼Œå¯ä»¥è§£å†³<code>windows</code>ç¯å¢ƒä¸‹<code>git</code>å¯¹æ–‡ä»¶åŠæ–‡ä»¶å¤¹å¤§å°å†™ä¸æ•æ„Ÿé—®é¢˜ã€‚ï¼ˆ<del>å½“ç„¶åˆ é™¤å†æäº¤ï¼Œé‡æ–°æ·»åŠ å†æäº¤ä¹Ÿæ˜¯å¯ä»¥æ»´ ğŸ˜‚ğŸ˜‚ğŸ˜‚</del>ï¼‰</p></blockquote></div><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å…ˆ cd åˆ°ä½ è¦é‡å‘½åçš„æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰§è¡Œä¸‹é¢å‘½ä»¤</span><span class="token function">git</span> <span class="token function">mv</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token punctuation">[</span>newfile<span class="token punctuation">]</span><span class="token comment"># eg. root/static/images -> root/static/image</span><span class="token builtin class-name">cd</span> ./static<span class="token function">git</span> <span class="token function">mv</span> images image<span class="token comment"># é‡å‘½åçš„æ–‡ä»¶å¤¹ å·²å­˜åœ¨ï¼Œæ­¤æ—¶çš„ mv å°±æ˜¯ç§»åŠ¨æŒ‡ä»¤æŒ‡--ç§»åŠ¨åˆ°--   å¦‚æœæƒ³ç§»åŠ¨åˆ° ä¸Šä¸€çº§ï¼š</span><span class="token function">git</span> <span class="token function">mv</span> files <span class="token punctuation">..</span><span class="token comment"># å¯¹äºæ–‡ä»¶è€Œè¨€ï¼Œå¦‚æœå·²å­˜åœ¨ï¼Œæ·»åŠ  -f å¼ºåˆ¶ä¿®æ”¹</span><span class="token function">git</span> <span class="token function">mv</span> -f <span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token punctuation">[</span>newfile<span class="token punctuation">]</span></code></pre><h4 id="å­˜å‚¨æ–‡ä»¶æ”¹åŠ¨"><a href="#å­˜å‚¨æ–‡ä»¶æ”¹åŠ¨" class="headerlink" title="å­˜å‚¨æ–‡ä»¶æ”¹åŠ¨"></a>å­˜å‚¨æ–‡ä»¶æ”¹åŠ¨</h4><p>åœºæ™¯ï¼šå½“å‰å·¥ä½œåŒºè¢«æ±¡æŸ“ï¼Œå†…å®¹æœªå®Œæˆï¼Œä¸æƒ³ç›´æ¥æäº¤ï¼Œ éœ€è¦åˆ‡åˆ°æŒ‡å®šåˆ†æ”¯ç‰ˆæœ¬ç´§æ€¥è§£å†³å…¶ä»–éœ€æ±‚ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å­˜å‚¨å½“å‰å·¥ä½œåŒºçš„æ”¹åŠ¨ï¼ˆä¸å­˜å‚¨æ–°æ–‡ä»¶åŠ ignore çš„æ–‡ä»¶</span><span class="token function">git</span> stash<span class="token comment"># å­˜å‚¨æ‰€æœ‰æ”¹åŠ¨</span><span class="token function">git</span> stash -a<span class="token comment"># æŒ‡å®šç‰ˆæœ¬ test å¹¶å­˜å‚¨</span><span class="token function">git</span> stash save <span class="token string">'test'</span><span class="token comment"># æŸ¥çœ‹å½“å‰å­˜å‚¨çš„æ‰€æœ‰ç‰ˆæœ¬</span><span class="token function">git</span> stash list<span class="token comment"># å¼¹å‡ºæœ€æ–°çš„å­˜å‚¨å†…å®¹è‡³å·¥ä½œåŒº å¹¶åˆ é™¤å­˜å‚¨å¯¹åº”çš„ç‰ˆæœ¬çš„å­˜å‚¨</span><span class="token function">git</span> stash pop<span class="token comment"># åº”ç”¨æŒ‡å®šç‰ˆæœ¬çš„å­˜å‚¨å†…å®¹è‡³å·¥ä½œåŒº ä¸åˆ é™¤å­˜å‚¨ version å¯¹åº”å­˜å‚¨çš„ç‰ˆæœ¬å· 0ã€1ã€ã€</span><span class="token function">git</span> stash apply stash@<span class="token punctuation">&#123;</span>version<span class="token punctuation">&#125;</span><span class="token comment"># åˆ é™¤æŒ‡å®šçš„å­˜å‚¨ç‰ˆæœ¬å†…å®¹ 0 ä¸ºç‰ˆæœ¬å·</span><span class="token function">git</span> stash drop stash@<span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token comment"># åˆ é™¤æ‰€æœ‰çš„å­˜å‚¨</span><span class="token function">git</span> stash <span class="token function">clear</span><span class="token comment"># ...</span></code></pre><h4 id="å°†æŸæ¬¡æäº¤åˆå¹¶è‡³å½“å‰åˆ†æ”¯"><a href="#å°†æŸæ¬¡æäº¤åˆå¹¶è‡³å½“å‰åˆ†æ”¯" class="headerlink" title="å°†æŸæ¬¡æäº¤åˆå¹¶è‡³å½“å‰åˆ†æ”¯"></a>å°†æŸæ¬¡æäº¤åˆå¹¶è‡³å½“å‰åˆ†æ”¯</h4><p>åœºæ™¯ï¼šåœ¨æŸä¸ªåŠŸèƒ½åˆ†æ”¯<code>A</code>ä¸Šæ–°å¢äº†ä¸€ä¸ªåŠŸèƒ½æäº¤ï¼Œæƒ³åœ¨å¦å¤–ä¸€ä¸ªåˆ†æ”¯<code>B</code>ä½¿ç”¨ï¼Œä½†åˆä¸æƒ³è®©å¦å¤–è¿™ä¸ªåˆ†æ”¯<code>B</code>åˆå¹¶<code>A</code>çš„å…¶ä»–åŠŸèƒ½ï¼Œæ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡<code>cherry-pick</code>å°†<code>A</code>çš„æŸæ¬¡æäº¤åˆå¹¶åˆ°<code>B</code>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ‡æ¢åˆ°åˆ†æ”¯ B</span><span class="token function">git</span> checkout B<span class="token comment"># å°†åˆ†æ”¯ A æäº¤çš„ asgasgasgnajsgank å†…å®¹åˆå¹¶å½“å½“å‰çš„ B åˆ†æ”¯</span><span class="token function">git</span> cherry-pick asgasgasgnajsgank<span class="token comment"># é‡åˆ°å†²çª</span><span class="token comment"># è§£å†³å†²çª å…ˆæ‰“å¼€ç¼–è¾‘å™¨è§£å†³å†²çª</span><span class="token comment"># -- å·¥ä½œåŒºæ˜¯å¹²å‡€çš„</span><span class="token function">git</span> cherry-pick --continue<span class="token comment"># -- å·¥ä½œåŒºä¸å¹²å‡€</span><span class="token function">git</span> <span class="token function">add</span> xxx<span class="token function">git</span> commit -m <span class="token string">''</span><span class="token function">git</span> push æˆ– <span class="token function">git</span> push origin B<span class="token comment"># ä¸è§£å†³å†²çª</span><span class="token comment"># -- é€€å›åˆ° cherry-pick ä¹‹å‰çš„çŠ¶æ€</span><span class="token function">git</span> cherry-pick --abort<span class="token comment"># -- é€€å‡º cherry-pick ä½†ä¸å›åˆ°ä¹‹å‰çš„çŠ¶æ€</span><span class="token function">git</span> cherry-pick --quit</code></pre><h4 id="å›é€€ç‰ˆæœ¬"><a href="#å›é€€ç‰ˆæœ¬" class="headerlink" title="å›é€€ç‰ˆæœ¬"></a>å›é€€ç‰ˆæœ¬</h4><p>å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬åï¼ŒæŒ‡å®šç‰ˆæœ¬çš„åç»­ç‰ˆæœ¬å°†è¢«åˆ é™¤</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹ç‰ˆæœ¬å·</span><span class="token function">git</span> log<span class="token comment"># ç‰ˆæœ¬å›é€€è‡³ asgasjgajsga</span><span class="token function">git</span> reset --hard asgasjgajsga<span class="token comment"># æ¨é€æ›´æ”¹</span><span class="token comment"># ç›´æ¥ git push ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ­¤æ—¶æœ¬åœ°çš„ HEAD æŒ‡å‘ç‰ˆæœ¬å’Œè¿œç¨‹ä¸ä¸€æ ·</span><span class="token function">git</span> push origin A  <span class="token operator">||</span> <span class="token function">git</span> push -f</code></pre><h4 id="è¿˜åŸæŸä¸€æ¬¡æäº¤"><a href="#è¿˜åŸæŸä¸€æ¬¡æäº¤" class="headerlink" title="è¿˜åŸæŸä¸€æ¬¡æäº¤"></a>è¿˜åŸæŸä¸€æ¬¡æäº¤</h4><p>åœºæ™¯ï¼šç”¨äºå›é€€ä¹‹å‰çš„é”™è¯¯æäº¤æˆ–è€…å–æ¶ˆæŸä¸€æ¬¡çš„å†…å®¹æäº¤ï¼Œä¸å½±å“å…¶ä»–çš„æäº¤å†…å®¹</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å–æ¶ˆ asgasgasgjaj è¿™æ¬¡æäº¤</span><span class="token function">git</span> revert -n asgasgasgjaj<span class="token comment"># é‡åˆ°å†²çªå…ˆè§£å†³</span><span class="token comment"># æäº¤è¿™æ¬¡ revert</span><span class="token function">git</span> commit -m <span class="token string">'Revert: å–æ¶ˆ asgasgasgjaj çš„æäº¤å†…å®¹'</span><span class="token comment"># æ¨é€</span><span class="token function">git</span> push</code></pre><h4 id="åˆ†æ”¯ç®¡ç†"><a href="#åˆ†æ”¯ç®¡ç†" class="headerlink" title="åˆ†æ”¯ç®¡ç†"></a><strong>åˆ†æ”¯ç®¡ç†</strong></h4><h5 id="åˆ†æ”¯æŸ¥çœ‹"><a href="#åˆ†æ”¯æŸ¥çœ‹" class="headerlink" title="åˆ†æ”¯æŸ¥çœ‹"></a>åˆ†æ”¯æŸ¥çœ‹</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯åˆ—è¡¨</span><span class="token function">git</span> branch æˆ– <span class="token function">git</span> branch -a<span class="token comment"># æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯</span><span class="token function">git</span> branch -l</code></pre><h5 id="åˆ†æ”¯åˆ›å»º"><a href="#åˆ†æ”¯åˆ›å»º" class="headerlink" title="åˆ†æ”¯åˆ›å»º"></a>åˆ†æ”¯åˆ›å»º</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ›å»ºåˆ†æ”¯ A</span><span class="token function">git</span> branch A<span class="token comment"># æŒ‡å®šä»¥ asgasgl è¿™æ¬¡æäº¤çš„å†…å®¹ åˆ›å»ºçš„åˆ†æ”¯å A</span><span class="token function">git</span> branch A asgasgl<span class="token comment"># åˆ›å»ºå¹¶åˆ‡æ¢è‡³åˆ†æ”¯ B</span><span class="token function">git</span> checkout -b B</code></pre><h5 id="åˆ†æ”¯åˆ‡æ¢"><a href="#åˆ†æ”¯åˆ‡æ¢" class="headerlink" title="åˆ†æ”¯åˆ‡æ¢"></a>åˆ†æ”¯åˆ‡æ¢</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ‡æ¢è‡³åˆ†æ”¯ B</span><span class="token function">git</span> checkout B</code></pre><h5 id="åˆ†æ”¯æ›´æ–°"><a href="#åˆ†æ”¯æ›´æ–°" class="headerlink" title="åˆ†æ”¯æ›´æ–°"></a>åˆ†æ”¯æ›´æ–°</h5><p>åœºæ™¯ï¼šè¿œç¨‹åˆ†æ”¯è¢«åˆ é™¤ï¼Œä½†è‡ªå·±æœ¬åœ°æ˜¾ç¤ºè¿œç¨‹åˆ†æ”¯å­˜åœ¨</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ›´æ–°è¿œç¨‹åˆ†æ”¯</span><span class="token function">git</span> remote update origin --prune<span class="token comment"># æŸ¥çœ‹éœ€è¦æ¸…ç†çš„æœ¬åœ°åˆ†æ”¯</span><span class="token function">git</span> remote prune origin --dry-run<span class="token comment"># åˆ é™¤æœ¬åœ°å­˜åœ¨ï¼Œä½†è¿œç¨‹ä¸å­˜åœ¨çš„åˆ†æ”¯</span><span class="token function">git</span> remote prune origin -n</code></pre><h5 id="åˆ†æ”¯åˆ é™¤"><a href="#åˆ†æ”¯åˆ é™¤" class="headerlink" title="åˆ†æ”¯åˆ é™¤"></a>åˆ†æ”¯åˆ é™¤</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ é™¤æœ¬åœ°åˆ†æ”¯ B, éœ€è¦å…ˆåˆ‡åˆ°ä¸€ä¸ªé B çš„åˆ†æ”¯ A</span><span class="token function">git</span> checkout A<span class="token function">git</span> branch -d B<span class="token comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯ B</span><span class="token function">git</span> push origin --delete B</code></pre><h5 id="åˆ†æ”¯åˆå¹¶"><a href="#åˆ†æ”¯åˆå¹¶" class="headerlink" title="åˆ†æ”¯åˆå¹¶"></a>åˆ†æ”¯åˆå¹¶</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åŠŸèƒ½åˆ†æ”¯çš„ä»£ç æ¨é€è‡³è¿œç«¯</span><span class="token function">git</span> push origin feature/xxx<span class="token comment"># åˆ‡æ¢è‡³ä¸»åˆ†æ”¯</span><span class="token function">git</span> checkout develop<span class="token comment"># æ‹‰å–ä¸»åˆ†æ”¯æœ€æ–°ä»£ç </span><span class="token function">git</span> pull origin develop <span class="token operator">||</span> <span class="token function">git</span> pull<span class="token comment"># åˆå¹¶åŠŸèƒ½åˆ†æ”¯è‡³ develop</span><span class="token function">git</span> merge feature/xxx<span class="token comment"># é‡åˆ°å†²çª --- ä¸¢å¼ƒ ä¸åˆå¹¶äº†</span><span class="token function">git</span> merge --abort<span class="token comment"># å¦å¤–ä¸€ç§å˜åŸºåˆå¹¶</span><span class="token function">git</span> rebase branch</code></pre><h4 id="ä¸ºæŸæ¬¡æäº¤æ‰“æ ‡ç­¾"><a href="#ä¸ºæŸæ¬¡æäº¤æ‰“æ ‡ç­¾" class="headerlink" title="ä¸ºæŸæ¬¡æäº¤æ‰“æ ‡ç­¾"></a>ä¸ºæŸæ¬¡æäº¤æ‰“æ ‡ç­¾</h4><p>æ ‡ç­¾åˆ†ä¸º<strong>è½»é‡æ ‡ç­¾ï¼ˆ<code>lightweight</code>ï¼‰</strong>ä¸é™„æ³¨æ ‡ç­¾ <strong>ï¼ˆ<code>annotated</code>ï¼‰</strong></p><h5 id="æ ‡ç­¾æŸ¥çœ‹"><a href="#æ ‡ç­¾æŸ¥çœ‹" class="headerlink" title="æ ‡ç­¾æŸ¥çœ‹"></a>æ ‡ç­¾æŸ¥çœ‹</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾</span><span class="token function">git</span> tag<span class="token comment"># æŒ‰ç…§é€šé…ç¬¦åˆ—å‡ºæ ‡ç­¾éœ€è¦ -l æˆ– --list é€‰é¡¹ï¼ˆä¸‹é¢é€šé…ç¬¦æŒ‡ v1.0.0 å¼€å¤´çš„æ‰€æœ‰æ ‡ç­¾ï¼‰</span><span class="token function">git</span> tag -l <span class="token string">'v1.0.0*'</span><span class="token comment"># æŸ¥çœ‹å…·ä½“æŸä¸€ä¸ªæ ‡ç­¾ï¼ˆv1.0.0ï¼‰ä¿¡æ¯å’Œä¸ä¹‹å¯¹åº”çš„æäº¤ä¿¡æ¯</span><span class="token function">git</span> show v1.0.0</code></pre><h5 id="æ ‡ç­¾åˆ›å»º"><a href="#æ ‡ç­¾åˆ›å»º" class="headerlink" title="æ ‡ç­¾åˆ›å»º"></a>æ ‡ç­¾åˆ›å»º</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># -a åˆ›å»ºé™„æ³¨æ ‡ç­¾ï¼ˆv1.0.0ï¼‰ -m æŒ‡å®šäº†ä¸€æ¡å°†ä¼šå­˜å‚¨åœ¨æ ‡ç­¾ä¸­çš„ä¿¡æ¯</span><span class="token function">git</span> tag -a v1.0.0 -m <span class="token string">"my version 1.4"</span><span class="token comment"># åˆ›å»ºè½»é‡æ ‡ç­¾ï¼ˆv1.0.0ï¼‰ï¼Œä¸åŒ…å«ä»»ä½•å…¶ä»–ä¿¡æ¯</span><span class="token function">git</span> tag v1.0.0<span class="token comment"># é’ˆå¯¹å†å²æäº¤è®°å½•çš„æŸä¸€æ¬¡çš„æäº¤ï¼Œåˆ›å»ºæ ‡ç­¾ï¼ˆv1.0.0ï¼‰</span><span class="token function">git</span> tag -a v1.0.0 9fceb02xxx</code></pre><h5 id="æ ‡ç­¾å…±äº«ï¼ˆæ¨é€è¿œç¨‹ï¼‰"><a href="#æ ‡ç­¾å…±äº«ï¼ˆæ¨é€è¿œç¨‹ï¼‰" class="headerlink" title="æ ‡ç­¾å…±äº«ï¼ˆæ¨é€è¿œç¨‹ï¼‰"></a>æ ‡ç­¾å…±äº«ï¼ˆæ¨é€è¿œç¨‹ï¼‰</h5><p>æ³¨æ„éœ€è¦æ˜¾å¼çš„æ¨é€ï¼Œä¸èƒ½ç®€å†™ä¸º<code>git push</code>.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å°†æ ‡ç­¾ v1.0.0 æ¨é€åˆ°è¿œç¨‹ï¼Œæ–¹ä¾¿å…¶ä»–äººå…±äº«</span><span class="token function">git</span> push origin v1.0.0<span class="token comment"># å°†æ‰€æœ‰æ ‡ç­¾æ¨é€è‡³è¿œç¨‹</span><span class="token function">git</span> push origin --tags</code></pre><h5 id="æ ‡ç­¾åˆ é™¤"><a href="#æ ‡ç­¾åˆ é™¤" class="headerlink" title="æ ‡ç­¾åˆ é™¤"></a>æ ‡ç­¾åˆ é™¤</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ é™¤æœ¬åœ°æ ‡ç­¾ v1.0.0</span><span class="token function">git</span> tag -d v1.0.0<span class="token comment"># åˆ é™¤è¿œç¨‹çš„ä¸€ä¸ªæ ‡ç­¾ git push &lt;remote> :refs/tags/&lt;tagname></span><span class="token function">git</span> push origin :refs/tags/v1.0.0<span class="token comment"># æˆ–è€…</span><span class="token function">git</span> push origin --delete v1.0.0</code></pre><h5 id="æ£€å‡ºæ ‡ç­¾"><a href="#æ£€å‡ºæ ‡ç­¾" class="headerlink" title="æ£€å‡ºæ ‡ç­¾"></a>æ£€å‡ºæ ‡ç­¾</h5><p>åœ¨æ ‡ç­¾åˆ›å»ºå®Œæˆåï¼Œä½ åœ¨ä¸Šçº¿ä¹‹å‰åˆåšè¿‡å¤šæ¬¡ä¿®æ”¹ã€‚è¿™æ—¶ä½ å¯ä»¥æ£€å‡ºä½ ä¹‹å‰é‚£ä¸ªå‡†å¤‡å‘å¸ƒçš„ç‰ˆæœ¬ï¼ˆæ‰“æ ‡ç­¾çš„ç‰ˆæœ¬ï¼‰è¿›è¡Œéƒ¨ç½²ã€‚</p><p><code>Git</code>ä¸­ä¸èƒ½çœŸçš„æ£€å‡ºä¸€ä¸ªæ ‡ç­¾ï¼Œå› ä¸ºä»–ä»¬å¹¶ä¸èƒ½åƒåˆ†æ”¯ä¸€æ ·æ¥å›ç§»åŠ¨ã€‚å¦‚æœä½ åˆ‡æ¢åˆ°æŸä¸ªæ ‡ç­¾ååˆæäº¤äº†æ–°ä¸œè¥¿ï¼Œé‚£ä¹ˆè¿™äº›æ–°çš„æäº¤å°†ä¸å±äºä»»ä½•åˆ†æ”¯ï¼Œå¹¶ä¸”æ— æ³•è®¿é—®ï¼Œé™¤éé€šè¿‡ç¡®åˆ‡çš„æäº¤å“ˆå¸Œæ‰èƒ½è®¿é—®ã€‚</p><p>é‚£ä¹ˆ<strong>å¦‚æœçœŸçš„éœ€è¦åœ¨æŸä¸€ä¸ªæ ‡ç­¾ç‰ˆæœ¬ä¿®å¤ä¸€äº›å†…å®¹ï¼šé‚£ä¹ˆæ¨èçš„åšæ³•æ˜¯åŸºäºè¿™ä¸ªæ ‡ç­¾ç‰ˆæœ¬åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚</strong>å¦‚ä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># git checkout -b [åˆ†æ”¯å] [æ ‡ç­¾å]</span><span class="token function">git</span> checkout -b version1 v1.0.0</code></pre><div class="success"><blockquote><p>è¯´äº†è¿™ä¹ˆå¤šæŒ‡ä»¤ï¼Œä¸ç”¨åˆ»æ„å»è®°ï¼Œå­°èƒ½ç”Ÿå·§ã€‚å¦å¤–ï¼šå®‰åˆ© vscode çš„æ’ä»¶ Git Graphã€GitLens â€” Git superchargedï¼Œæ‰€æœ‰çš„<code>git</code>æŒ‡ä»¤éƒ½èƒ½é€šè¿‡ç•Œé¢æ“ä½œã€‚å¯ä»¥çœ‹ä¸€ä¸‹æˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼š <a href="/posts/vscode-setting-and-plugins">vscode çš„ä½¿ç”¨ï¼Œè®¾ç½®åˆ†äº«ä»¥åŠæ’ä»¶æ¨è</a></p></blockquote></div><h3 id="ä»£ç æäº¤è§„èŒƒ"><a href="#ä»£ç æäº¤è§„èŒƒ" class="headerlink" title="ä»£ç æäº¤è§„èŒƒ"></a>ä»£ç æäº¤è§„èŒƒ</h3><p>æ¯ä¸€æ¬¡æäº¤ä»£ç æ—¶éƒ½ä¼šå†™<code>commit message</code>ï¼Œå¦‚æœä¹¦å†™é£æ ¼ä¸ç»Ÿä¸€ï¼Œååˆ†ä¸åˆ©äºé˜…è¯»å’Œç»´æŠ¤ã€‚æ¨èæ ¼å¼ï¼š</p><blockquote><p>type(scope) : subject</p></blockquote><p><code>type</code>ï¼šæŒ‡<code>commit</code>çš„ç±»åˆ«ï¼Œæ­¤é¡¹å¿…å¡«ã€‚</p><ul><li><p><code>feat</code>: æ–°åŠŸèƒ½</p></li><li><p><code>fix</code>: ä¿®å¤ bug</p></li><li><p><code>docs</code>: æ–‡æ¡£æ”¹å˜</p></li><li><p><code>style</code>: ä»£ç æ ¼å¼æ”¹å˜</p></li><li><p><code>refactor</code>: æŸä¸ªå·²æœ‰åŠŸèƒ½é‡æ„</p></li><li><p><code>perf</code>: æ€§èƒ½ä¼˜åŒ–</p></li><li><p><code>test</code>: å¢åŠ æµ‹è¯•</p></li><li><p><code>build</code>: æ”¹å˜äº† build å·¥å…· å¦‚ grunt æ¢æˆäº† npm</p></li><li><p><code>revert</code>: æ’¤é”€ä¸Šä¸€æ¬¡çš„ commit</p></li><li><p><code>chore</code>: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨</p></li></ul><p><code>scope</code>ï¼šè¯´æ˜<code>commit</code>å½±å“çš„èŒƒå›´ï¼Œæ­¤é¡¹é€‰é¢˜</p><p><code>subject</code>ï¼š<code>commit</code>çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡<code>50</code>ä¸ªå­—ç¬¦</p><blockquote><p>tipsï¼šä»…ä½œä¸ºä¸€ä¸ªæ¨èçš„è§„èŒƒæ ¼å¼ï¼Œå¹¶ä¸ä¼šå¯¹ä½ çš„ commit-message åšä»»ä½•æ ¡éªŒï¼Œè‡ªè§‰éµå®ˆå³å¯ï¼›å¦å¤–å¦‚æœä½ çš„å›¢é˜Ÿæœ‰è‡ªå·±çš„æäº¤è§„èŒƒï¼Œè¯·ä¼˜å…ˆä»¥å›¢é˜Ÿæäº¤è§„èŒƒä¸ºä¸»ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> gitæŒ‡ä»¤ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨ npm-link è½¯é“¾</title>
      <link href="/share/npm-link/"/>
      <url>/share/npm-link/</url>
      
        <content type="html"><![CDATA[<h3 id="æµ…è°ˆä¸€ä¸‹"><a href="#æµ…è°ˆä¸€ä¸‹" class="headerlink" title="æµ…è°ˆä¸€ä¸‹"></a>æµ…è°ˆä¸€ä¸‹</h3><p>å‰æ®µæ—¶é—´ï¼Œå¼€å‘äº†ä¸€ä¸ªç»„ä»¶ï¼Œéœ€è¦åœ¨æœ¬åœ°<code>debug</code>éªŒè¯ç›¸å…³åŠŸèƒ½ï¼Œæœ‰äº›çº ç»“æ˜¯ç”¨<code>npm link</code>è¿˜æ˜¯<code>npx link</code>ï¼Œäº¦æˆ–æ˜¯<code>npm install</code>ã€‚ã€‚ã€‚</p><p>æœ‰äº›å¿˜è®°äº†ç›¸å…³ç”¨æ³•ä»¥åŠå¸¦æ¥çš„å½±å“â€¦è§‰å¾—è¿˜æ˜¯æœ‰å¿…è¦å†™ä¸€ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹è¿‡ç¨‹ï¼Œä»¥åŠæ–°çš„ä¸œè¥¿ã€‚ğŸ˜®â€ğŸ’¨ğŸ˜®â€ğŸ’¨ğŸ˜®â€ğŸ’¨</p><h3 id="npm-linkæ˜¯å¹²å•¥çš„ï¼Ÿ"><a href="#npm-linkæ˜¯å¹²å•¥çš„ï¼Ÿ" class="headerlink" title="npm linkæ˜¯å¹²å•¥çš„ï¼Ÿ"></a><code>npm link</code>æ˜¯å¹²å•¥çš„ï¼Ÿ</h3><p><a href="https://docs.npmjs.com/cli/v7/commands/npm-link">npm æ–‡æ¡£</a> ä¹Ÿæœ‰è¯´æ˜ï¼šä¸ºäº†æ–¹ä¾¿ä½ çš„è¿­ä»£æµ‹è¯•ï¼Œ<code>npm link</code>å°†åœ¨å…¨å±€çš„<code>node_modules</code>åˆ›å»ºä¸€ä¸ªæŒ‡å‘å½“å‰è‡ªå®šä¹‰çš„<code>npm</code>æ¨¡å—çš„è½¯é“¾æ¥ï¼Œå¹¶åœ¨ä½ éœ€è¦ä½¿ç”¨çš„åœ°æ–¹é€šè¿‡<code>npm link packagename</code>åˆ›å»ºä¸€ä¸ªä»å…¨å±€å®‰è£…çš„<code>package-name</code>åˆ°<code>å½“å‰æ–‡ä»¶å¤¹/node_modules</code>çš„ç¬¦å·é“¾æ¥ã€‚ä½ å¯¹è‡ªå®šä¹‰åŒ…çš„ä»»ä½•æ”¹åŠ¨éƒ½å°†åŒæ­¥åˆ°<code>link</code>åˆ°çš„é¡¹ç›®ä¸­ã€‚<del>å¯ä»¥ç†è§£ä¸º mklink</del></p><span id="more"></span><h3 id="ç¬¬ä¸€è§†è§’å¸¦ä½ å­¦ä¹ linkæŒ‡ä»¤"><a href="#ç¬¬ä¸€è§†è§’å¸¦ä½ å­¦ä¹ linkæŒ‡ä»¤" class="headerlink" title="ç¬¬ä¸€è§†è§’å¸¦ä½ å­¦ä¹ linkæŒ‡ä»¤"></a>ç¬¬ä¸€è§†è§’å¸¦ä½ å­¦ä¹ <code>link</code>æŒ‡ä»¤</h3><h4 id="å‡†å¤‡å¥½é¢„å‘å¸ƒåŒ…"><a href="#å‡†å¤‡å¥½é¢„å‘å¸ƒåŒ…" class="headerlink" title="å‡†å¤‡å¥½é¢„å‘å¸ƒåŒ…"></a>å‡†å¤‡å¥½é¢„å‘å¸ƒåŒ…</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> my-test-component-zhl<span class="token builtin class-name">cd</span> ./my-test-component-zhl<span class="token function">npm</span> init -y<span class="token comment"># å‡†å¤‡å…¥å£æ–‡ä»¶ index</span><span class="token comment"># (() => &#123;</span><span class="token comment">#   console.log('è¿™æ˜¯æˆ‘çš„ç»„ä»¶æ¨¡å—');</span><span class="token comment"># &#125;)();</span></code></pre><h4 id="å‡†å¤‡ä¸€ä¸ªç”¨äºæµ‹è¯•çš„é¡¹ç›®"><a href="#å‡†å¤‡ä¸€ä¸ªç”¨äºæµ‹è¯•çš„é¡¹ç›®" class="headerlink" title="å‡†å¤‡ä¸€ä¸ªç”¨äºæµ‹è¯•çš„é¡¹ç›®*"></a>å‡†å¤‡ä¸€ä¸ªç”¨äºæµ‹è¯•çš„é¡¹ç›®*</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token function">mkdir</span> my-test-project<span class="token builtin class-name">cd</span> ./my-test-project<span class="token function">npm</span> init -y</code></pre><h4 id="ä¸ºé¢„å‘å¸ƒåŒ…åˆ›å»ºè½¯é“¾æ¥"><a href="#ä¸ºé¢„å‘å¸ƒåŒ…åˆ›å»ºè½¯é“¾æ¥" class="headerlink" title="ä¸ºé¢„å‘å¸ƒåŒ…åˆ›å»ºè½¯é“¾æ¥"></a>ä¸ºé¢„å‘å¸ƒåŒ…åˆ›å»ºè½¯é“¾æ¥</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/my-test-component-zhl<span class="token function">npm</span> <span class="token function">link</span></code></pre><p>ç»“æœé¢„è§ˆï¼š</p><p><a href="/images/share/npm-link/p1.png"><img src="/images/share/npm-link/p1.png" alt="npm-link-p1" loading="lazy"></a></p><p>é“¾æ¥çš„ä½ç½®å°±æ˜¯ä½ <code>nodejs</code>å®‰è£…ç›®å½•ä¸‹çš„<code>node_modules</code>ç›®å½•ä¸‹ï¼ŒæŒ‡å‘äº†å½“å‰çš„ç»„ä»¶ã€‚</p><h4 id="åœ¨é¡¹ç›®ä¸­å¼•ç”¨è¿™ä¸ªé¢„å‘å¸ƒåŒ…"><a href="#åœ¨é¡¹ç›®ä¸­å¼•ç”¨è¿™ä¸ªé¢„å‘å¸ƒåŒ…" class="headerlink" title="åœ¨é¡¹ç›®ä¸­å¼•ç”¨è¿™ä¸ªé¢„å‘å¸ƒåŒ…"></a>åœ¨é¡¹ç›®ä¸­å¼•ç”¨è¿™ä¸ªé¢„å‘å¸ƒåŒ…</h4><p>ä½ ä¼šå‘ç°ï¼Œ<code>link</code>çš„åŒ…å¹¶ä¸ä¼šåœ¨<code>package.json</code>çš„<code>dependencies</code>é‡Œå‡ºç°ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/my-test-project<span class="token function">npm</span> <span class="token function">link</span> my-test-component-zhl</code></pre><p>ç»“æœé¢„è§ˆï¼š</p><p><a href="/images/share/npm-link/p2.png"><img src="/images/share/npm-link/p2.png" alt="npm-link-p2" loading="lazy"></a><br><a href="/images/share/npm-link/p3.png"><img src="/images/share/npm-link/p3.png" alt="npm-link-p3" loading="lazy"></a></p><p>å®é™…ä½¿ç”¨è°ƒè¯•ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'my-test-component-zhl'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a href="/images/share/npm-link/p4.png"><img src="/images/share/npm-link/p4.png" alt="npm-link-p4" loading="lazy"></a></p><h4 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h4><p>ä¿®æ”¹<code>my-test-component-zhl</code>çš„å†…å®¹ï¼Œä¼šåŒæ­¥æ›´æ–°åˆ°å½“å‰å¼•ç”¨çš„é¡¹ç›®ä¸­â€¦å¾ˆæ–¹ä¾¿ã€‚</p><p>æ•ˆæœï¼š</p><p><a href="/images/share/npm-link/p5.png"><img src="/images/share/npm-link/p5.png" alt="npm-link-p5" loading="lazy"></a></p><h4 id="è§£é™¤link"><a href="#è§£é™¤link" class="headerlink" title="è§£é™¤link"></a>è§£é™¤<code>link</code></h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> unlink --no-save packagename <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> <span class="token function">install</span></code></pre><p>æŸ¥é˜…äº†æ–‡æ¡£ï¼Œå‘ç°<code>unlink</code>å…¶å®æ˜¯<code>uninstall</code>çš„åˆ«åã€‚<a href="https://docs.npmjs.com/cli/v7/commands/npm-uninstall">-&gt; æˆ³è¿™é‡Œ</a></p><p>å½“ç„¶ï¼Œå¦‚æœä½ ä¸éœ€è¦<code>link</code>è¯¥ç»„ä»¶åŒ…è¿›è¡Œæµ‹è¯•æ—¶ï¼Œå»ºè®®ä½ åŒæ—¶ä¹Ÿå¸è½½æ‰<code>link</code>åˆ°å…¨å±€çš„åŒ…ã€‚å¦‚ä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/my-test-component-zhl<span class="token function">npm</span> unlink <span class="token punctuation">[</span>-g<span class="token punctuation">]</span></code></pre><h3 id="è¯´è¯´npm-linkçš„ç¼ºç‚¹"><a href="#è¯´è¯´npm-linkçš„ç¼ºç‚¹" class="headerlink" title="è¯´è¯´npm linkçš„ç¼ºç‚¹"></a>è¯´è¯´<code>npm link</code>çš„ç¼ºç‚¹</h3><p>å¥½ç”¨ç¡®å®æ˜¯å¥½ç”¨ï¼Œä½†æ˜¯ä¹Ÿæœ‰å‡ ä¸ªç¼ºç‚¹ï¼ˆæ§½ç‚¹ï¼‰ï¼š</p><details><summary>å»ºç«‹äº† link è¿‡åï¼Œè·¨ node ç‰ˆæœ¬ä½¿ç”¨å®¹æ˜“å‡ºé”™</summary><p>å…¶å®è¿™ä¸ªåœ¨æˆ‘æœ¬æœºä¸Šæ²¡æœ‰é‡åˆ°ï¼Œå‰é¢æµ‹è¯•çš„æ—¶å€™ï¼Œç»†å¿ƒçš„ä¼™ä¼´å¯èƒ½ä¹Ÿå‘ç°äº†ï¼Œ<code>link</code>çš„<code>global</code>åœ°å€å¹¶æ²¡æœ‰å¸¦<code>node</code>ç‰ˆæœ¬ä¿¡æ¯ï¼ˆå¹¶ä¸æ˜¯åœ¨<code>nvm/nodeversion/node_modules</code>ä¸‹ï¼Œæ„å‘³ç€æˆ‘æ¢ä¸€ä¸ª<code>node</code>çš„ç‰ˆæœ¬ï¼Œè½¯é“¾æ¥ä»ç„¶æ˜¯å­˜åœ¨ä¸”æœ‰æ•ˆçš„ã€‚ğŸ˜®â€ğŸ’¨ğŸ˜®â€ğŸ’¨ğŸ˜®â€ğŸ’¨ å¦‚ä½•åšåˆ°çš„ï¼Ÿ<del>å°ä¼™ä¼´å¯ä»¥è‡ªå·±éªŒè¯ä¸€ä¸‹æ˜¯å¦å¯è¡Œ</del></p><p>é…ç½®<code>npm</code>çš„å…¨å±€å®‰è£…ä½ç½®ï¼š</p><blockquote><p>npm config set prefix xxx</p></blockquote></details><details><summary>link å¤±è´¥ä¸ä¼šæŠ¥é”™å¹¶ä¸”ä¼šå›é€€åˆ°ç›´æ¥ä» npm ä»“åº“è¿›è¡Œå®‰è£…</summary><p>è¿™ä¸ªç¡®å®ï¼Œå¦‚æœ<code>link</code>æœ¬åœ°é¢„å‘å¸ƒåŒ…å¤±è´¥ï¼Œ<code>npm</code>ä¼šå…¨å±€å®‰è£…ä¸€ä¸ªä½ <code>link çš„ packagename</code>åŒ…ï¼Œç„¶åå†å»ºç«‹è½¯é“¾æ¥ï¼Œå¦‚æœ<code>npm-registry</code>ä»“åº“ä¹Ÿæ²¡æœ‰è¿™ä¸ªåŒ…ï¼Œæ‰ä¼šæŠ›å¼‚å¸¸ã€‚ğŸ’€ğŸ’€ğŸ’€ <del>æ½œåœ¨é—®é¢˜ï¼Œä¸å®¹æ˜“å‘ç°ï¼Œå½“ç„¶ä½ å¯ä»¥é€šè¿‡ä¸ºè‡ªå·±æ¨¡å—æ·»åŠ ç§æœ‰å‰ç¼€é¿å…è¿™ä¸€é—®é¢˜</del></p></details><details><summary>ä¼šæœ‰é¢„æœŸä¹‹å¤–çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶å®‰è£…</summary><p><code>é€šè¿‡ npm uninstall -g packagename</code>å¯ä»¥åŒæ—¶å¸è½½å…¨å±€åŒ…å’Œå®ƒçš„äºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ã€‚é‚£ä¹ˆæ ¹æ®<code>unlink</code>æ˜¯<code>uninstall</code>çš„åˆ«åï¼Œå¯ä»¥å¾ˆå®¹æ˜“æ¨å‡ºå¦å¤–ä¸€ä¸ªç­‰ä»·æŒ‡ä»¤ï¼š</p><blockquote><p>npm unlink [-g]</p></blockquote></details><details><summary>ä¸ç¬¦åˆé¢„æœŸçš„è½¯é“¾æ¥åˆ é™¤</summary><p>æ¯ä¸€æ¬¡çš„<code>npm link</code>ï¼Œéƒ½æ˜¯ä¸€æ¬¡<strong>é‡æ–°å»ºç«‹è½¯é“¾æ¥</strong>çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šå–æ¶ˆä¹‹å‰å·²ç»é“¾æ¥çš„åŒ…ã€‚</p><p>å¦‚æœä½ æƒ³åŒæ—¶ä¿ç•™å¤šä¸ªåŒ…çš„è½¯é“¾æ¥ï¼Œè®°å¾—åŒæ—¶<code>link</code>å¤šä¸ªï¼š</p><blockquote><p>npm link ..&#x2F;packageA ..&#x2F;packageB</p></blockquote></details><p>è¿™ä¹ˆä¸€åˆ†æï¼Œå¥½åƒä¹Ÿå°±ä¸æ˜¯é—®é¢˜äº†â€¦ğŸ˜‚ğŸ˜‚ğŸ˜‚ ä¸è¿‡è¿˜æ˜¯ä»‹ç»ä¸€ä¸‹å¦å¤–çš„ä¸¤ç§æ–¹å¼ï¼š</p><h3 id="npm-installæ›¿ä»£"><a href="#npm-installæ›¿ä»£" class="headerlink" title="npm installæ›¿ä»£"></a><code>npm install</code>æ›¿ä»£</h3><p>ä½¿ç”¨å®‰è£…æŒ‡ä»¤ï¼Œæ‹¼ä¸Š<code>ä½ è‡ªå®šä¹‰çš„æ¨¡å—çš„è·¯å¾„åœ°å€ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„</code>ï¼Œè¿™ç§æ–¹å¼åŒæ ·æ˜¯å»ºç«‹è½¯é“¾æ¥ï¼Œå¹¶ä¸æ˜¯çœŸçš„å°†èµ„æºä¸‹è½½åˆ°<code>node_modules</code>ï¼Œåªä¸è¿‡å°‘äº†ä¸ª<code>global</code>çš„ä¸­é—´è¿‡ç¨‹ã€‚è²Œä¼¼æ›´åŠ æ–¹ä¾¿ä¸€ç‚¹ã€‚</p><blockquote><p>npm install &lt;package-path&gt;</p></blockquote><p>å¦‚æœä½ ä¸æƒ³å†™å…¥<code>package.json</code>ï¼Œå¯ä»¥å¸¦ä¸Š<code>--no-save</code>å‚æ•°ï¼š</p><blockquote><p>npm install â€“no-save &lt;package-path&gt;</p></blockquote><p>å–æ¶ˆçš„è¯ï¼Œå¯ä»¥ç”¨<code>uninstall</code>ï¼š</p><blockquote><p>npm uninstall package-path</p></blockquote><h3 id="æ‰©å±•ã€ä»…åšäº†è§£ã€‘"><a href="#æ‰©å±•ã€ä»…åšäº†è§£ã€‘" class="headerlink" title="æ‰©å±•ã€ä»…åšäº†è§£ã€‘"></a>æ‰©å±•ã€ä»…åšäº†è§£ã€‘</h3><p>é€šè¿‡<code>link</code>å·¥å…·é¿å…ä¸Šé¢æåˆ°çš„é—®é¢˜ã€‚<a href="https://github.com/privatenumber/link">-&gt; è¯¦è§</a></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i -g <span class="token function">link</span><span class="token comment"># æ–¹å¼ä¸€</span>npx <span class="token function">link</span> package-path<span class="token comment"># æ–¹å¼äºŒï¼šé¡¹ç›®æ ¹ç›®å½•æ·»åŠ  link.config.json é…ç½®æ–‡ä»¶ï¼Œå†æ‰§è¡Œ</span>npx <span class="token function">link</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
            <tag> npm-link </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å‘å¸ƒä¸€ä¸ª npm-package?</title>
      <link href="/share/npm-publish/"/>
      <url>/share/npm-publish/</url>
      
        <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯npm-packageï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯npm-packageï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯npm-packageï¼Ÿ"></a>ä»€ä¹ˆæ˜¯<code>npm-package</code>ï¼Ÿ</h3><p>å…ˆè¯´æ¨¡å—ï¼Œ<code>node</code>æ¨¡å—å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼šå†…ç½®æ¨¡å—ï¼ˆç”±<code>nodeJs</code>åŸç”Ÿæä¾›ï¼Œå¯ç›´æ¥ä½¿ç”¨ï¼‰ã€è‡ªå®šä¹‰æ¨¡å—ï¼ˆ<code>module.export/requireã€export/import</code>ï¼‰ã€ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ˆéœ€è¦é€šè¿‡<code>npm install</code>ä¸‹è½½åæ‰èƒ½ä½¿ç”¨ï¼‰ã€‚</p><p>æˆ‘è¿™é‡Œæåˆ°<code>npm-package</code>çš„å‘å¸ƒï¼Œè‡ªç„¶æ˜¯æŒ‡çš„ä¸‰æ–¹æ¨¡å—ã€‚åç»­å¦‚æœæœ‰ä½¿ç”¨éœ€æ±‚ï¼Œå¯ä»¥ç›´æ¥<code>install</code>å®‰è£…ä½¿ç”¨ï¼Œå¤§å¤§æé«˜å’±çš„å¼€å‘æ•ˆç‡ã€‚</p><blockquote><p>æœ¬æ–‡ä¸»è¦é’ˆå¯¹<code>publish</code>åšè¯´æ˜ã€‚è‡³äº<code>package</code>æ¨¡å—å¦‚ä½•å®šä¹‰ï¼Œä»¥åŠå…·ä½“å¦‚ä½•é…ç½®ï¼Œåç»­ä¼šå†™å¦å¤–ä¸€ç¯‡æ–‡ç« è¡¥å……ã€‚</p></blockquote><span id="more"></span><h3 id="åˆ›å»ºä¸€ä¸ªnpmè´¦å·"><a href="#åˆ›å»ºä¸€ä¸ªnpmè´¦å·" class="headerlink" title="åˆ›å»ºä¸€ä¸ªnpmè´¦å·"></a>åˆ›å»ºä¸€ä¸ª<code>npm</code>è´¦å·</h3><p>å¦‚æœä½ æœ‰ç›¸å…³çš„è´¦å·ï¼Œè¯·è·³è¿‡è¯¥æ­¥éª¤ï¼›å¦‚æœä½ æ²¡æœ‰<code>npm</code>çš„è´¦å·ï¼Œé‚£å°±éœ€è¦å…ˆæ³¨å†Œã€‚æ³¨å†Œæœ‰ä¸¤ç§æ–¹å¼ï¼šå®˜ç½‘æ³¨å†Œ &#x2F; å‘½ä»¤è¡Œåˆ›å»º</p><h4 id="å®˜ç½‘æ³¨å†Œ"><a href="#å®˜ç½‘æ³¨å†Œ" class="headerlink" title="å®˜ç½‘æ³¨å†Œ"></a>å®˜ç½‘æ³¨å†Œ</h4><p>è¿›å…¥<a href="https://www.npmjs.com/signup">https://www.npmjs.com/signup</a>è¾“å…¥ç”¨æˆ·ã€å¯†ç ã€é‚®ç®±æ³¨å†Œã€‚</p><h4 id="å‘½ä»¤è¡Œåˆ›å»º"><a href="#å‘½ä»¤è¡Œåˆ›å»º" class="headerlink" title="å‘½ä»¤è¡Œåˆ›å»º"></a>å‘½ä»¤è¡Œåˆ›å»º</h4><blockquote><p><strong>å¦‚æœä½ é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºè´¦å·ï¼Œåˆ›å»ºæˆåŠŸè¿‡åä¼šé»˜è®¤ä½ å·²ç»ç™»å½•ï¼Œæ— éœ€ä½¿ç”¨ç™»å½•æŒ‡ä»¤å†æ¬¡ç™»å½•ã€‚</strong></p></blockquote><p>å¦‚æœä½ é…ç½®è¿‡<code>npm-registry</code> <del>ï¼ˆä¾‹å¦‚ä½ é…ç½®äº†æ·˜å®é•œåƒã€æˆ–è€…ä½ æ‰€åœ¨å…¬å¸çš„<code>private-npm</code>ï¼‰</del>ï¼Œè¯·è®°å¾—åœ¨å‘å¸ƒä¹‹å‰åˆ‡æ¢åˆ°<code>npm</code>çš„å®˜æ–¹æº<code>https://registry.npmjs.org</code>ã€‚</p><h5 id="é‡ç½®registryåœ°å€"><a href="#é‡ç½®registryåœ°å€" class="headerlink" title="é‡ç½®registryåœ°å€"></a>é‡ç½®<code>registry</code>åœ°å€</h5><p><strong>é‡ç½®çš„å‰æ</strong>ä½ è¿™ä¸ªåŒ…æ˜¯è¦å‘å¸ƒåˆ°<code>npmjs</code>ï¼Œå¦‚æœä½ è¦å‘å¸ƒè‡³ä½ æ‰€é…ç½®çš„<code>registry</code>ï¼Œé‚£å°±ä¸éœ€è¦æ“ä½œã€‚</p><blockquote><p>npm config set registry <a href="https://registry.npmjs.org/">https://registry.npmjs.org</a></p></blockquote><p>æ€»æœ‰ä¸€äº›æ‡’äººä¸æƒ³è¿™ä¹ˆå¹²ï¼Œæ¯•ç«ŸåŒ…å‘å¸ƒå®Œäº†è¿‡åè¿˜è¦åˆ‡å›åŸæ¥çš„<code>registry</code>ï¼Œè§‰å¾—éº»çƒ¦ <del>ï¼ˆä¸ä¼šæ‰¿è®¤æ˜¯æˆ‘ï¼‰</del>ï¼Œæœ‰æ²¡æœ‰åˆ«çš„åŠæ³•å’§ï¼Ÿ</p><blockquote><p>åœ¨ä½¿ç”¨ addUser æŒ‡ä»¤æ—¶ï¼ŒæŒ‡å®šå½“å‰æ³¨å†Œå¹¶ç™»å½•çš„ registryï¼Œè¦†ç›–å…¨å±€é…ç½®ä¸­çš„ registry.ï¼ˆä¸ä¼šä¿®æ”¹å…¨å±€é…ç½®ï¼‰ å…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š</p></blockquote><h5 id="å¼€å§‹åˆ›å»º"><a href="#å¼€å§‹åˆ›å»º" class="headerlink" title="å¼€å§‹åˆ›å»º"></a>å¼€å§‹åˆ›å»º</h5><blockquote><p>npm addUser --registry&#x3D;<a href="https://registry.npmjs.org/">https://registry.npmjs.org</a></p></blockquote><p>å¦‚æœä½ æ˜¯é€šè¿‡<code>npm config set registry xx</code>é‡ç½®çš„<code>registry</code>ï¼š</p><blockquote><p>npm addUser</p></blockquote><p>å›è½¦ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª<code>Usernameã€Passwordã€Email</code>çš„è¾“å…¥æç¤ºï¼Œå½•å…¥ä½ çš„ç”¨æˆ·ä¿¡æ¯ï¼ˆæ³¨æ„<code>password</code>ä¸æ˜¯æ˜æ–‡æ˜¾ç¤ºçš„ï¼Œä¼šè¢«éšè—ï¼‰ã€‚</p><p>å½•å®Œå›è½¦ï¼Œå¾—åˆ°ä¸€ä¸ª<code>Enter one-time password from your authenticator app</code>çš„è¾“å…¥æç¤ºï¼Œå½•å…¥éªŒè¯ç ã€‚<del>è¿™ä¸ªéªŒè¯ç ä¼šå‘é€åˆ°ä½ ä¸Šé¢å¡«çš„é‚®ç®±é‡Œ</del></p><p>ç»§ç»­å›è½¦ï¼Œæç¤º<code>Logged in as xxx on https://registry.npmjs.org/.</code>ç™»å½•æˆåŠŸã€‚</p><hr><h3 id="å‡†å¤‡å¥½æ¨¡å—"><a href="#å‡†å¤‡å¥½æ¨¡å—" class="headerlink" title="å‡†å¤‡å¥½æ¨¡å—"></a>å‡†å¤‡å¥½æ¨¡å—</h3><blockquote><p><strong>å‹æƒ…æç¤ºï¼šæœ€å¥½ä¸ºä½ çš„æ¨¡å—åŒ…æ·»åŠ ç§æœ‰å‰ç¼€ï¼Œé¿å…ä¸å·²ç»å‘å¸ƒçš„åŒ…å†²çªï¼Œå¯¼è‡´å‘å¸ƒä¸æˆåŠŸâ€¦</strong></p></blockquote><p>åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ï¼Œ<code>-y</code>ä½¿ç”¨é»˜è®¤é…ç½®é¡¹ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> test-publish-project<span class="token builtin class-name">cd</span> ./test-publish-project<span class="token function">npm</span> init -y</code></pre><p>åˆ›å»ºä¸€ä¸ª<code>index.js</code>çš„å…¥å£æ–‡ä»¶ï¼ˆåŒ<code>package.json</code>ä¸­æŒ‡å®šçš„<code>main</code>å­—æ®µï¼‰ï¼Œéšä¾¿å†™ç‚¹ä¸œè¥¿â€¦ <del>è¿™é‡Œåªæ˜¯ä¸€ä¸ªç®€å•æ¼”ç¤º</del></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ç”¨çš„æ¨¡å—å…¥å£'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><hr><h3 id="ç™»å½•npm"><a href="#ç™»å½•npm" class="headerlink" title="ç™»å½•npm"></a><strong>ç™»å½•<code>npm</code></strong></h3><p>å‰é¢æœ‰æåˆ°ï¼šé€šè¿‡<code>addUser</code>æ–¹å¼åˆ›å»ºçš„è´¦æˆ·åœ¨åˆ›å»ºæˆåŠŸåä¼šé»˜è®¤ç™»å½•ï¼Œæ‰€ä»¥å¦‚æœä½ æ˜¯é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼æ³¨å†Œçš„ï¼Œå¯ä»¥è·³è¿‡å½“å‰æ­¥éª¤â€¦</p><blockquote><p>npm login</p></blockquote><p>åŒæ—¶ä½ ä¹Ÿå¯ä»¥ç™»å½•åˆ°æŒ‡å®š<code>registry</code>ï¼Œé¿å…<code>publish</code>è¿‡ç¨‹ä¸­æŠ›å‡º<code>401</code>ã€‚</p><blockquote><p>npm login --registry&#x3D;xxx</p></blockquote><h3 id="å‘å¸ƒï¼ˆpublishï¼‰"><a href="#å‘å¸ƒï¼ˆpublishï¼‰" class="headerlink" title="å‘å¸ƒï¼ˆpublishï¼‰"></a><strong>å‘å¸ƒï¼ˆ<code>publish</code>ï¼‰</strong></h3><p>å¦‚æœä½ ä¸æ˜¯é€šè¿‡<code>npm config set registry</code>ä¿®æ”¹çš„æºåœ°å€ï¼Œé‚£ä¹ˆå‘å¸ƒçš„æ—¶å€™åŒæ ·è¦æŒ‡å®š<code>registry</code>å‚æ•° ğŸ˜¢ğŸ˜¢ğŸ˜¢ã€‚</p><blockquote><p>npm publish --registry&#x3D;xxx</p></blockquote><p>æœ‰æ²¡æœ‰è§‰å¾—è¿™ä¸ªå¾ˆé¸¡è‚‹ï¼Ÿåˆ«æ€¥â€¦å’±è¿™å°±è§£å†³</p><p>ä¿®æ”¹<code>package.json</code>ï¼Œæ·»åŠ <code>publishConfig</code>é…ç½®é¡¹ï¼š</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token comment">// other config...</span>  <span class="token property">"publishConfig"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"registry"</span><span class="token operator">:</span> <span class="token string">"https://registry.npmjs.org/"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>å¥½äº†ï¼ˆæ„å‘³ç€ï¼Œä»¥ååªæœ‰<code>login or addUser</code>çš„æ—¶å€™éœ€è¦æŒ‡å®š<code>registry</code>ğŸ‰ğŸ‰ğŸ‰ï¼‰ï¼Œç°åœ¨å¯ä»¥æ„‰å¿«çš„ç›´æ¥ä½¿ç”¨<code>npm publish</code>ã€‚</p><p>å‘å¸ƒæˆåŠŸï¼<del>è™½ç„¶é‡åˆ°äº†ä¸€ç‚¹ç‚¹å°é—®é¢˜ï¼Œå†™åœ¨ä¸‹é¢äº†</del></p><p>æ‰“å¼€ <a href="https://www.npmjs.com/">https://www.npmjs.com</a> æ‰¾äº†ä¸€ä¸‹æˆ‘çš„åŒ…ï¼Œçº³å°¼ ğŸ¤”ğŸ¤”ğŸ¤”ï¼Œå±…ç„¶æœä¸åˆ°ã€‚ã€‚<del>å¯èƒ½æ˜¯å› ä¸ºç¼“å­˜?</del></p><p>é€šè¿‡è·¯å¾„ç›´æ¥æœç´¢ï¼š<a href="https://www.npmjs.com/package/your-project-name">https://www.npmjs.com/package/your-project-name</a> èƒ½æ‰¾åˆ°ï¼Œé€šè¿‡<code>npm install packagename</code>ä¹ŸæˆåŠŸäº†ï¼Œè¯´æ˜åŒ…å®å®åœ¨åœ¨æ˜¯å‘å¸ƒä¸Šå»äº†â€¦</p><h3 id="ç‰ˆæœ¬æ›´æ–°è¿­ä»£"><a href="#ç‰ˆæœ¬æ›´æ–°è¿­ä»£" class="headerlink" title="ç‰ˆæœ¬æ›´æ–°è¿­ä»£"></a><strong>ç‰ˆæœ¬æ›´æ–°è¿­ä»£</strong></h3><p>æ·»åŠ &#x2F;ä¿®æ”¹ä½ çš„åŠŸèƒ½ï¼Œä¿®æ”¹å®Œæˆä»¥åâ€¦</p><h4 id="æ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å·"><a href="#æ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å·" class="headerlink" title="æ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å·"></a>æ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å·</h4><p>æ‰“å¼€<code>package.json</code>æ–‡ä»¶ï¼Œä¿®æ”¹<code>version</code>å­—æ®µã€‚</p><h4 id="æŒ‡ä»¤ä¿®æ”¹ç‰ˆæœ¬å·"><a href="#æŒ‡ä»¤ä¿®æ”¹ç‰ˆæœ¬å·" class="headerlink" title="æŒ‡ä»¤ä¿®æ”¹ç‰ˆæœ¬å·"></a>æŒ‡ä»¤ä¿®æ”¹ç‰ˆæœ¬å·</h4><p>å°ç‰ˆæœ¬å‡çº§ï¼š<code>1.0.0 -&gt; 1.0.1</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼šç›´æ¥å‡çº§å°å·ï¼Œå»æ‰é¢„å‘å¸ƒå·ï¼›å¦‚æœæœ‰é¢„å‘å¸ƒå·ï¼šå»æ‰é¢„å‘å¸ƒå·ï¼Œå…¶ä»–ä¸åŠ¨</span><span class="token function">npm</span> version patch<span class="token comment"># ç›´æ¥å‡çº§å°å·ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º 0</span><span class="token function">npm</span> version prepatch</code></pre><p>ä¸­ç‰ˆæœ¬å‡çº§ï¼š<code>1.0.0 -&gt; 1.1.0</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼Œåˆ™å‡çº§ä¸€ä½ä¸­å·ï¼Œå¤§å·ä¸åŠ¨ï¼Œå°å·ç½®ä¸ºç©ºï¼›å¦‚æœæœ‰é¢„å‘å¸ƒå·å°å·ä¸º0ï¼Œåˆ™ä¸å‡çº§ä¸­å·ï¼Œå°†é¢„å‘å¸ƒå·å»æ‰</span><span class="token function">npm</span> version minor<span class="token comment"># ç›´æ¥å‡çº§ä¸­å·ï¼Œå°å·ç½®ä¸º 0ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º 0</span><span class="token function">npm</span> version preminor</code></pre><p>å¤§ç‰ˆæœ¬å‡çº§ï¼š<code>1.0.0 -&gt; 2.0.0</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼Œåˆ™ç›´æ¥å‡çº§ä¸€ä½å¤§å·ï¼Œå…¶ä»–ä½éƒ½ç½®ä¸º0ï¼›å¦‚æœæœ‰é¢„å‘å¸ƒå·ï¼šä¸­å·å’Œå°å·éƒ½ä¸º0ï¼Œåˆ™ä¸å‡çº§å¤§å·ï¼Œè€Œå°†é¢„å‘å¸ƒå·åˆ æ‰ï¼Œä¸­å·å°å·å­˜åœ¨ä¸ä¸º0ï¼Œåˆ™å‡çº§å¤§å·ï¼Œæ¸…ç©ºé¢„å‘å¸ƒå·ã€‚</span><span class="token function">npm</span> version major<span class="token comment"># ç›´æ¥å‡çº§ä¸­å·ï¼Œå°å·ç½®ä¸º 0ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º 0</span><span class="token function">npm</span> version premajor</code></pre><h5 id="ä¿®æ”¹ç‰ˆæœ¬å·çš„åŒæ—¶æ·»åŠ commit"><a href="#ä¿®æ”¹ç‰ˆæœ¬å·çš„åŒæ—¶æ·»åŠ commit" class="headerlink" title="ä¿®æ”¹ç‰ˆæœ¬å·çš„åŒæ—¶æ·»åŠ commit"></a>ä¿®æ”¹ç‰ˆæœ¬å·çš„åŒæ—¶æ·»åŠ <code>commit</code></h5><blockquote><p>npm version [patch] -m â€˜ä½ çš„ commit å†…å®¹â€™</p></blockquote><h4 id="å†æ¬¡å‘å¸ƒ"><a href="#å†æ¬¡å‘å¸ƒ" class="headerlink" title="å†æ¬¡å‘å¸ƒ"></a>å†æ¬¡å‘å¸ƒ</h4><p>å¯ä»¥åœ¨å‘å¸ƒä¹‹å‰ç¡®è®¤ä¸€ä¸‹å½“å‰ç™»å½•ä¿¡æ¯<code>npm whoami --registry=xx</code>ï¼Œå¦‚æœæ²¡ç™»å½•ï¼Œéœ€è¦é‡æ–°ç™»å½•ã€‚</p><blockquote><p>npm publish</p></blockquote><h3 id="åŒ…å¸è½½"><a href="#åŒ…å¸è½½" class="headerlink" title="åŒ…å¸è½½"></a><strong>åŒ…å¸è½½</strong></h3><p>å‚è€ƒï¼š<a href="https://www.npmjs.cn/cli/unpublish/">https://www.npmjs.cn/cli/unpublish/</a></p><p>æ³¨æ„ï¼š<code>npm -f unpublish</code>ä¸å…è®¸æ‚¨å–æ¶ˆå‘å¸ƒè¶…è¿‡<code>24</code>å°æ—¶çš„ä»»ä½•å†…å®¹ã€‚</p><blockquote><p>npm -f unpublish</p></blockquote><p><strong>tipsï¼šå¦‚æœè¿™ä¸ªåŒ…ä¸æ˜¯ä»…æµ‹è¯•ä½¿ç”¨ï¼Œå»ºè®®ä¸è¦åˆ é™¤â€¦å¦åˆ™ï¼Œå¯¹åˆ«çš„ç”¨æˆ·è€Œè¨€æ˜¯æä¸é“å¾·çš„è¡Œä¸ºã€‚</strong></p><hr><h3 id="è¿‡ç¨‹ä¸­çš„é”™è¯¯è®°å½•"><a href="#è¿‡ç¨‹ä¸­çš„é”™è¯¯è®°å½•" class="headerlink" title="è¿‡ç¨‹ä¸­çš„é”™è¯¯è®°å½•"></a>è¿‡ç¨‹ä¸­çš„é”™è¯¯è®°å½•</h3><div class="error"><blockquote><p>400 Bad Request</p></blockquote></div><p><code>The password you have entered was detected on a public list of known compromised passwords. Please enter a different password.</code></p><p>é‡æ–°è®¾ä¸ªå¯†ç â€¦ <del>å¯†ç è®¾ç½®ç®€å•äº†ï¼ŒæŠ›äº†ä¸ªå¼‚å¸¸â€¦</del></p><div class="error"><blockquote><p>403 Forbidden</p></blockquote></div><p><code>You do not have permission to publish &quot;test-publish-project&quot;. Are you logged in as the correct user?</code></p><p><del>what?å‘Šè¯‰æˆ‘æ²¡æœ‰æƒé™å‘å¸ƒâ€¦æˆ‘è¿™ä¸æ˜¯å·²ç»ç™»å½•äº†å—ï¼Œæ€ä¹ˆè‚¥å››ï¼Ÿ</del></p><p>èµ¶ç´§æŸ¥ä¸€ä¸‹æ˜¯å¦ç™»å½•æˆåŠŸï¼ï¼ï¼</p><blockquote><p>npm whoami --registry&#x3D;xxx</p></blockquote><p>ç¡®å®å·²ç»ç™»å½•äº† ğŸ¤£ğŸ¤£ğŸ¤£ã€‚<del>ä¸€ä¸‡ä¸ªå°¼ç›å¿ƒä¸­é£˜è¿‡</del></p><p>æŸ¥äº†ç›¸å…³èµ„æ–™ï¼Œæ€»ç»“å¯èƒ½æ€§ï¼š<code>è¯¥åŒ…å·²è¢«åˆ«çš„ä½œè€…å‘å¸ƒ</code>ï¼›<code>é‚®ç®±æœªéªŒè¯</code><del>ï¼ˆæ‰¯æ·¡ï¼Œé‚®ç®±æˆ‘å·²ç»éªŒè¯äº†ï¼‰</del></p><p>é‚£å°±éªŒè¯ä¸€ä¸‹æ˜¯åŒ…æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå»æœäº†ä¸€ä¸‹ï¼ˆæˆ–è€…ç›´æ¥<code>install</code>ï¼‰ï¼Œè¿˜çœŸæœ‰â€¦ <del>é‚£å¥½å§ï¼Œå’±æ”¹ä¸ªå</del>ï¼Œé‡æ–°æ”¹äº†ä¸ªåŒ…åï¼ˆ<code>package.json</code>ä¸­çš„<code>name</code>å€¼ï¼‰å†æ¬¡<code>publish</code>ï¼ŒæˆåŠŸ!!!</p>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
            <tag> npm-publish </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javascript[ES6] ä¸­çš„ç®­å¤´å‡½æ•°å­¦ä¹ åŠthisç†è§£</title>
      <link href="/notes/javascript-arrow-function/"/>
      <url>/notes/javascript-arrow-function/</url>
      
        <content type="html"><![CDATA[<h3 id="ç®­å¤´å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ç®­å¤´å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ç®­å¤´å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ç®­å¤´å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>ç®€å•çš„è¯´ï¼Œç®­å¤´å‡½æ•°å°±æ˜¯å¯¹åŒ¿åå‡½æ•°çš„ç®€åŒ–ã€‚</p><p>ä½œä¸º<code>ES6</code>çš„ä¸€ç§æ–°è§„èŒƒï¼Œç®­å¤´å‡½æ•°çš„ä¼˜ç‚¹ä¸ä»…åœ¨äºå†™æ³•ä¸Šçš„ç®€åŒ–ï¼Œè€Œä¸”èƒ½å¤Ÿæ ¹æ®æƒ…å†µï¼Œä¸åŒ¿åå‡½æ•°ä¹‹é—´åˆ‡æ¢ä½¿ç”¨ï¼Œä½¿<code>this</code>æŒ‡å‘ä¸åŒçš„å€¼ã€‚</p><p><code>so</code>ï¼Œç®­å¤´å‡½æ•°å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ</p><span id="more"></span><h3 id="æ ¼å¼ç”¨æ³•"><a href="#æ ¼å¼ç”¨æ³•" class="headerlink" title="æ ¼å¼ç”¨æ³•"></a>æ ¼å¼ç”¨æ³•</h3><p>ä¸€èˆ¬å½¢å¼ä¸Šçš„ç®­å¤´å‡½æ•°é•¿è¿™æ ·<del>ï¼ˆçœ‹äº†æ¡ˆä¾‹è¿˜æ˜¯ä¸æ˜ç™½çš„ï¼Œå¯ä»¥è¿è¡Œä»£ç çœ‹ä¸€ä¸‹ç»“æœï¼Œæˆ–è®¸ä½ å°±æ˜ç™½äº†ï¼‰</del></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h4 id="å•å‚æ•°å•è¿”å›è¯­å¥"><a href="#å•å‚æ•°å•è¿”å›è¯­å¥" class="headerlink" title="å•å‚æ•°å•è¿”å›è¯­å¥"></a><strong>å•å‚æ•°å•è¿”å›è¯­å¥</strong></h4><blockquote><p>å•å‚æ•°ï¼šåœ¨ç®­å¤´å‡½æ•°ä¸­å‚æ•°çš„æ‹¬å·å¯ä»¥çœç•¥ï¼Œä½†ä¸å»ºè®®<del>ä¸€èˆ¬é¡¹ç›®è§„èŒƒç®­å¤´å‡½æ•°ï¼Œå‚æ•°ä½ç½®å¿…é¡»åŠ æ‹¬å·</del></p></blockquote><blockquote><p>å•è¿”å›è¯­å¥ï¼šå‡½æ•°ä½“ {} æ‹¬å·å¯ä»¥çœç•¥ã€‚ï¼ˆ<strong>ç‰¹æ®Šè¯´æ˜ï¼šæ³¨æ„è¿”å›å¯¹è±¡æ—¶çš„ä¹¦å†™æ ¼å¼ï¼Œé¿å…ä¸å‡½æ•°ä½“çš„ {} å†²çª</strong>ï¼Œ<del>é”™è¯¯ç¤ºèŒƒï¼šy &#x3D;&gt; { y };</del>ï¼‰</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token parameter">x</span> <span class="token operator">=></span> x<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token parameter">y</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span> y <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç­‰ä»·å†™æ³•ï¼š</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=></span> x<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> x<span class="token operator">*</span><span class="token number">2</span> <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token operator">=></span> y <span class="token operator">=</span> <span class="token punctuation">&#123;</span> y <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// (y) => (y = &#123; y &#125;); // (y) => y = (&#123; y &#125;);</span><span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> y <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token comment">// ç­‰ä»·çš„åŒ¿åå‡½æ•°å†™æ³•</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> x<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token punctuation">&#123;</span> y <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>å½“åªæœ‰ä¸€ä¸ªæ‰§è¡Œè¯­å¥ï¼Œä¸”æ— éœ€è¿”å›æ•°æ®æ—¶ï¼Œå¯ä»¥è¿”å›å¯æ‰§è¡Œä»£ç ï¼š<strong>æ­¤æ—¶è¿”å›çš„æ‰§è¡Œè¯­å¥å¿…é¡»ç”¨å°æ‹¬å·åŒ…è£¹</strong></p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> y<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>y <span class="token operator">=</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç­‰ä»·çš„åŒ¿åå‡½æ•°å†™æ³•</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  y <span class="token operator">=</span> x<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="å•å‚æ•°å¤šæ‰§è¡Œè¯­å¥"><a href="#å•å‚æ•°å¤šæ‰§è¡Œè¯­å¥" class="headerlink" title="å•å‚æ•°å¤šæ‰§è¡Œè¯­å¥"></a><strong>å•å‚æ•°å¤šæ‰§è¡Œè¯­å¥</strong></h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token parameter">x</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> flag <span class="token operator">=</span> x <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> flag <span class="token operator">?</span> x <span class="token operator">:</span> x <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// ç­‰ä»·å†™æ³•ï¼š</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> x <span class="token operator">></span> <span class="token number">5</span> <span class="token operator">?</span> x <span class="token operator">:</span> x <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// ç­‰ä»·çš„åŒ¿åå‡½æ•°å†™æ³•</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> x <span class="token operator">></span> <span class="token number">5</span> <span class="token operator">?</span> x <span class="token operator">:</span> x <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="å¤šå‚æ•°å•è¿”å›è¯­å¥"><a href="#å¤šå‚æ•°å•è¿”å›è¯­å¥" class="headerlink" title="å¤šå‚æ•°å•è¿”å›è¯­å¥"></a><strong>å¤šå‚æ•°å•è¿”å›è¯­å¥</strong></h4><p>ä¸å•å‚æ•°å•è¿”å›è¯­å¥çš„<strong>å”¯ä¸€åŒºåˆ«</strong>å°±æ˜¯å‚æ•°å¿…é¡»ç”¨å°æ‹¬å·åŒ…è£¹ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=></span> x<span class="token operator">*</span>y<span class="token punctuation">;</span><span class="token comment">// ç­‰ä»·å†™æ³•ï¼š</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> x<span class="token operator">*</span>y<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">// ç­‰ä»·çš„åŒ¿åå‡½æ•°å†™æ³•</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> x<span class="token operator">*</span>y<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="å¤šå‚æ•°å¤šæ‰§è¡Œè¯­å¥"><a href="#å¤šå‚æ•°å¤šæ‰§è¡Œè¯­å¥" class="headerlink" title="å¤šå‚æ•°å¤šæ‰§è¡Œè¯­å¥"></a><strong>å¤šå‚æ•°å¤šæ‰§è¡Œè¯­å¥</strong></h4><p>ä¸å•å‚æ•°å¤šæ‰§è¡Œè¯­å¥çš„<strong>å”¯ä¸€åŒºåˆ«</strong>å°±æ˜¯å‚æ•°å¿…é¡»ç”¨å°æ‹¬å·åŒ…è£¹ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> flag <span class="token operator">=</span> x <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> flag <span class="token operator">?</span> y <span class="token operator">:</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// ç­‰ä»·çš„åŒ¿åå‡½æ•°å†™æ³•</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> x <span class="token operator">></span> <span class="token number">5</span> <span class="token operator">?</span> y <span class="token operator">:</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="æ²¡æœ‰å‚æ•°"><a href="#æ²¡æœ‰å‚æ•°" class="headerlink" title="æ²¡æœ‰å‚æ•°"></a><strong>æ²¡æœ‰å‚æ•°</strong></h4><p><strong>å‚æ•°ä½ç½®å¿…é¡»åŠ æ‹¬å·</strong>ï¼Œå…¶ä»–å•&#x2F;å¤šè¯­å¥æ‰§è¡Œçš„ä¹¦å†™æ ¼å¼åŒä¸Šã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token number">99</span><span class="token punctuation">;</span><span class="token comment">// ç­‰ä»·çš„åŒ¿åå‡½æ•°å†™æ³•</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">99</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a><strong>å¯å˜å‚æ•°</strong></h4><p>åˆ©ç”¨<code>rest</code>å˜é‡å–å€¼ï¼Œå¯ä»¥åˆ©ç”¨â€¦å¯¹ä¸ªæ•°ä¸æ˜å‚æ•°çš„å‚æ•°è¿›è¡Œå›Šæ‹¬ï¼Œå¾—åˆ°å˜é‡ç»„æˆçš„æ•°ç»„ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> sum <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rest<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    sum <span class="token operator">+=</span> rest<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// sum += 4; sum += 5;sum += 6  4/8/13/19</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 19</span></code></pre><p>çœ‹å®Œæ˜¯ä¸æ˜¯æ„Ÿè§‰ï¼ŒåŸæ¥ç®­å¤´å‡½æ•°è¿™ä¹ˆç®€å•ï¼Œå¯¹æ²¡é”™â€¦å°±æ˜¯å¦‚æ­¤ç®€å•ã€‚</p><p>ç®­å¤´å‡½æ•°åœ¨ä¸€å®šå½¢å¼ä¸Šä¸åŒ¿åå‡½æ•°æ²¡æœ‰å¤ªå¤§çš„å·®å¼‚ï¼Œå†™æ³•ä¸Šé™¤äº†å‡½æ•°å¤´å°¾éƒ¨ï¼Œå‡½æ•°ä½“ä¾æ—§æ˜¯é€»è¾‘æ€§çš„ä»£ç ã€‚</p><hr><h3 id="ä¸æ™®é€šåŒ¿åå‡½æ•°çš„åŒºåˆ«"><a href="#ä¸æ™®é€šåŒ¿åå‡½æ•°çš„åŒºåˆ«" class="headerlink" title="ä¸æ™®é€šåŒ¿åå‡½æ•°çš„åŒºåˆ«"></a>ä¸æ™®é€šåŒ¿åå‡½æ•°çš„åŒºåˆ«</h3><ul><li><p>ç®­å¤´å‡½æ•°å½¢å¼ä¸Šåšäº†æ”¹å˜ï¼Œç®€åŒ–äº†å‡½æ•°ä½“ã€‚</p></li><li><p>æ™®é€šå‡½æ•°æ”¯æŒé€šè¿‡<code>arguments</code>è·å–æœªçŸ¥ä¸ªæ•°çš„å®å‚ï¼Œè€Œç®­å¤´å‡½æ•°ä¸æ”¯æŒ<code>arguments</code>ç”¨æ³•ï¼Œç©¶å…¶åŸå› ï¼šç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªèº«çš„<code>thisã€arguments</code>ï¼Œä½†æ˜¯â€¦å¦‚è‹¥å®ƒçš„çˆ¶çº§å­˜åœ¨ï¼Œé‚£ä¹ˆåœ¨ç®­å¤´å‡½æ•°å†…è·å–çš„å°±æ˜¯å…¶çˆ¶çº§å¯¹åº”çš„<code>thisã€arguments</code>ã€‚å¦‚æœåœ¨ç®­å¤´å‡½æ•°ä¸­æœ‰è¿™ä¸ªè·å–è‡ªèº«çš„<code>arguments</code>éœ€æ±‚ï¼Œå¯ä»¥ç”¨<code>...rest</code>æ›¿ä»£ã€‚</p></li><li><p>ç®­å¤´å‡½æ•°åœ¨<code>ES6</code>æ ‡å‡†ä¸‹å¯ä½¿ç”¨ï¼Œæ™®é€šå‡½æ•°åˆ™æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚</p></li><li><p><code>this</code>æŒ‡å‘çš„ä¿®æ”¹ã€‚ç®­å¤´å‡½æ•°çš„<code>this</code>æŒ‡å‘å¤–éƒ¨ï¼Œå¸¸åœ¨å¯¹ç±»çš„æ–¹æ³•è¿›è¡Œæ„é€ æ—¶ä½¿ç”¨ï¼Œä½¿å‡½æ•°ä½“å†…çš„<code>this</code>å§‹ç»ˆæŒ‡å‘è¿™ä¸ªç±»ã€‚å¦‚æœéœ€è¦ <code>this</code>æŒ‡å‘å½“å‰æºï¼Œå»ºè®®ä½¿ç”¨æ™®é€šå‡½æ•°ã€‚</p></li></ul><div class="primary"><blockquote><p>è¡¥å……è¯´æ˜ï¼š</p></blockquote></div><blockquote><p><strong>ç®­å¤´å‡½æ•°é™¤äº†æ²¡æœ‰è‡ªèº«çš„ thisã€arguments å¤–ï¼Œnew.targetã€super ä¹Ÿæ²¡æœ‰</strong>ã€‚ï¼ˆæ³¨æ„åªæ˜¯è‡ªèº«æ²¡æœ‰ï¼Œå®ƒä¼šä»å®ƒçš„å¤–éƒ¨è·å–ï¼Œå°±è¿‘åŸåˆ™ï¼Œå¦‚æœå¤–éƒ¨è¿˜æ˜¯æ²¡æœ‰è‡ªèº«çš„ï¼Œç»§ç»­å‘å¤–â€¦ï¼‰ï¼›å¦ï¼š<strong>ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°</strong>ã€‚</p></blockquote><blockquote><p><strong>ç®­å¤´å‡½æ•°æœ‰ä½œç”¨åŸŸ</strong>ï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰ï¼Œè¯æ³•ä½œç”¨åŸŸç®€å•æ¥è®²å°±æ˜¯ï¼Œä¸€åˆ‡å˜é‡ï¼ˆåŒ…æ‹¬ thisï¼‰éƒ½æ ¹æ®ä½œç”¨åŸŸé“¾æ¥æŸ¥æ‰¾ã€‚</p></blockquote><blockquote><p>è‡³äºä¸ºå•¥ç®­å¤´å‡½æ•°è‡ªèº«æ²¡æœ‰ï¼Ÿè¿™ç©æ„å„¿è¿ ES6 è§„èŒƒåŸæ–‡é‡Œéƒ½æ²¡å†™åŸå› ï¼ˆ<a href="https://262.ecma-international.org/6.0/#sec-arrow-function-definitions">https://262.ecma-international.org/6.0/#sec-arrow-function-definitions</a>ï¼‰ï¼Œåªè¦çŸ¥é“æ˜¯è§„èŒƒæ ‡å‡†å°±è¡Œï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ˜¯ç®­å¤´å‡½æ•°çš„ç‰¹æ€§â€¦</p></blockquote><h3 id="ç®­å¤´å‡½æ•°ä¸­çš„this"><a href="#ç®­å¤´å‡½æ•°ä¸­çš„this" class="headerlink" title="ç®­å¤´å‡½æ•°ä¸­çš„this"></a>ç®­å¤´å‡½æ•°ä¸­çš„<code>this</code></h3><blockquote><p>è¯·è®°ä½ï¼šç®­å¤´å‡½æ•°è‡ªèº«æ²¡æœ‰ thisï¼Œå¦‚è‹¥ä½ åœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨äº†å®ƒï¼Œé‚£ä¹ˆå®ƒå…¶å®æ˜¯<strong>ç®­å¤´å‡½æ•°çˆ¶çº§</strong>çš„ thisã€‚</p></blockquote><p>æ€ä¹ˆç†è§£è¿™ä¸ª<strong>ç®­å¤´å‡½æ•°çš„çˆ¶çº§</strong>ï¼Ÿå¯ä»¥å‚è€ƒ<strong>ä½ç½®</strong>ï¼Œå®ƒçš„å¤–å±‚çš„<code>console.log</code>çš„<code>this</code>å€¼å³ä¸ºå®ƒçš„<code>this</code>å€¼ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// äº‹ä»¶å‡½æ•°ä¸­ï¼š</span><span class="token comment">// æ™®é€šåŒ¿åå‡½æ•°ä¸­çš„ thisï¼ŒæŒ‡å‘äº†äº‹ä»¶æº ele</span>ele<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ele</span>  <span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// æ™®é€šåŒ¿åå‡½æ•° thisï¼Œæ‰§è¡Œäº†å®ƒçš„è°ƒç”¨è€… window</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// ä¸‹é¢çš„ç®­å¤´å‡½æ•°å¤–éƒ¨ï¼Œæˆ–è€…å¯ä»¥ç†è§£ä¸ºå…¶ çˆ¶çº§</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ele<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ç®­å¤´å‡½æ•°å†…éƒ¨</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸ä¸Šé¢é‚£ä¸ª log ä¸€è‡´ï¼Œéƒ½æ˜¯æŒ‡å‘çš„ window</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><p>åˆæ¯”å¦‚ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">parentFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// è¿™æ˜¯æ™®é€šåŒ¿åå‡½æ•°çš„å†…éƒ¨ï¼Œå®ƒçš„è°ƒç”¨è€…æ˜¯ windowï¼Œæ‰€ä»¥ä¸‹é¢è¿™å¥ log å°±æ˜¯ window</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// è¿™é‡Œæ˜¯ç®­å¤´å‡½æ•°å†…éƒ¨ï¼Œä¸Šé¢é‚£å¥ log å°±æ˜¯å¤–éƒ¨ï¼Œè€Œå¤–éƒ¨ this æŒ‡å‘äº† windowï¼Œæ‰€ä»¥ä¸‹é¢è¿™å¥ log çš„å€¼ä¹Ÿæ˜¯ window</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">parentFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window.parentFn()</span></code></pre><p>ç»“åˆä¸Šé¢ä¸¤ç§æ–¹å¼ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">ele<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// è¿™é‡Œæ˜¯æ™®é€šåŒ¿åå‡½æ•°çš„å†…éƒ¨ï¼Œthis æŒ‡å‘äº†å®ƒçš„è°ƒç”¨è€…ï¼šele</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// è¿™é‡Œçš„ this å–å†³äºå¤–é¢çš„ logï¼ŒåŒä¸º ele</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h4 id="è°ˆè°ˆæˆ‘å¯¹ç®­å¤´å‡½æ•°ä¸æ™®é€šåŒ¿åå‡½æ•°çš„thisåŒºåˆ†ç†è§£"><a href="#è°ˆè°ˆæˆ‘å¯¹ç®­å¤´å‡½æ•°ä¸æ™®é€šåŒ¿åå‡½æ•°çš„thisåŒºåˆ†ç†è§£" class="headerlink" title="è°ˆè°ˆæˆ‘å¯¹ç®­å¤´å‡½æ•°ä¸æ™®é€šåŒ¿åå‡½æ•°çš„thisåŒºåˆ†ç†è§£"></a>è°ˆè°ˆæˆ‘å¯¹ç®­å¤´å‡½æ•°ä¸æ™®é€šåŒ¿åå‡½æ•°çš„<code>this</code>åŒºåˆ†ç†è§£</h4><p>ä»ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç°è±¡ï¼šå°±æ˜¯åªè¦æœ‰ç®­å¤´å‡½æ•°å­˜åœ¨ï¼Œé‚£ä¹ˆå®ƒçš„<code>this</code>ï¼Œå§‹ç»ˆéƒ½æ˜¯å’Œå¤–é¢ä¸€å±‚æ‰“å°çš„<code>this</code>ä¸€æ ·ã€‚è€Œæ™®é€šçš„åŒ¿åå‡½æ•°ï¼Œä¸ç®¡æ˜¯å¦å¤„äºå…¶ä»–åŒ¿åå‡½æ•°&#x2F;ç®­å¤´å‡½æ•°å†…éƒ¨ï¼ˆä¸ç®¡å±‚çº§å¤šæ·±ï¼‰ï¼Œå®ƒè‡ªèº«çš„<code>this</code>éƒ½åªä¼šæŒ‡å‘å®ƒçš„è°ƒç”¨è€…ã€‚</p><p><strong>æ™®é€šåŒ¿åå‡½æ•°çš„è°ƒç”¨è€…åˆæ˜¯ä¸ªå•¥ï¼Ÿ</strong></p><blockquote><p>é€šè¿‡ fn() æ–¹å¼è°ƒç”¨ï¼šå‡½æ•°åœ¨é€šè¿‡å‡½æ•°åè°ƒç”¨æ—¶ï¼Œè°ƒç”¨è€…å°±æ˜¯ windowï¼Œå¯ä»¥ç†è§£ä¸º window.fn()ï¼Œåªä¸è¿‡ window çœç•¥äº†ã€‚</p></blockquote><blockquote><p>é€šè¿‡ obj.fn() æ–¹å¼è°ƒç”¨ï¼šæ­¤æ—¶è¿™ä¸ªæ™®é€šåŒ¿åå‡½æ•°æ˜¯å¯¹è±¡èº«ä¸Šä¸€ä¸ªæ–¹æ³•ï¼Œå¯¹è±¡è°ƒç”¨è‡ªèº«çš„æ–¹æ³•ï¼Œè°ƒç”¨è€…å°±æ˜¯è¿™ä¸ª objã€‚</p></blockquote><blockquote><p>å¦‚æœæ˜¯äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä¾‹å¦‚ ele.onclick è§¦å‘çš„äº‹ä»¶ï¼Œè™½ç„¶æ²¡æœ‰æ˜¾å¼çš„è°ƒç”¨è€…ï¼Œä½†æ˜¯å´ç”± ele å¼•èµ·ï¼Œå®ƒçš„è°ƒç”¨è€…å¯ä»¥ç†è§£ä¸º eleã€‚</p></blockquote><div class="success"><blockquote><p>æ€»ç»“ï¼šç®­å¤´å‡½æ•° this å–å†³äºå…¶å‡½æ•°ä½“çš„ä½ç½®ï¼ˆä¸è°ƒç”¨è€…æ— å…³ï¼‰ï¼Œå€¼å§‹ç»ˆä¸å…¶å¤–å±‚çš„ this ä¸€è‡´ã€‚æ™®é€šåŒ¿åå‡½æ•° this å–å†³äºå…¶è°ƒç”¨è€…ï¼ˆä¸ä½ç½®æ— å…³ï¼‰ï¼Œå€¼å§‹ç»ˆæ˜¯è°ƒç”¨è€…ã€‚</p></blockquote></div>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> ç®­å¤´å‡½æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javascriptä¸­çš„äº‹ä»¶ç»„æˆã€åˆ†ç±»ã€ç»‘å®šä¸ç›‘å¬</title>
      <link href="/notes/javascript-event/"/>
      <url>/notes/javascript-event/</url>
      
        <content type="html"><![CDATA[<h3 id="What"><a href="#What" class="headerlink" title="What?"></a>What?</h3><p>ä¸»è¦æ˜¯ä»‹ç»äº‹ä»¶ç›¸å…³çŸ¥è¯†ã€‚æ¶µç›–äº‹ä»¶çš„ç»„æˆéƒ¨åˆ†ã€å¸¸è§äº‹ä»¶åˆ†ç±»ã€ä»¥åŠå½“æˆ‘ä»¬ä¸ºå…ƒç´ ç»‘å®šäº‹ä»¶ç›‘å¬ä»¥åï¼Œå¦‚ä½•é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆæ•è·ï¼‰ã€é˜»æ­¢é»˜è®¤äº‹ä»¶ã€å§”æ´¾ã€å¦‚ä½•è§£ç»‘â€¦</p><span id="more"></span><h3 id="äº‹ä»¶æ˜¯ç”±å“ªäº›å…ƒç´ æ„æˆçš„ï¼Ÿ"><a href="#äº‹ä»¶æ˜¯ç”±å“ªäº›å…ƒç´ æ„æˆçš„ï¼Ÿ" class="headerlink" title="äº‹ä»¶æ˜¯ç”±å“ªäº›å…ƒç´ æ„æˆçš„ï¼Ÿ"></a>äº‹ä»¶æ˜¯ç”±å“ªäº›å…ƒç´ æ„æˆçš„ï¼Ÿ</h3><h4 id="äº‹ä»¶æº"><a href="#äº‹ä»¶æº" class="headerlink" title="äº‹ä»¶æº"></a>äº‹ä»¶æº</h4><p>æºï¼šæºå¤´ï¼Œæ¥æºã€‚æè¿°äº‹ä»¶çš„äº§ç”Ÿæºå¤´ï¼Œä¾‹å¦‚ç»™ä¸€ä¸ªæŒ‰é’®ç»‘å®šäº†ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæŒ‰é’®å°±æ˜¯äº‹ä»¶æº â€”â€” è°ƒç”¨è€…ã€‚</p><blockquote><p>btn.onclick &#x3D; function(){}ï¼Œbtn å³ä¸ºäº‹ä»¶æº</p></blockquote><h4 id="äº‹ä»¶ç±»å‹"><a href="#äº‹ä»¶ç±»å‹" class="headerlink" title="äº‹ä»¶ç±»å‹"></a>äº‹ä»¶ç±»å‹</h4><p>äº‹ä»¶ç±»å‹ï¼Œæ¯”å¦‚å·²çŸ¥çš„ç‚¹å‡»äº‹ä»¶ã€ ç§»å…¥ç§»å‡ºäº‹ä»¶ã€è¡¨å•æäº¤äº‹ä»¶ã€æµè§ˆå™¨äº‹ä»¶â€¦</p><blockquote><p>æ³¨æ„ï¼šç±»ä¼¼äº onclick è¿™ç§æ–¹å¼çš„äº‹ä»¶ç»‘å®šï¼Œå®ƒçš„ç±»å‹æ˜¯ clickã€‚on å‰ç¼€åªæ˜¯ç»‘å®šäº‹ä»¶çš„ä¸€ç§æ–¹å¼ onclick ä¸æ˜¯ç±»å‹ã€‚</p></blockquote><h4 id="äº‹ä»¶å¤„ç†å‡½æ•°"><a href="#äº‹ä»¶å¤„ç†å‡½æ•°" class="headerlink" title="äº‹ä»¶å¤„ç†å‡½æ•°"></a>äº‹ä»¶å¤„ç†å‡½æ•°</h4><p>äº‹ä»¶è¢«è§¦å‘ä»¥åï¼Œæ‰€æ‰§è¡Œçš„å‡½æ•°ä½“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯åŒ¿åå‡½æ•°ã€‚</p><blockquote><p>function(){}</p></blockquote><h3 id="äº‹ä»¶å¯¹è±¡-e"><a href="#äº‹ä»¶å¯¹è±¡-e" class="headerlink" title="äº‹ä»¶å¯¹è±¡ e"></a>äº‹ä»¶å¯¹è±¡ <code>e</code></h3><h4 id="äº‹ä»¶å¯¹è±¡è·å–"><a href="#äº‹ä»¶å¯¹è±¡è·å–" class="headerlink" title="äº‹ä»¶å¯¹è±¡è·å–"></a>äº‹ä»¶å¯¹è±¡è·å–</h4><blockquote><p>window.event ä»¥å‰åªèƒ½åœ¨ IE ä¸­èƒ½ä½¿ç”¨</p></blockquote><blockquote><p>Chrome å’Œ Firefox æä¾›äº†å¦ä¸€ç§æ–¹æ³• å³ æä¾›ä¸€ä¸ª å‚æ•°ã€‚ï¼ˆäº‹ä»¶å¤„ç†å‡½æ•°çš„ç¬¬ä¸€ä¸ªé»˜è®¤å‚æ•°ï¼‰</p></blockquote><p>å­˜åœ¨å…¼å®¹æ€§ï¼Œå…¼å®¹å¤„ç†ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>e<span class="token punctuation">;</span>  <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h4 id="äº‹ä»¶ç›®æ ‡å…ƒç´ è·å–"><a href="#äº‹ä»¶ç›®æ ‡å…ƒç´ è·å–" class="headerlink" title="äº‹ä»¶ç›®æ ‡å…ƒç´ è·å–"></a>äº‹ä»¶ç›®æ ‡å…ƒç´ è·å–</h4><p>å…¼å®¹æ€§å¤„ç†ï¼š</p><blockquote><p>target &#x3D; e.target || e.srcEle (IE)</p></blockquote><h4 id="è·å–è§¦å‘äº‹ä»¶çš„é¼ æ ‡æŒ‰é”®"><a href="#è·å–è§¦å‘äº‹ä»¶çš„é¼ æ ‡æŒ‰é”®" class="headerlink" title="è·å–è§¦å‘äº‹ä»¶çš„é¼ æ ‡æŒ‰é”®"></a>è·å–è§¦å‘äº‹ä»¶çš„é¼ æ ‡æŒ‰é”®</h4><p>è·å–ï¼šé<code>IE</code>ä¸‹ä¸º<code>e.button</code>ï¼Œ<code>IE</code>ä¸‹ä¸º<code>e.which</code>ã€‚</p><p>å¯¹åº”å€¼ï¼š</p><table><thead><tr><th>ç¯å¢ƒ</th><th>é¼ æ ‡å·¦é”®</th><th>é¼ æ ‡æ»šè½®</th><th>é¼ æ ‡å³é”®</th></tr></thead><tbody><tr><td>IE</td><td>1</td><td>2</td><td>3</td></tr><tr><td>é IE</td><td>0</td><td>1</td><td>2</td></tr></tbody></table><h4 id="è·å–å…‰æ ‡ä½ç½®"><a href="#è·å–å…‰æ ‡ä½ç½®" class="headerlink" title="è·å–å…‰æ ‡ä½ç½®"></a>è·å–å…‰æ ‡ä½ç½®</h4><ul><li><code>e.clientX/clientYY</code>è·å–åˆ°çš„æ˜¯<strong>è§¦å‘ç‚¹</strong>ç›¸å¯¹æµè§ˆå™¨å¯è§†åŒºåŸŸå·¦ä¸Šè§’è·ç¦»ï¼Œä¸éšé¡µé¢æ»šåŠ¨è€Œæ”¹å˜ã€‚</li><li><code>e.pageX/pageY</code>è·å–åˆ°çš„æ˜¯<strong>è§¦å‘ç‚¹</strong>ç›¸å¯¹æ–‡æ¡£åŒºåŸŸå·¦ä¸Šè§’è·ç¦»ï¼Œä¼šéšç€é¡µé¢æ»šåŠ¨è€Œæ”¹å˜</li></ul><p><strong>æ‹“å±•ï¼Œæ³¨æ„ display ä¸º none æ—¶ï¼Œ å®½é«˜å‡ä¸º 0ï¼Œæ‹¿æ•°æ®çš„æ—¶å€™æ³¨æ„åˆ¤æ–­</strong>ï¼Œ<code>ele</code>æŒ‡çš„å…ƒç´ ã€‚</p><ul><li><p><code>ele.offsetX/offsetY</code>è·å–åˆ°æ˜¯<strong>è§¦å‘ç‚¹</strong>ç›¸å¯¹è¢«è§¦å‘<code>dom</code>çš„å·¦ä¸Šè§’è·ç¦»ï¼Œä¸è¿‡å·¦ä¸Šè§’åŸºå‡†ç‚¹åœ¨ä¸åŒæµè§ˆå™¨ä¸­æœ‰åŒºåˆ«ï¼Œå…¶ä¸­åœ¨<code>IE</code>ä¸­ä»¥å†…å®¹åŒºå·¦ä¸Šè§’ä¸ºåŸºå‡†ç‚¹ä¸åŒ…æ‹¬è¾¹æ¡†ï¼Œå¦‚æœ<strong>è§¦å‘ç‚¹</strong>åœ¨è¾¹æ¡†ä¸Šä¼šè¿”å›è´Ÿå€¼ï¼Œè€Œ<code>chrome</code>ä¸­ä»¥è¾¹æ¡†å·¦ä¸Šè§’ä¸ºåŸºå‡†ç‚¹ã€‚</p></li><li><p><code>ele.layerX/layerY</code>è·å–åˆ°çš„æ˜¯<strong>è§¦å‘ç‚¹</strong>ç›¸å¯¹è¢«è§¦å‘<code>dom</code>å·¦ä¸Šè§’çš„è·ç¦»ï¼Œæ•°å€¼ä¸<code>offsetX/offsetY</code>ç›¸åŒï¼Œè¿™ä¸ªå˜é‡å°±æ˜¯<code>firefox</code>ç”¨æ¥æ›¿ä»£<code>offsetX/offsetY</code>çš„ã€‚ï¼ˆæœ‰ä¸ªå‰ææ¡ä»¶å°±æ˜¯ï¼Œè¢«è§¦å‘çš„ dom éœ€è¦æ˜¯æœ‰å®šä½çš„å…ƒç´ ï¼Œå¦åˆ™ä¼šè¿”å›ç›¸å¯¹<code>html</code>æ–‡æ¡£åŒºåŸŸå·¦ä¸Šè§’çš„è·ç¦»ï¼‰</p></li><li><p><code>ele.offsetWidth/offsetHeight</code><strong>å…ƒç´ </strong>çš„å®½åº¦&#x2F;é«˜åº¦ï¼ŒåŒ…æ‹¬<code>border</code>ã€‚</p></li><li><p><code>ele.offsetLeft/offsetTop</code><strong>å…ƒç´ </strong>åˆ°æœ‰å®šä½çš„çˆ¶å…ƒç´ çš„å·¦è¾¹&#x2F;ä¸Šè¾¹çš„è·ç¦» ï¼Œå¦‚æœçˆ¶å…ƒç´ éƒ½æ²¡æœ‰å®šä½ ï¼Œé‚£å°±æ˜¯ç›¸å¯¹äº body ä¸Šè¾¹çš„è·ç¦»ã€‚</p></li><li><p><code>ele.offsetParent</code>æ‹¿åˆ°æœ‰å®šä½çš„çˆ¶å…ƒç´ ï¼Œéƒ½æ²¡å®šä½ï¼Œé‚£ä¹ˆæ‹¿åˆ°çš„å°±æ˜¯<code>body</code>ã€‚</p></li><li><p><code>ele.clientWidth/clientHeight</code>å…ƒç´ çš„å®½åº¦&#x2F;é«˜åº¦ï¼Œä¸å«<code>border</code>ã€‚</p></li><li><p><code>ele.clientLeft/clientTop</code>å…ƒç´ çš„å·¦&#x2F;ä¸Šè¾¹æ¡†å®½åº¦</p></li></ul><p><strong>ç«ç‹ä»¥å¤–çš„æ‰€æœ‰æµè§ˆå™¨ä½¿ç”¨ï¼ˆå…¼å®¹ IEï¼‰</strong></p><ul><li><p><code>window.screenLeft</code>æµè§ˆå™¨çª—å£ç›¸å¯¹äºæ˜¾ç¤ºå™¨(å±å¹•)å·¦è¾¹çš„è·ç¦»</p></li><li><p><code>window.screenTop</code>æµè§ˆå™¨çª—å£ç›¸å¯¹äºæ˜¾ç¤ºå™¨(å±å¹•)ä¸Šè¾¹çš„è·ç¦»</p></li></ul><p><strong>ç«ç‹æµè§ˆå™¨ä½¿ç”¨ï¼ˆä¸å…¼å®¹ IEï¼‰</strong></p><ul><li><p><code>window.screenX</code>æµè§ˆå™¨çª—å£ç›¸å¯¹äºæ˜¾ç¤ºå™¨(å±å¹•)å·¦è¾¹çš„è·ç¦»</p></li><li><p><code>window.screenY</code>æµè§ˆå™¨çª—å£ç›¸å¯¹äºæ˜¾ç¤ºå™¨(å±å¹•)ä¸Šè¾¹çš„è·ç¦»</p></li></ul><h4 id="é”®ç›˜äº‹ä»¶å¯¹è±¡çš„å±æ€§"><a href="#é”®ç›˜äº‹ä»¶å¯¹è±¡çš„å±æ€§" class="headerlink" title="é”®ç›˜äº‹ä»¶å¯¹è±¡çš„å±æ€§"></a>é”®ç›˜äº‹ä»¶å¯¹è±¡çš„å±æ€§</h4><blockquote><p>ctrlkey ctrl æŒ‰é’®æ˜¯å¦è¢«æŒ‰ä¸‹ï¼Œå€¼ä¸º boolean</p></blockquote><blockquote><p>shiftkey shift æŒ‰é’®æ˜¯å¦è¢«æŒ‰ä¸‹ï¼Œå€¼ä¸º boolean</p></blockquote><blockquote><p>altkey alt æŒ‰é’®æ˜¯å¦è¢«æŒ‰ä¸‹ï¼Œå€¼ä¸º boolean</p></blockquote><p>â€¦</p><p><code>keyCode</code>è·å–è§¦å‘<code>kayup</code>äº‹ä»¶çš„é”®ç›˜æŒ‰é’®ç¼–å·ï¼Œå¯ä»¥é€šè¿‡<code>keyCode</code>ä¸ºå…·ä½“çš„æŸä¸€ä¸ªæŒ‰é”®æ·»åŠ å¯¹åº”çš„åŠŸèƒ½é€»è¾‘ã€‚</p><hr><h3 id="å¸¸è§çš„å‡ ç§äº‹ä»¶ç±»å‹"><a href="#å¸¸è§çš„å‡ ç§äº‹ä»¶ç±»å‹" class="headerlink" title="å¸¸è§çš„å‡ ç§äº‹ä»¶ç±»å‹"></a><strong>å¸¸è§çš„å‡ ç§äº‹ä»¶ç±»å‹</strong></h3><h4 id="é¼ æ ‡äº‹ä»¶"><a href="#é¼ æ ‡äº‹ä»¶" class="headerlink" title="é¼ æ ‡äº‹ä»¶"></a>é¼ æ ‡äº‹ä»¶</h4><ul><li><code>click</code>â€”é¼ æ ‡å·¦é”®å•å‡»ã€‚</li><li><code>dblclick</code>â€”é¼ æ ‡åŒå‡»ã€‚</li><li><code>contextmenu</code>â€”é¼ æ ‡å³é”®ç‚¹å‡»äº‹ä»¶ã€‚</li><li><code>mousedown</code>â€”é¼ æ ‡æŒ‰ä¸‹ã€‚</li><li><code>mouseup</code>â€”é¼ æ ‡æŠ¬èµ·(æ¾å¼€æŒ‰é”®)ã€‚</li><li><code>mousemove</code>â€”é¼ æ ‡ç§»åŠ¨ã€‚</li><li><code>mouseenter</code>â€”é¼ æ ‡ç§»å…¥ã€‚</li><li><code>mouseover</code>â€”é¼ æ ‡ç§»å…¥ã€‚</li><li><code>mouseleave</code>â€”é¼ æ ‡ç¦»å¼€ã€‚</li><li><code>mouseout</code>â€”é¼ æ ‡ç¦»å¼€ã€‚</li></ul><h5 id="mouseenterå’Œmouseoverçš„åŒºåˆ«ï¼š"><a href="#mouseenterå’Œmouseoverçš„åŒºåˆ«ï¼š" class="headerlink" title="mouseenterå’Œmouseoverçš„åŒºåˆ«ï¼š"></a><code>mouseenter</code>å’Œ<code>mouseover</code>çš„åŒºåˆ«ï¼š</h5><blockquote><p><code>over</code>ä¼šç»™å­å…ƒç´ åŒæ—¶ç»‘å®šæœ‰å†’æ³¡çš„è¡Œä¸º</p></blockquote><blockquote><p><code>enter</code>æ²¡æœ‰å†’æ³¡ï¼Œä¸ä¼šç»™å…¶å­å…ƒç´ ç»‘å®šäº‹ä»¶</p></blockquote><h4 id="é”®ç›˜äº‹ä»¶"><a href="#é”®ç›˜äº‹ä»¶" class="headerlink" title="é”®ç›˜äº‹ä»¶"></a>é”®ç›˜äº‹ä»¶</h4><ul><li><code>keydown</code>æŒ‰ä¸‹é”®ç›˜é”®</li><li><code>keyup</code>ç´§æ¥ç€<code>keydown</code>äº‹ä»¶è§¦å‘ï¼ˆåªæœ‰æŒ‰ä¸‹å­—ç¬¦é”®æ—¶è§¦å‘ï¼‰ã€‚</li><li><code>keypress</code>é‡Šæ”¾é”®ç›˜é”®ã€‚</li></ul><h4 id="æµè§ˆå™¨äº‹ä»¶"><a href="#æµè§ˆå™¨äº‹ä»¶" class="headerlink" title="æµè§ˆå™¨äº‹ä»¶"></a>æµè§ˆå™¨äº‹ä»¶</h4><ul><li><code>load</code>â€”é¡µé¢èµ„æºåŠ è½½ç»“æŸæ—¶æ‰§è¡Œ, é€šè¿‡è¿™ä¸ªå‡½æ•°å¯ä»¥ä½¿<code>js</code>æ”¾åœ¨<code>head</code>ä¸­ä¸å½±å“æ­£å¸¸åŠ è½½ã€‚</li><li><code>scroll</code>â€”æµè§ˆå™¨æ»šåŠ¨æ—¶æ‰§è¡Œï¼Œä¸æ»šè½®æ— å…³ï¼Œåªå’Œæµè§ˆå™¨çš„æ»šåŠ¨æ¡æ˜¯å¦æ»šåŠ¨æœ‰å…³ç³»ã€‚</li><li><code>resize</code>â€”æµè§ˆå™¨çš„å°ºå¯¸å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘æ‰§è¡Œã€‚<del>ï¼ˆå¯ä»¥ç”¨<code>js</code>å®ç°ï¼Œå“åº”å¼å¸ƒå±€ï¼‰ä¸å’‹ç”¨</del></li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h4 id="è§¦æ‘¸äº‹ä»¶"><a href="#è§¦æ‘¸äº‹ä»¶" class="headerlink" title="è§¦æ‘¸äº‹ä»¶"></a>è§¦æ‘¸äº‹ä»¶</h4><p><strong><code>touchstart</code>ä¼šå…ˆäº<code>click</code>äº‹ä»¶æ‰§è¡Œï¼Œå¦‚æœä¸æƒ³æ‰§è¡Œ<code>click</code>ï¼Œå¯ä»¥é˜»æ­¢é»˜è®¤äº‹ä»¶ã€‚</strong></p><ul><li><code>touchstart</code>æ‰‹æŒ‡è§¦æ‘¸å±å¹•æ—¶è§¦å‘ï¼Œå³ä½¿å·²ç»æœ‰æ‰‹æŒ‡åœ¨å±å¹•ä¸Šä¹Ÿä¼šè§¦å‘ã€‚</li><li><code>touchmove</code>æ‰‹æŒ‡åœ¨å±å¹•æ»‘åŠ¨æ—¶è§¦å‘ã€‚</li><li><code>touchend</code>æ‰‹æŒ‡ä»å±å¹•æ—¶ç§»å¼€æ—¶è§¦å‘ã€‚</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript">ele<span class="token punctuation">.</span><span class="token function-variable function">ontouchstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h4 id="è¡¨å•äº‹ä»¶"><a href="#è¡¨å•äº‹ä»¶" class="headerlink" title="è¡¨å•äº‹ä»¶"></a>è¡¨å•äº‹ä»¶</h4><ul><li><code>change</code>â€”ç„¦ç‚¹å‰åæ¯”è¾ƒï¼Œå‘ç”Ÿäº†æ”¹å˜åˆ™è§¦å‘è¯¥å‡½æ•°ã€‚</li><li><code>input</code>â€”åªè¦è¾“å…¥äº†å†…å®¹å°±ä¼šè§¦å‘ï¼Œä¸€ç›´è¾“å…¥ä¸€ç›´è§¦å‘ã€‚</li><li><code>focus</code>â€”è·å–ç„¦ç‚¹ã€‚</li><li><code>blur</code>â€”å¤±å»ç„¦ç‚¹ã€‚</li><li><code>submit</code>â€”æäº¤äº‹ä»¶ã€‚</li></ul><hr><h3 id="äº‹ä»¶ç»‘å®šä¸äº‹ä»¶è§£ç»‘"><a href="#äº‹ä»¶ç»‘å®šä¸äº‹ä»¶è§£ç»‘" class="headerlink" title="äº‹ä»¶ç»‘å®šä¸äº‹ä»¶è§£ç»‘"></a><strong>äº‹ä»¶ç»‘å®šä¸äº‹ä»¶è§£ç»‘</strong></h3><h4 id="æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬"><a href="#æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬" class="headerlink" title="æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬"></a>æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬</h4><h5 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a><code>addEventListener</code></h5><p><strong>æ³¨æ„ï¼šé€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ªåŒç±»å‹äº‹ä»¶ã€‚</strong></p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šäº‹ä»¶çš„ç±»å‹ï¼Œä¸éœ€è¦åŠ <code>on</code>å‰ç¼€ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šæ˜¯å‡½æ•°æ‰§è¡Œçš„å†…å®¹ã€‚</li><li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šå†’æ³¡è¿˜æ˜¯æ•è·<code>false</code>ä¸ºå†’æ³¡ï¼Œ<code>true</code>ä¸ºæ•è·ï¼Œé»˜è®¤ä¸ºå†’æ³¡<code>false</code>ã€‚</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript">ele<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ç»‘å®šçš„ç¬¬ä¸€ä¸ªäº‹ä»¶'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ele<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ç»‘å®šçš„ç¬¬äºŒä¸ªäº‹ä»¶'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="attachEvent"><a href="#attachEvent" class="headerlink" title="attachEvent"></a><code>attachEvent</code></h5><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼š<code>on</code> + äº‹ä»¶ç±»å‹ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šæ˜¯å‡½æ•°ï¼Œéœ€è¦æ‰§è¡Œçš„ä»£ç ã€‚</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript">ele<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ç»‘å®šçš„ç¬¬ä¸€ä¸ªäº‹ä»¶'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ele<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ç»‘å®šçš„ç¬¬äºŒä¸ªäº‹ä»¶'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="ä¸¤è€…åŒºåˆ«"><a href="#ä¸¤è€…åŒºåˆ«" class="headerlink" title="ä¸¤è€…åŒºåˆ«"></a>ä¸¤è€…åŒºåˆ«</h5><p>å­˜åœ¨å…¼å®¹æ€§çš„é—®é¢˜ï¼Œå¯ä»¥è‡ªå·±é€šè¿‡å°è£…å‡½æ•°è§£å†³å…¼å®¹é—®é¢˜ã€‚</p><blockquote><p>addEventListenerï¼š-ie 8 ä»¥ä¸Šç‰ˆæœ¬çš„æµè§ˆå™¨æ”¯æŒï¼Œ<strong>é¡ºåºç»‘å®š -&gt; é¡ºåºæ‰§è¡Œ</strong></p></blockquote><blockquote><p>attachEventï¼š**-ie 10 å’Œ ie 9ï¼Œé¡ºåºç»‘å®š é¡ºåºæ‰§è¡Œã€‚-ie 8 åŠä»¥ä¸‹æ˜¯é¡ºåºç»‘å®š -&gt; å€’å™æ‰§è¡Œã€‚**</p></blockquote><h4 id="è§£ç»‘äº‹ä»¶"><a href="#è§£ç»‘äº‹ä»¶" class="headerlink" title="è§£ç»‘äº‹ä»¶"></a>è§£ç»‘äº‹ä»¶</h4><h5 id="removeEvent-â€˜äº‹ä»¶ç±»å‹â€™ï¼Œfn"><a href="#removeEvent-â€˜äº‹ä»¶ç±»å‹â€™ï¼Œfn" class="headerlink" title="removeEvent(â€˜äº‹ä»¶ç±»å‹â€™ï¼Œfn)"></a><code>removeEvent</code>(â€˜äº‹ä»¶ç±»å‹â€™ï¼Œfn)</h5><blockquote><p>addEventListener -&gt; removeEventListener è§£ç»‘çš„æ—¶å€™ï¼Œäº‹ä»¶ç±»å‹å’Œäº‹ä»¶å¤„ç†å‡½æ•°(<strong>åœ°å€</strong>)å¿…é¡»æ˜¯ä¸€æ ·çš„ã€‚</p></blockquote><p><strong>æ³¨æ„ï¼šéœ€è¦è§£ç»‘çš„æ—¶å€™ï¼Œäº‹ä»¶å¤„ç†å‡½æ•° fn ä¸èƒ½æ˜¯åŒ¿åå‡½æ•°ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸è§£ç»‘ã€‚fn åœ¨ç»‘å®šå’Œè§£ç»‘è¿‡ç¨‹ä¸­ï¼Œä¹¦å†™ç»“æ„è¦å®Œå…¨ä¿æŒä¸€è‡´ã€‚</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// æ³¨æ„ï¼šç”±äºåŒ¿å fnåœ°å€ä¸ä¸€æ · è¿™ç§æ–¹å¼ è§£ç»‘ä¸äº†</span>ele<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Error</span>document<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  ele<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// é‡‡ç”¨è¿™ç§æ–¹å¼è¿›è¡Œå‡½æ•°è§£ç»‘</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>ele<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  ele<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h5 id="detachEvent-â€˜äº‹ä»¶ç±»å‹â€™ï¼Œfn"><a href="#detachEvent-â€˜äº‹ä»¶ç±»å‹â€™ï¼Œfn" class="headerlink" title="detachEvent(â€˜äº‹ä»¶ç±»å‹â€™ï¼Œfn)"></a><code>detachEvent</code>(â€˜äº‹ä»¶ç±»å‹â€™ï¼Œfn)</h5><p>è¦æ±‚åŒä¸Šã€‚</p><blockquote><p>attachEvent -&gt; detachEvent</p></blockquote><hr><h3 id="é˜»æ­¢é»˜è®¤äº‹ä»¶"><a href="#é˜»æ­¢é»˜è®¤äº‹ä»¶" class="headerlink" title="é˜»æ­¢é»˜è®¤äº‹ä»¶"></a><strong>é˜»æ­¢é»˜è®¤äº‹ä»¶</strong></h3><p>æ¯”å¦‚<code>a</code>æ ‡ç­¾æœ‰<code>href</code>æ—¶ï¼Œä¼šè‡ªåŠ¨è·³è½¬ï¼Œå¦‚æœè¦é˜»æ­¢è¿™ä¸ªè¡Œä¸ºï¼š</p><blockquote><p>æ–¹å¼ä¸€ï¼še.parentDefault() é IE æµè§ˆå™¨</p></blockquote><blockquote><p>æ–¹å¼äºŒï¼šreturn false; ä½¿ç”¨ return false é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Œåªèƒ½å°† return false æ”¾åœ¨å‡½æ•°çš„æœ€åé¢</p></blockquote><blockquote><p>æ–¹å¼ä¸‰ï¼še.returnValue &#x3D; falseï¼›</p></blockquote><h3 id="äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·"><a href="#äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·" class="headerlink" title="äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·"></a><strong>äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·</strong></h3><p><strong>å†’æ³¡ï¼šä»å­å…ƒç´ åˆ°æ ¹å…ƒç´ ï¼Œä»å°åˆ°å¤§ã€‚æ•è·ï¼šä»æ ¹å…ƒç´ åˆ°å­å…ƒç´ ï¼Œä»å¤§åˆ°å°ã€‚</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* â€‹      inner â€‹        center â€‹          outerâ€‹            bodyâ€‹              htmlâ€‹                documwntâ€‹                  windowâ€‹    äº‹ä»¶æ‰§è¡Œæœºåˆ¶ å†’æ³¡ æ•è·â€‹    */</span></code></pre><h4 id="é˜»æ­¢å†’æ³¡ï¼ˆå­˜åœ¨ä½ç‰ˆæœ¬å…¼å®¹ï¼‰"><a href="#é˜»æ­¢å†’æ³¡ï¼ˆå­˜åœ¨ä½ç‰ˆæœ¬å…¼å®¹ï¼‰" class="headerlink" title="é˜»æ­¢å†’æ³¡ï¼ˆå­˜åœ¨ä½ç‰ˆæœ¬å…¼å®¹ï¼‰"></a>é˜»æ­¢å†’æ³¡ï¼ˆå­˜åœ¨ä½ç‰ˆæœ¬å…¼å®¹ï¼‰</h4><blockquote><p>e.stopPropagation(); or e.cancelBubble &#x3D; true;</p></blockquote><p>åªæœ‰ç»‘å®šäº†åŒç±»å‹äº‹ä»¶æ‰ä¼šè§¦å‘å†’æ³¡ã€‚</p><p>é˜»æ­¢å†’æ³¡æœºåˆ¶ï¼Œåªé’ˆå¯¹äº‹ä»¶æºæœ¬èº«ï¼Œå¦‚æœé€šè¿‡äº‹ä»¶å§”æ´¾çš„å½¢å¼ä¸ºå…¶å­å…ƒç´ æ·»åŠ äº‹ä»¶ï¼Œé‚£ä¹ˆå°±ä¸èƒ½å¯¹å…¶å­å…ƒç´ å®è¡Œé˜»æ­¢å†’æ³¡</p><hr><h3 id="äº‹ä»¶å§”æ´¾"><a href="#äº‹ä»¶å§”æ´¾" class="headerlink" title="äº‹ä»¶å§”æ´¾"></a><strong>äº‹ä»¶å§”æ´¾</strong></h3><p>æŠŠè¿™ä¸ªäº‹ä»¶ç»‘å®šåœ¨çˆ¶å…ƒç´ èº«ä¸Šï¼Œç„¶åç”±çˆ¶å…ƒç´ å§”æ´¾ç»™å­å…ƒç´ ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// é€šè¿‡ e.target å»åˆ¤æ–­ ç›®æ ‡æºå…ƒç´ æ˜¯å“ªä¸€ä¸ª</span>  <span class="token comment">// console.log(e.target)</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>className <span class="token operator">==</span> <span class="token string">'dv'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç‚¹åˆ°å°çš„äº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ¯”å¦‚è¿™é‡Œï¼Œè®¾ç½®é˜»æ­¢å†’æ³¡å°±ä¼šå¤±æ•ˆ</span>    <span class="token comment">//e.target.stopPropagation()</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> äº‹ä»¶å†’æ³¡ </tag>
            
            <tag> äº‹ä»¶å§”æ´¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jestæµ‹è¯•æ¡†æ¶æ­å»ºå’Œç®€å•ä½¿ç”¨</title>
      <link href="/notes/jest/"/>
      <url>/notes/jest/</url>
      
        <content type="html"><![CDATA[<h3 id="äº†è§£æµ‹è¯•ç”¨ä¾‹å’Œå•å…ƒæµ‹è¯•"><a href="#äº†è§£æµ‹è¯•ç”¨ä¾‹å’Œå•å…ƒæµ‹è¯•" class="headerlink" title="äº†è§£æµ‹è¯•ç”¨ä¾‹å’Œå•å…ƒæµ‹è¯•"></a>äº†è§£æµ‹è¯•ç”¨ä¾‹å’Œå•å…ƒæµ‹è¯•</h3><ul><li><p>æµ‹è¯•ç”¨ä¾‹ï¼šæ˜¯ä¸ºæŸä¸ªç‰¹æ®Šç›®æ ‡è€Œç¼–åˆ¶çš„ä¸€ç»„æµ‹è¯•è¾“å…¥ã€æ‰§è¡Œæ¡ä»¶ä»¥åŠé¢„æœŸç»“æœï¼Œæµ‹è¯•æ˜¯å¦æ»¡è¶³ç‰¹å®šéœ€æ±‚ï¼›</p></li><li><p>å•å…ƒæµ‹è¯•ï¼š(æ˜¯æµ‹è¯•çš„çº§åˆ«)ã€‚unit testing é’ˆå¯¹æŸä¸€ä¸ªåŠŸèƒ½çš„[æœ€å°éƒ¨åˆ†(å•å…ƒ)]æµ‹è¯•ï¼Œæ¯”å¦‚(å‡½æ•°ï¼Ÿç±»ï¼Ÿ)çš„æ‰§è¡Œç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</p><blockquote><p>ä¸åŒçš„ä¼ä¸šå¯èƒ½å¯¹ä¸åŒæµ‹è¯•çº§åˆ«æœ‰ä¸åŒçš„ç§°è°“ï¼Œæ¯”å¦‚å•å…ƒæµ‹è¯•ã€å¢é‡æµ‹è¯•ã€é›†æˆæµ‹è¯•ã€å›å½’æµ‹è¯•ã€å†’çƒŸæµ‹è¯•â€¦.. è°·æ­Œå¯¹æ­¤åˆ›ç«‹äº†è‡ªå·±çš„å‘½åæ–¹å¼ï¼šå°å‹æµ‹è¯•(å…·ä½“åˆ°æŸä¸ªå‡½æ•°ï¼Ÿ)ã€ä¸­å‹æµ‹è¯•(å¤šä¸ªæ¨¡å—ä¹‹é—´äº¤äº’)ã€å¤§å‹æµ‹è¯•(ç«¯å¯¹ç«¯ï¼Ÿç³»ç»Ÿæ•´ä½“éªŒè¯)ã€‚</p></blockquote></li></ul><span id="more"></span><h3 id="äº†è§£å¿«ç…§æµ‹è¯•"><a href="#äº†è§£å¿«ç…§æµ‹è¯•" class="headerlink" title="äº†è§£å¿«ç…§æµ‹è¯•"></a>äº†è§£å¿«ç…§æµ‹è¯•</h3><blockquote><p>å¿«ç…§æµ‹è¯•ï¼šä¾‹å¦‚å¯¹ vue çš„æµ‹è¯•ï¼Œå°±æ˜¯å°† vue æ¸²æŸ“çš„ dom ç»“æœåºåˆ—åŒ–æˆ stringï¼Œç„¶åå­˜å…¥åˆ° snapshot æ–‡ä»¶å¤¹ä¸‹ï¼Œåç¼€ä¸º.snap, å¦‚æœæ˜¯é¦–æ¬¡åˆ™ä¼šæ–°å»ºï¼Œä¸æ˜¯é¦–æ¬¡ï¼Œé‚£ä¹ˆä»¥åçš„æ¯æ¬¡æµ‹è¯•ï¼Œå¦‚æœæ˜¯åŸºäºå¿«ç…§çš„ï¼Œå°±ä¼šé‚£å¿«ç…§çš„å†…å®¹ä¸å½“å‰æ‰§è¡Œçš„å†…å®¹åšæ¯”è¾ƒï¼Œå¦‚æœä¸åŒï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸å‘ŠçŸ¥å˜æ›´é¡¹ï¼›<br>å¿«ç…§æµ‹è¯•ä¸€èˆ¬ç”¨äºä»£ç è¶‹äºç¨³å®šçš„ç‰ˆæœ¬ï¼Œæå‡æµ‹è¯•çš„ç¨³å®šæ€§å’Œé€Ÿåº¦ï¼›</p></blockquote><h3 id="jest-ç¯å¢ƒæ­å»º"><a href="#jest-ç¯å¢ƒæ­å»º" class="headerlink" title="jest ç¯å¢ƒæ­å»º"></a>jest ç¯å¢ƒæ­å»º</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> jest-project<span class="token builtin class-name">cd</span> jest-project/<span class="token comment"># é¡¹ç›®åˆå§‹åŒ–åŠä¾èµ–å®‰è£…</span><span class="token function">npm</span> init -y<span class="token comment"># jest å®‰è£….. æ³¨æ„ç‰ˆæœ¬å· 28ç‰ˆæœ¬ä»¥å éœ€è¦å¦å¤–å†å®‰è£… jest-environment-jsdom</span><span class="token function">yarn</span> <span class="token function">add</span> jest@24.8.0 --dev<span class="token comment"># scripts æ·»åŠ æŒ‡ä»¤</span>test: <span class="token string">"jest"</span><span class="token comment"># test æ–‡ä»¶æ”¹åŠ¨ è‡ªåŠ¨æ‰§è¡Œ jest</span><span class="token string">"test:debug"</span><span class="token builtin class-name">:</span> <span class="token string">"jest --watchAll"</span><span class="token comment"># åˆå§‹åŒ– jest é…ç½®æ–‡ä»¶ (npx xx å¯ä»¥ç†è§£ä¸ºå¯»å€æ‰§è¡Œ(ä¼˜å…ˆæ‰¾$path,å†ä»node_modulesæŸ¥æ‰¾)ï¼Œå¦‚æœxxå­˜åœ¨ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œè¿™ä¸ªexeï¼Œ ä¸å­˜åœ¨åˆ™å®‰è£…å†æ‰§è¡Œ)</span><span class="token comment"># æ‰§è¡Œç»“æŸä¼šæ ¹æ®é€‰é¡¹,ç”Ÿæˆå¯¹åº”é…ç½®æ–‡ä»¶ jest.config.js|ts</span>npx jest --initâˆš Would you like to use Typescript <span class="token keyword">for</span> the configuration file? <span class="token punctuation">..</span>. noâˆš Choose the <span class="token builtin class-name">test</span> environment that will be used <span class="token keyword">for</span> testing Â» jsdom <span class="token punctuation">(</span>browser-like<span class="token punctuation">)</span>âˆš Do you want Jest to <span class="token function">add</span> coverage reports? <span class="token punctuation">..</span>. <span class="token function">yes</span>âˆš Which provider should be used to instrument code <span class="token keyword">for</span> coverage? Â» babelâˆš Automatically <span class="token function">clear</span> mock calls and instances between every test? <span class="token punctuation">..</span>. <span class="token function">yes</span><span class="token comment"># ç”Ÿæˆè¦†ç›–ç‡æ£€æµ‹æ–‡ä»¶</span>npx jest --coverage or æ·»åŠ æ‰§è¡Œå‘½ä»¤ <span class="token function">yarn</span> coverage: <span class="token string">"jest --coverage"</span></code></pre><h4 id="é»˜è®¤é…ç½®é¡¹"><a href="#é»˜è®¤é…ç½®é¡¹" class="headerlink" title="é»˜è®¤é…ç½®é¡¹"></a>é»˜è®¤é…ç½®é¡¹</h4><p><a href="https://github.com/vuejs/vue-cli/blob/dev/packages/%40vue/cli-plugin-unit-jest/presets/default/jest-preset.js"><code>default-jest-config</code></a></p><h3 id="æµ‹è¯•ç”¨ä¾‹ç®€å•ç¤ºä¾‹"><a href="#æµ‹è¯•ç”¨ä¾‹ç®€å•ç¤ºä¾‹" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹ç®€å•ç¤ºä¾‹"></a>æµ‹è¯•ç”¨ä¾‹ç®€å•ç¤ºä¾‹</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// æ·»åŠ æµ‹è¯•çš„ä¸»æ–‡ä»¶ ä¾‹å¦‚ï¼šfeature1.js</span><span class="token comment">// æµ‹è¯•å¯¹åº”æµ‹è¯•æ–‡ä»¶ feature1.test.js</span><span class="token comment">// æ³¨æ„ï¼šjest æµ‹è¯•æ–‡ä»¶ä¸éœ€è¦å…·ä½“æŒ‡æ˜æ–‡ä»¶åç§° è€Œæ˜¯é€šè¿‡ test.js æ ‡è¯†</span><span class="token comment">// feature1.js</span><span class="token keyword">function</span> <span class="token function">myFn1TestAdd</span><span class="token punctuation">(</span><span class="token parameter">arg0<span class="token punctuation">,</span> arg1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> arg0 <span class="token operator">+</span> arg1<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">myFn2TestLogic</span><span class="token punctuation">(</span><span class="token parameter">arg0<span class="token punctuation">,</span> arg1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> arg0 <span class="token operator">&lt;</span> arg1<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span> myFn1TestAdd<span class="token punctuation">,</span> myFn2TestLogic <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// feature1.test.js</span><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> myFn1TestAdd<span class="token punctuation">,</span> myFn2TestLogic <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./feature1.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test number summation'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">myFn1TestAdd</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'compare number'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">myFn2TestLogic</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">myFn2TestLogic</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>ç†è§£ï¼štest(ç”¨ä¾‹æè¿°ï¼Œæ‰§è¡Œå›è°ƒ) åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œ expect é¢„æœŸ(å®é™…å€¼ï¼šè¿™é‡Œæ˜¯æµ‹è¯•çš„å‡½æ•°ï¼Œé‚£ä¹ˆå³ä¸ºå‡½æ•°çš„è¿”å›å€¼) toBe[åŒ¹é…å™¨ é€šè¿‡ object.js(ç»å¯¹æ¯”è¾ƒï¼Œç±»ä¼¼ === æ•ˆæœ) æ¯”è¾ƒ](æœŸæœ›å€¼)ï¼Œnot å¯ä»¥ç†è§£ä¸ºå–å</code></p><h3 id="éƒ¨åˆ†Apiå­¦ä¹ "><a href="#éƒ¨åˆ†Apiå­¦ä¹ " class="headerlink" title="éƒ¨åˆ†Apiå­¦ä¹ "></a>éƒ¨åˆ†<code>Api</code>å­¦ä¹ </h3><ul><li>è‡ªå®šä¹‰ matchers</li></ul><p>â€‹ <code>ç­‰å€¼åˆ¤æ–­</code></p><ul><li><p><code>toEqual</code> åŒ¹é…å™¨: é€’å½’æ¯”è¾ƒå¯¹è±¡å±æ€§å®ä¾‹ï¼Œå’Œ <code>toBe</code>åŒ¹é…å™¨çš„åŒºåˆ«åœ¨äº <code>toBe</code> ç±»ä¼¼ <code>===</code> çš„æ–¹å¼è¿›è¡Œç»å¯¹åŒ¹é…ï¼Œå®é™…è¿ç”¨ä¸­ <code>toEqual</code>æ›´é€‚åˆå¯¹æ¯”å¼•ç”¨ç±»å‹æ•°æ®çš„é¢„æœŸè¾“å‡ºï¼›</p></li><li><p><code>toStrictEqual</code>åŒ¹é…å™¨ï¼šä¸¥æ ¼æ¯”è¾ƒï¼Œä¾‹å¦‚ï¼š<code>[, , 1] å’Œ [undefined, undefined, 1]</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// expect(&#123; a: 1, b: 'aa', c: false &#125;).toEqual(&#123; a: 1, b: 'aa' &#125;); // false</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStrictEqual</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">__proto__</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">q</span><span class="token operator">:</span> <span class="token string">'eq'</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">__proto__</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">q</span><span class="token operator">:</span> <span class="token string">'eq'</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStrictEqual</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'aa'</span><span class="token punctuation">,</span>  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token comment">// expect([, , 1]).toStrictEqual([undefined, undefined, 1]); // false</span></code></pre></li><li><p><code>toBeCloseTo(number, numDigits?)</code> åŒ¹é…å™¨ï¼š è§£å†³<code>JavaScript</code> æµ®ç‚¹æ•°ç›¸ç­‰æ¯”è¾ƒé—®é¢˜</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test toBeCloseTo'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCloseTo</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><p>â€‹ <code>æ•°å­—å¤§å°æ¯”è¾ƒ</code></p><ul><li><p><code>toBeGreaterThan</code> <code>toBeGreaterThanOrEqual</code> <code>toBeLessThan</code> <code>toBeLessThanOrEqual</code> (å‚æ•°å‡ä¸º<code>number | bigint</code>)åŒ¹é…å™¨: æ˜¯å¦å¤§äºã€å¤§äºç­‰äºã€å°äºã€å°äºç­‰äºå€¼ï¼›</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test toBeLessThan toBeGreaterThan'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThan</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>  <span class="token function">expect</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThan</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><p>â€‹ <code>ç±»å‹åˆ¤æ–­</code></p><ul><li><p><code>toBeNull</code> <code>toBeUndefined</code> <code>toBeDefined </code> åŒ¹é…å™¨(æ— å‚æ•°)ï¼šåˆ¤æ–­è¿™ä¸ªå€¼æ˜¯å¦ä¸º <code>nullã€undefinedã€ä¸ä¸ºundefined</code>ï¼›</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test undefined'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> a<span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>  a <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>  a <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><code>toBeTruthy</code> <code>toBeFalsy</code> <code>toBeNaN</code> åŒ¹é…å™¨(æ— å‚æ•°)ï¼šåˆ¤æ–­ä¸€ä¸ªå€¼ç»è¿‡éšå¼è½¬æ¢åä¸º <code>trueã€false</code>(ç±»ä¼¼ 1ï¼Œâ€™testâ€™ ç­‰ç­‰ <code>toBeTruthy()</code> åˆ™è¾¾åˆ°é¢„æœŸ)ã€åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º <code>NaN</code>(å’Œ<code>toBeTruthy/toBeFalsy</code> ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œä¸ºæ˜¾ç¤ºæ¯”è¾ƒ);</p></li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test NaN'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token string">'11'</span><span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>  n <span class="token operator">=</span> <span class="token string">'11ds'</span><span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>  n <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><code>toBeInstanceOf(class)</code>åŒ¹é…å™¨ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹å¯¹è±¡ï¼›</li></ul><p>â€‹ <code>åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå€¼</code></p><ul><li><p><code>toMatch(regexp | string) </code>åŒ¹é…å™¨ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦èƒ½å¤Ÿæ ¹æ®<code>match</code>å‚æ•°æå–ç‰‡æ®µ(ç®€è¨€ä¹‹ï¼Œ<code>match</code> ä¸º <code>regexp</code> æ—¶ï¼Œç±»ä¼¼<code>reg.test(str)</code>, ç±»å‹ä¸º <code>string</code> æ—¶ç±»ä¼¼ <code>str.includes(match) or str.indexOf(match) &gt; -1</code>);</p></li><li><p><code>toMatchObject(obj)</code> åŒ¹é…å™¨ï¼šåˆ¤æ–­ obj æ˜¯å¦ä¸ºæŸä¸ªå¯¹è±¡çš„å­é›†</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> be<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> kit<span class="token operator">:</span> <span class="token punctuation">&#123;</span> am<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'oven'</span><span class="token punctuation">,</span> <span class="token string">'stove'</span><span class="token punctuation">,</span> <span class="token string">'washer'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> area<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  kit<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    am<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'oven'</span><span class="token punctuation">,</span> <span class="token string">'stove'</span><span class="token punctuation">,</span> <span class="token string">'washer'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'the  has my desired features'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span>ob<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pase</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><code>toContain(item)</code> åŒ¹é…å™¨ï¼šåˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«äº†æŸä¸ª <code>item</code>,ç±»ä¼¼ <code>arr.includes(&#39;xx&#39;)</code>;</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test toContain'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token string">'bb'</span><span class="token punctuation">,</span> <span class="token string">'cc'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><p>â€‹ <code>åˆ¤æ–­æ˜¯å¦æŠ›å‡ºå¼‚å¸¸</code></p><ul><li><p><code>toThrow()</code> åŒ¹é…å™¨ï¼šåˆ¤æ–­<code>expect</code>ä¼ å…¥å€¼æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸; æ³¨æ„ <code>throw æŠ›å‡ºçš„å¼‚å¸¸å€¼ è¦åŒ toThrow å‚æ•°ä¸€è‡´</code>ã€‚æ­¤æ—¶ <code>expect ä¼ å…¥çš„ä¸å†æ˜¯å…·ä½“çš„å€¼ï¼Œè€Œæ˜¯å¯æ‰§è¡Œå›è°ƒ</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test toThrow'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token function-variable function">fn3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>fn1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>  <span class="token comment">// expect(fn2).toThrow('aa'); // false</span>  <span class="token function">expect</span><span class="token punctuation">(</span>fn3<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>  <span class="token comment">// expect(fn3).toThrow('aa'); // false</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h3 id="è®©jest-æ”¯æŒ-esModule"><a href="#è®©jest-æ”¯æŒ-esModule" class="headerlink" title="è®©jest æ”¯æŒ esModule"></a>è®©<code>jest</code> æ”¯æŒ <code>esModule</code></h3><h4 id="æ–¹æ¡ˆä¸€ï¼šæ·»åŠ -babel-è½¬è¯‘"><a href="#æ–¹æ¡ˆä¸€ï¼šæ·»åŠ -babel-è½¬è¯‘" class="headerlink" title="æ–¹æ¡ˆä¸€ï¼šæ·»åŠ  babel è½¬è¯‘"></a>æ–¹æ¡ˆä¸€ï¼šæ·»åŠ  <code>babel</code> è½¬è¯‘</h4><p>â€‹ <code>jest è¿è¡Œåœ¨ node ç¯å¢ƒä¸­ï¼Œéµå¾ª commonJs è§„èŒƒï¼Œæ— æ³•è¯†åˆ« EsModule ç±»ä¼¼ export/import ... form ...æ¨¡å—å¯¼å…¥å¯¼å‡ºï¼Œå› æ­¤æ·»åŠ  babel å®ç°è½¬è¯‘ï¼Œå°† EsModule è½¬æ¢ä¸º commonJs çš„å¯¼å…¥å¯¼å‡ºè§„èŒƒï¼›</code></p><ul><li><p><code>@babel/core@7.4.5</code> æŒ‡å®šæ‰€æœ‰çš„è½¬è¯‘éƒ½æ˜¯ç”¨æœ¬åœ°é…ç½®æ–‡ä»¶ <code>.babelrc or package.json</code>ï¼›</p></li><li><p><code>@babel/preset-env@7.4.5</code> è½¬æ¢å™¨æ ¸å¿ƒï¼Œç”¨ä½œè¯­æ³•è½¬æ¢ç¼–è¯‘ï¼›</p><blockquote><p>yarn add @babel&#x2F;<a href="mailto:&#99;&#111;&#114;&#x65;&#64;&#x37;&#46;&#x34;&#46;&#53;">&#99;&#111;&#114;&#x65;&#64;&#x37;&#46;&#x34;&#46;&#53;</a> @babel&#x2F;<a href="mailto:&#112;&#x72;&#101;&#115;&#101;&#116;&#x2d;&#x65;&#110;&#x76;&#x40;&#55;&#46;&#52;&#46;&#53;">&#112;&#x72;&#101;&#115;&#101;&#116;&#x2d;&#x65;&#110;&#x76;&#x40;&#55;&#46;&#52;&#46;&#53;</a> â€“dev</p></blockquote></li><li><p><code>yarn test</code> æ‰§è¡Œ <code>jest</code> å‰ï¼Œ<code>jest çš„ babel-jest</code> ç»„ä»¶ä¼šä¼˜å…ˆæ£€æµ‹æ˜¯å¦å®‰è£…äº† <code>babel</code>ï¼Œæ£€æµ‹ <code>.babelrc</code> é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œç„¶åå†æ ¹æ® <code>babel</code>è½¬è¯‘åçš„ç»“æœæ‰§è¡Œ<code>test</code></p></li><li><p>æ·»åŠ  <code>.babelrc</code> é…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®šé¢„è®¾è§„åˆ™ï¼›<code>å¯¹è±¡ï¼špresets ä¸º[&#39;presetName&#39;, options: any][]ç±»å‹ï¼Œæ¯ä¸ª item ä¸ºä¸€ä¸ªé¢„è®¾</code>ï¼Œé¢„è®¾ï¼šå°±æ˜¯æä¾›ä¸€ä¸ªé¢„å®šçš„é…ç½®é¡¹ï¼Œç„¶åä¸å½“å‰é…ç½®åšåˆå¹¶ï¼›</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span>      <span class="token string">"@babel/preset-env"</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span>        <span class="token property">"targets"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">"current"</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span></code></pre></li></ul><h4 id="æ–¹æ¡ˆäºŒï¼šé…ç½®-package-json"><a href="#æ–¹æ¡ˆäºŒï¼šé…ç½®-package-json" class="headerlink" title="æ–¹æ¡ˆäºŒï¼šé…ç½® package.json"></a>æ–¹æ¡ˆäºŒï¼šé…ç½® <code>package.json</code></h4><ul><li><p>å°† <code>package.json</code> çš„ <code>type</code> å­—æ®µè®¾ç½®ä¸º <code>module</code></p></li><li><p>æ¯æ¬¡æ‰§è¡Œ <code>jest</code> æŒ‡å®šç¯å¢ƒå˜é‡</p><blockquote><p>&#x2F;&#x2F; package.json</p><p>{</p><p>&#x2F;&#x2F; â€¦,</p><p>â€œtypeâ€: â€œmoduleâ€,</p><p>â€œscriptsâ€: {</p><p>â€‹ <code>&quot;test&quot;: &quot;NODE_OPTIONS=--experimental-vm-modules jest&quot;</code></p><p>}</p><p>}</p></blockquote></li></ul><h3 id="æµ‹è¯•-typescript"><a href="#æµ‹è¯•-typescript" class="headerlink" title="æµ‹è¯• typescript"></a>æµ‹è¯• <code>typescript</code></h3><h4 id="æ–¹æ¡ˆä¸€ï¼šä»…ç¼–è¯‘ï¼Œä¸åšç±»å‹æ£€æµ‹"><a href="#æ–¹æ¡ˆä¸€ï¼šä»…ç¼–è¯‘ï¼Œä¸åšç±»å‹æ£€æµ‹" class="headerlink" title="æ–¹æ¡ˆä¸€ï¼šä»…ç¼–è¯‘ï¼Œä¸åšç±»å‹æ£€æµ‹"></a>æ–¹æ¡ˆä¸€ï¼šä»…ç¼–è¯‘ï¼Œä¸åšç±»å‹æ£€æµ‹</h4><p><code>é€šè¿‡ @babel/preset-typescript é¢„è®¾ï¼Œå®Œæˆ typescript çš„è½¬è¯‘</code></p><blockquote><p>yarn add @babel&#x2F;preset-typescript â€“dev</p><p>&#x2F;&#x2F; é…ç½® .babelrc è½¬æ¢å™¨è§„åˆ™</p><p>{ presets: [ [â€˜@babel&#x2F;preset-typescriptâ€™] ] }</p></blockquote><h4 id="æ–¹æ¡ˆäºŒï¼šç¼–è¯‘å¹¶å¯¹ç±»å‹æ£€æµ‹"><a href="#æ–¹æ¡ˆäºŒï¼šç¼–è¯‘å¹¶å¯¹ç±»å‹æ£€æµ‹" class="headerlink" title="æ–¹æ¡ˆäºŒï¼šç¼–è¯‘å¹¶å¯¹ç±»å‹æ£€æµ‹"></a>æ–¹æ¡ˆäºŒï¼šç¼–è¯‘å¹¶å¯¹ç±»å‹æ£€æµ‹</h4><p><code>æ™®é€šçš„ javascript æµ‹è¯•ï¼Œä½¿ç”¨å†…ç½®çš„ babel-jest ç»„ä»¶ã€‚é‚£ä¹ˆä¸º typescript ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œåˆ™éœ€è¦å®‰è£… ts-jest ç»„ä»¶ï¼›ä¸æ­¤åŒæ—¶ï¼Œå®‰è£… jest çš„ç±»å‹ä¾èµ–ï¼Œç”¨äº .test.ts ä¸­ç±»å‹çš„æ³¨å…¥ã€‚</code></p><blockquote><p>&#x2F;&#x2F; å»ºè®® @types&#x2F;jest ç‰ˆæœ¬åŒ jest ä¸»æ¬¡ç‰ˆæœ¬ä¸€è‡´</p><p>yarn add ts-jest @types&#x2F;jest â€“dev</p><p>&#x2F;&#x2F; é…ç½® <code>jest.config.js</code> , æ·»åŠ  preset: <code>&#39;ts-jest&#39;</code> é¢„è®¾é…ç½®ï¼šå³ä¸ºé¢„é…ç½®é¡¹ã€‚ç”± <code>ts-jest</code> æä¾›é…ç½®é¡¹ï¼Œç„¶åä¸å½“å‰é…ç½®åšåˆå¹¶ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåŠ äº†é¢„è®¾è¿‡åï¼Œå½“å‰é…ç½®æ–‡ä»¶å°±ä¸éœ€è¦å†å‘ <code>moduleFileExtensions</code> å†…æ·»åŠ  ts åç¼€è¯†åˆ«ï¼Œä¹Ÿä¸éœ€è¦æ·»åŠ <code> transform &#123;&#39;^.+\\.tsx?$&#39;: tsJest&#125;</code>ï¼›å‘Šè¯‰ <code>jest, .tsx æ–‡ä»¶é€šè¿‡ require.resolve(&#39;ts-jest&#39;) ç¼–è¯‘å¤„ç†</code></p><p><code>&#123; ...otherOptions, preset: &#39;ts-jest&#39; &#125;</code></p></blockquote><h3 id="æµ‹è¯•å¼‚æ­¥ç»“æœ"><a href="#æµ‹è¯•å¼‚æ­¥ç»“æœ" class="headerlink" title="æµ‹è¯•å¼‚æ­¥ç»“æœ"></a>æµ‹è¯•å¼‚æ­¥ç»“æœ</h3><p><code>asyncFuntion.ts</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">myRequestFn1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> rej<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token function">res</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> success<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h4 id="æ–¹æ¡ˆä¸€ï¼šæ¥å—ä¸€ä¸ªå‚æ•°-done"><a href="#æ–¹æ¡ˆä¸€ï¼šæ¥å—ä¸€ä¸ªå‚æ•°-done" class="headerlink" title="æ–¹æ¡ˆä¸€ï¼šæ¥å—ä¸€ä¸ªå‚æ•° done"></a>æ–¹æ¡ˆä¸€ï¼šæ¥å—ä¸€ä¸ªå‚æ•° <code>done</code></h4><p><code>ä¸ç®¡ done åœ¨ test å›è°ƒå‡½æ•°å†…æ˜¯å¦æœ‰è¢«ä½¿ç”¨ï¼Œæ•´ä¸ªå›è°ƒéƒ½ä¼šè¢«åˆ¤å®šä¸ºå¼‚æ­¥å‡½æ•°ï¼Œéœ€è¦ç­‰å¾… done() ç»“æŸæ‰§è¡Œã€‚æœ‰ç‚¹ç±»ä¼¼ promise.resolve ç»“æŸ promiseã€‚ç­‰å¾…è¶…æ—¶åç»“æœä¸º false</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// ç›´æ¥åœ¨å›è°ƒå†…çš„ promise.then å†…å†™çš„è¯­å¥ä¸ä¼šè¢« test æ£€æµ‹ï¼Œæ— å…³ equal çš„å€¼ï¼Œç»“æœéƒ½æ˜¯ pass</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test Done'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">myRequestFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">expect</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> success<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç­‰å¾…è¶…æ—¶ï¼Œç»“æœå¼‚å¸¸</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test Done'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">myRequestFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">expect</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> success<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ­£å¸¸æ‰§è¡Œ</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test Done'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">myRequestFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">expect</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> success<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>    <span class="token comment">// expect(data).toEqual(&#123; success: false &#125;); // false</span>    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="æ–¹æ¡ˆäºŒï¼šreturn-è¿”å›ä¸€ä¸ª-promise-ç»“æœ"><a href="#æ–¹æ¡ˆäºŒï¼šreturn-è¿”å›ä¸€ä¸ª-promise-ç»“æœ" class="headerlink" title="æ–¹æ¡ˆäºŒï¼šreturn è¿”å›ä¸€ä¸ª promise ç»“æœ"></a>æ–¹æ¡ˆäºŒï¼š<code>return</code> è¿”å›ä¸€ä¸ª <code>promise</code> ç»“æœ</h4><p><code>è¿”å›ä¸€ä¸ª promise ç»“æœï¼Œtest ä»£ç ä¹Ÿå¯ä»¥è¢«æ­£å¸¸æ‰§è¡Œ</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test async return'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token function">myRequestFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">expect</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> success<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>é›·ï¼šå½“ return è¿”å›çš„ promise ä¸åŒ…å«é”™è¯¯æ—¶ï¼Œcatch ä¸ä¼šè¢«æ‰§è¡Œï¼Œé‚£ä¹ˆ .catch å†…çš„ expec å§‹ç»ˆéƒ½ä¼šè¢« passï¼›æ­¤æ—¶ï¼Œé€šè¿‡æ·»åŠ  expect æ–­è¨€æ¥åˆ¤æ–­æ˜¯å¦è¦†ç›–äº† catch æµ‹è¯•è¯­å¥</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test promise.catch return'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  expect<span class="token punctuation">.</span><span class="token function">assertions</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‚æ•°ä¸º expect çš„æ‰§è¡Œæ­¤æ—¶</span>  <span class="token keyword">return</span> <span class="token function">myRequestFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">expect</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="æ–¹æ¡ˆä¸‰ï¼šasync-await-æ¨è"><a href="#æ–¹æ¡ˆä¸‰ï¼šasync-await-æ¨è" class="headerlink" title="æ–¹æ¡ˆä¸‰ï¼šasync await (æ¨è)"></a>æ–¹æ¡ˆä¸‰ï¼š<code>async await</code> (æ¨è)</h4><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test async await'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">myRequestFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// expect(res).toBeUndefined(); // failed</span>  <span class="token function">expect</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> success<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pass</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°"><a href="#ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°"></a>ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</h3><ul><li><p><code>beforeAll</code> <code>beforeEach</code> <code>afterEach</code> <code>afterAll</code> ï¼šæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹å¼€å§‹ä¹‹å‰æ‰§è¡Œã€æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å¼€å§‹ä¹‹å‰æ‰§è¡Œã€æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ç»“æŸä¹‹åæ‰§è¡Œã€æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ç»“æŸä¹‹åæ‰§è¡Œã€‚</p></li><li><p>ä½œç”¨åŸŸ:</p><blockquote><p>é’©å­å‡½æ•°åœ¨çˆ¶çº§åˆ†ç»„å¯ä½œç”¨äºå­çº§ï¼Œç±»ä¼¼ç»§æ‰¿</p><p>é’©å­å‡½æ•°åŒçº§åˆ†ç»„ä½œç”¨åŸŸäº’ä¸å¹²æ‰°ï¼Œå„èµ·ä½œç”¨</p><p>å…ˆæ‰§è¡Œå¤–éƒ¨çš„é’©å­å‡½æ•°ï¼Œå†æ‰§è¡Œå†…éƒ¨çš„é’©å­å‡½æ•°</p></blockquote><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// åˆ†ç»„å’Œé’©å­å‡½æ•°ç†è§£</span><span class="token comment">// çˆ¶çº§åˆ†ç»„</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a</span>  <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// b è¿™é‡Œçˆ¶çº§çš„é’©å­å‡½æ•°ä¼šä½œç”¨äºå­åˆ†ç»„, æ¯”å¦‚ beforeEach åœ¨å­åˆ†ç»„çš„æ¯ä¸ª test æ‰§è¡Œä¹‹å‰ä¼šè¢«è§¦å‘</span>  <span class="token comment">// å­åˆ†ç»„</span>  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'test a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c</span>    <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// d</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test a.a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// e</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test a.b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// f</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'test b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// g</span>    <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// h</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test b.a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// i</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test b.b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// j</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// a -> c -> b -> d -> e -> b -> d -> f -> g -> b -> h -> i -> b -> h -> j</span></code></pre><p><code>ç®€è¨€ä¹‹ï¼ŒåŒçº§ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œï¼Œåªæœ‰æ‰§è¡Œåˆ°è¯¥å­çº§åï¼Œè¯¥å­çº§çš„å‘¨æœŸé’©å­å‡½æ•°æ‰ä¼šè¢«è§¦å‘ï¼Œä¾‹å¦‚ beforeALLï¼›ç„¶åå½“è¯¥åŠçš„ beforeALL é’©å­æ‰§è¡Œåï¼Œå¼€å§‹ä»æœ€å¤–å‘å†…çº§ä¾æ¬¡æ‰§è¡Œ beforeEach ,å†ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œè¯¥çº§çš„ test ç”¨ä¾‹ã€‚æ³¨æ„ï¼šafter é’©å­ä¸ before ç›¸åï¼Œafter é’©å­æ˜¯ç”±å†…å‘å¤–çº§ä¾æ¬¡æ‰§è¡Œã€‚ ç±»ä¼¼ vue çš„çˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº</code>ï¼›</p></li></ul><h3 id="æµ‹è¯•ç”¨ä¾‹çš„åˆ†ç»„"><a href="#æµ‹è¯•ç”¨ä¾‹çš„åˆ†ç»„" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹çš„åˆ†ç»„"></a>æµ‹è¯•ç”¨ä¾‹çš„åˆ†ç»„</h3><p>â€‹ <code>å½“æµ‹è¯•ç”¨ä¾‹è¶³å¤Ÿå¤šæ—¶ï¼Œè¿‡é‡çš„æµ‹è¯•ç”¨ä¾‹ ä¸æ–¹ä¾¿ç®¡ç†åŠæŸ¥çœ‹ã€‚æ­¤æ—¶ä½¿ç”¨ describe(name, fn) å¯¹æµ‹è¯•ç”¨ä¾‹åˆ†ç»„ï¼›æ³¨æ„ï¼šåˆ†ç»„åè¿˜å¯ä»¥è¿›è¡Œå­åˆ†ç»„ï¼Œæœ€å¤–å±‚å¯ä»¥ç†è§£ä¸ºä¸€ä¸ª describe</code>ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// åŸ:</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test a.a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test a.b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test b.a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test b.b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åˆ†ç»„åï¼š(å°†åŸæœ‰çš„ test ç”¨ä¾‹æ‹·è´åˆ° describe å›è°ƒå†…å³å¯å®Œæˆåˆ†ç»„)</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'test a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test a.a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test a.b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'test b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test b.a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'test b.b'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="å…¶ä»–-API"><a href="#å…¶ä»–-API" class="headerlink" title="å…¶ä»– API"></a>å…¶ä»– <code>API</code></h3><ul><li><code>test.only(name, fn)</code> å½“å­˜åœ¨ <code>test.only</code> æ—¶ï¼Œå…¶ä»–çš„æµ‹è¯•ç”¨ä¾‹ä¼šè¢« skipped è·³è¿‡ï¼Œåªæ‰§è¡Œå½“å‰çš„æµ‹è¯•ç”¨ä¾‹ï¼Œé€šå¸¸ç”¨äº <code>debug</code></li></ul><h3 id="æµ‹è¯•-Vue-ç»„ä»¶"><a href="#æµ‹è¯•-Vue-ç»„ä»¶" class="headerlink" title="æµ‹è¯• Vue ç»„ä»¶"></a>æµ‹è¯• <code>Vue</code> ç»„ä»¶</h3><p><code>é…åˆ @vue/test-utils æä¾›çš„ apiï¼Œå®Œæˆ vue ç»„ä»¶çš„ TDD(å•å…ƒ) æµ‹è¯•</code></p><ul><li><p>åœ¨é¡¹ç›®ä¸­ï¼Œèƒ½å¤Ÿè¢«æ­£ç¡®è¯†åˆ«çš„æµ‹è¯•æ–‡ä»¶ï¼Œé€šå¸¸è¢«æŒ‡å®šåœ¨ <code>**/tests/unit/**/*.spec.[jt]s?(x) or **/__tests__/*.[jt]s?(x) </code></p></li><li><p><code>it</code>(æ–­è¨€)ï¼Œ<code>test</code>æµ‹è¯•ï¼Œç±»ä¼¼ itã€‚</p></li><li><p>é€šè¿‡ <code>@vue/test-utils æä¾›çš„ mount or shadowMount å‡½æ•°æ¥æŒ‚è½½å¹¶æ¸²æŸ“ vue</code>ã€‚</p></li><li><p>ç”±äº <code>jest</code> é»˜è®¤é…ç½®åŒ…å«äº†å¯¹ <code>@</code> ç¬¦å·è·¯å¾„çš„æ˜ å°„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// xx.spec.ts</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> mount<span class="token punctuation">,</span> shadowMount <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@vue/test-utils'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token constant">XX</span> <span class="token keyword">from</span> <span class="token string">'@/xxx/Xx.vue'</span><span class="token punctuation">;</span> <span class="token comment">// ç”±äºé…ç½®äº†å¼•ç”¨åç¼€ï¼Œè¿™é‡Œå¯ä»¥ä¸å†™ .vue</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•ä¸€ä¸ª XX ç»„ä»¶åŠŸèƒ½'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯• A å‡½æ•°'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">shadowMount</span><span class="token punctuation">(</span><span class="token constant">XX</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ–­è¨€ add TDD</span>    <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><code>shadowMount å’Œ mount</code> çš„åŒºåˆ«ï¼š<a href="https://github.com/holylovelqq/vue-unit-test-with-jest/issues/4">å‚è€ƒ</a></p><p><code>æ¸²æŸ“åŒºåˆ«ï¼š</code></p><pre class="language-none"><code class="language-none">mountï¼šè¸è¸å®å®çš„æ¸²æŸ“ï¼Œä¼šå°†è¢«æµ‹è¯•ç»„ä»¶ä¸­ä½¿ç”¨åˆ°çš„å­å­å­™å­™ç»„ä»¶å®Œå…¨æ¸²æŸ“ã€‚æœ€ç»ˆç»“æœå†…è‚¯å®šä¸å­˜åœ¨è‡ªå®šä¹‰ç»„ä»¶åä½œä¸ºæ ‡ç­¾åï¼ŒåŒ…æ‹¬æ’ä»¶æä¾›çš„V-btnä¹‹ç±»çš„domç»“æ„ï¼Œå…¨éƒ¨ä¸å­˜åœ¨ï¼Œå½»åº•æ¸²æŸ“åˆ°&lt;div&gt;&lt;span&gt;&lt;p&gt;ä¹‹ç±»shallowMountï¼šæµ…æ¸²æŸ“ï¼Œä¸mountç›¸åï¼Œæ—¢ä¸ä¼šæ¸²æŸ“å­ç»„ä»¶ï¼Œæ›´ä¸ç”¨æå­™å­è¾ˆçš„ç»„ä»¶ï¼Œä»…é™æµ‹è¯•ç»„ä»¶æœ¬èº«ã€‚å­ç»„ä»¶ä¼šåŸåŸæœ¬æœ¬çš„æ˜¾ç¤ºå­ç»„ä»¶çš„å­˜æ ¹ï¼Œå½“ä½¿ç”¨stubsçš„æ—¶å€™ï¼Œå­ç»„ä»¶å­˜æ ¹æ˜¯å¯ä»¥è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹çš„ï¼Œå¦‚æœæœªè‡ªå®šä¹‰ï¼Œå°†ä¼šæ˜¾ç¤ºå­ç»„ä»¶å-stubçš„æ ‡ç­¾åï¼Œå¦‚&lt;my-componet-stub&gt;&lt;&#x2F;my-componet-stub&gt;</code></pre><p><code>åœºæ™¯</code>ï¼š</p><pre class="language-none"><code class="language-none">mountï¼šå¤šæ•°æƒ…å†µå‡ºç°åœ¨snapshotä¸­ä½¿ç”¨ï¼Œè€Œä¸”ä¹Ÿåªæ˜¯éƒ¨åˆ†snapshotä¸­å¿…é¡»ä½¿ç”¨mountã€‚ä¸‹é¢å°†è¯´æ˜ä½•ç§æƒ…å†µï¼šå½“è¢«æµ‹è¯•ç»„ä»¶å†…åŒ…å«å­ç»„ä»¶ï¼Œä¸”å­ç»„ä»¶çš„domç»“æ„é€šè¿‡slotåœ¨è¢«æµ‹è¯•ç»„ä»¶å†…å®šä¹‰çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨mountæ¥æµ‹è¯•snapshotã€‚hallowMountï¼šæ‰€æœ‰å¿…é¡»ä½¿ç”¨mountçš„æƒ…å†µä»¥å¤–éƒ½ä½¿ç”¨shallowMountï¼Œä½¿ç”¨mountå°†æ›´å¤§çš„æ¶ˆè€—æ—¶é—´å’Œæ€§èƒ½ï¼Œ----&gt; å®é™…ä¸Šæ‰€æœ‰æµ‹è¯•éƒ½å¯ä»¥ä¸ä½¿ç”¨mountï¼Œä½†æ˜¯é‰´äºæµ‹è¯•çš„å¤æ‚æ€§ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°ç”¨shallowMountæ€ä¹ˆä¹ŸæŠ¥é”™çš„æƒ…å†µï¼Œä½†æ˜¯æ”¹æˆmountå°±èƒ½æµ‹è¯•é€šè¿‡</code></pre><p><code>åŸºæœ¬å‡†åˆ™ï¼šæ‰€æœ‰ä½¿ç”¨ shallowMount çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨ mount æ›¿æ¢ï¼Œä½†æ˜¯ä½†å‡¡èƒ½ä½¿ç”¨ shallowMount çš„åœ°æ–¹åšå†³ä¸ç”¨ mountï¼›</code></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javascript ä½œç”¨åŸŸç†è§£</title>
      <link href="/notes/javascript-scope/"/>
      <url>/notes/javascript-scope/</url>
      
        <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ</h3><p>åŸŸï¼šèŒƒå›´ã€åŒºåŸŸ</p><p>ä½œç”¨åŸŸï¼šå˜é‡èµ·ä½œç”¨çš„ä¸€ä¸ªåŸŸ â€“&gt; å˜é‡èµ·ä½œç”¨çš„ä¸€ä¸ªèŒƒå›´</p><p>é‚£ä¹ˆï¼Œåœ¨<code>js</code>ä¸­çš„ä½œç”¨åŸŸåˆæ˜¯æ€ä¹ˆè®¾å®šçš„å‘¢ï¼Ÿç›´æ¥å†™åœ¨<code>script</code>è„šæœ¬çš„æœ€å¤–å±‚å’Œå†™åœ¨å‡½æ•°ä½“å†…åˆæœ‰å•¥ä¸åŒï¼Ÿ</p><span id="more"></span><h3 id="ä½œç”¨åŸŸåˆ†ç±»"><a href="#ä½œç”¨åŸŸåˆ†ç±»" class="headerlink" title="ä½œç”¨åŸŸåˆ†ç±»"></a>ä½œç”¨åŸŸåˆ†ç±»</h3><p>åœ¨<code>es5 å³ ECMAscript5</code>æ ¹æ®èŒƒå›´çš„ä¸åŒï¼Œä½œç”¨åŸŸåˆ†ä¸ºäº†<strong>å…¨å±€ä½œç”¨åŸŸ</strong>å’Œ<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>ã€‚<strong>è¿™ä¸ªæ ‡å‡†ä¸­åªæœ‰å‡½æ•°æ‹¥æœ‰å±€éƒ¨ä½œç”¨åŸŸã€‚</strong></p><p>åœ¨<code>es6 ä¸­æ–°å¢äº†å—ä½œç”¨åŸŸã€‚</code></p><h4 id="å…¨å±€ä½œç”¨åŸŸ"><a href="#å…¨å±€ä½œç”¨åŸŸ" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸ"></a>å…¨å±€ä½œç”¨åŸŸ</h4><p>åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹å£°æ˜çš„å˜é‡å°±æ˜¯å…¨å±€å˜é‡ã€‚è€Œ<strong>å…¨å±€ä½œç”¨åŸŸæ˜¯å”¯ä¸€çš„ï¼Œåªæœ‰ä¸€ä¸ª</strong>ã€‚</p><p>ä½ å¯ä»¥ç†è§£ä¸ºï¼š <code>&lt;script&gt;</code>æ ‡ç­¾ä¸‹çš„æœ€å¤–å±‚å˜é‡æˆ–è€…å‡½æ•°ã€ä»¥åŠ<strong>æ‰€æœ‰èƒ½å¤Ÿåœ¨<code>js</code>ä»£ç çš„ä»»ä½•åœ°æ–¹èƒ½å¤Ÿè®¿é—®çš„å¯¹è±¡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸã€‚</strong>ï¼Œé‚£ä¹ˆä¸éš¾å¾—çŸ¥ï¼š**<code>window</code>å¯¹è±¡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸã€‚**</p><p>ä¾‹å¦‚ä»£ç ï¼š</p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'test'</span><span class="token punctuation">;</span>  <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    c <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">var</span> <span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>åœ¨è¿™ä¸ªä»£ç ç‰‡æ®µä¸­ï¼Œå˜é‡<code>a</code>ã€å‡½æ•°<code>fn1ï¼Œd</code>ã€å±æ€§<code>cï¼ˆä¸ºä»€ä¹ˆæ˜¯å±æ€§ï¼Ÿï¼‰</code>ï¼Œå‡èƒ½å¤Ÿåœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹è¿›è¡Œè®¿é—®ï¼ˆä¹Ÿæ˜¯â€˜æ‰€è°“çš„â€™å¤„åœ¨æœ€å¤–å±‚ï¼‰ï¼Œéƒ½å¤„åœ¨åŒä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸä¸­ã€‚<code>fn1 ä¸­çš„ c ä¼šä¸æ–­å‘ä¸Šå¯»å€ï¼Œç›´åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œå¦‚æœæ²¡æœ‰ä»»ä½• var å£°æ˜ï¼Œé‚£ä¹ˆå®ƒçš„èµ‹å€¼åˆ™ä¼šè¢«å½“åšæ˜¯ window çš„å¤–æŒ‚å±æ€§è¿›è¡Œè®¾ç½®å¹¶èµ‹å€¼ï¼Œè®©ä½¿ç”¨è€…äº§ç”Ÿäº†ä¸€ç§ä¸ç”¨å£°æ˜çš„å‡è±¡ã€‚</code></p><h4 id="å±€éƒ¨ä½œç”¨åŸŸï¼ˆç§æœ‰ä½œç”¨åŸŸï¼‰"><a href="#å±€éƒ¨ä½œç”¨åŸŸï¼ˆç§æœ‰ä½œç”¨åŸŸï¼‰" class="headerlink" title="å±€éƒ¨ä½œç”¨åŸŸï¼ˆç§æœ‰ä½œç”¨åŸŸï¼‰"></a>å±€éƒ¨ä½œç”¨åŸŸï¼ˆç§æœ‰ä½œç”¨åŸŸï¼‰</h4><p><code>es5</code>æ ‡å‡†ä¸­ï¼Œåªæœ‰å‡½æ•°æœ‰ç§æœ‰ä½œç”¨åŸŸã€‚åœ¨å‡½æ•°ä½“å†…å®šä¹‰çš„ä¸€åˆ‡å˜é‡å’Œå‡½æ•°ï¼Œå½±å“èŒƒå›´å’Œå¯è®¿é—®èŒƒå›´ä»…åœ¨å‡½æ•°ä½“å†…ï¼Œå¦‚ä¸Šé¢ä»£ç ç‰‡æ®µä¸­çš„å˜é‡<code>b å’Œ f</code>ã€‚</p><blockquote><p><strong>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç§æœ‰ä½œç”¨åŸŸã€‚</strong></p></blockquote><h4 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a><strong>å—çº§ä½œç”¨åŸŸ</strong></h4><h5 id="why"><a href="#why" class="headerlink" title="why?"></a><strong>why?</strong></h5><p>è¿™ä¸ªæ˜¯<code>es6</code>æå‡ºçš„æ¦‚å¿µï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆéœ€è¦å—ä½œç”¨åŸŸï¼Ÿ</p><blockquote><p>å—ä½œç”¨åŸŸçš„å‡ºç°ï¼Œé¿å…äº†å†…å­˜æ³„æ¼ï¼Œä¾‹å¦‚ä¸‹é¢ä»£ç ï¼šç”¨æ¥è®¡æ•°çš„å¾ªç¯å˜é‡æ³„éœ²ä¸ºå…¨å±€å˜é‡</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ...</span><span class="token punctuation">&#125;</span></code></pre><blockquote><p>é¢„è§£æå¯¼è‡´çš„è¯¯åˆ¤ï¼Œè¯¯åˆ¤å¤–å±‚å˜é‡è¢«è¦†ç›–ã€‚<del>ï¼ˆè¿™ä¸ªé—®é¢˜æˆ‘è®¤ä¸ºå½±å“è¿˜æ²¡é‚£ä¹ˆå¤§ï¼Œæ¯•ç«Ÿåªè¦å†™çš„å¤Ÿè§„èŒƒï¼Œå°±ä¸å­˜åœ¨ï¼‰</del></p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  i <span class="token operator">*=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å¤§å®¶å¯ä»¥çŒœä¸€ä¸‹ç»“æœï¼Œæˆ‘å…ˆè¯´é”™è¯¯ç­”æ¡ˆï¼š<del><code>10, 20</code></del>ï¼Œç›¸ä¿¡æœ‰ä¸€éƒ¨åˆ†åŒå¿—å·²ç»ç»•è¿›å»äº†ã€‚</p><p>å…¶å®ç»†çœ‹ï¼Œåœ¨ä»£ç è¿è¡Œåˆ°<code>fn()</code>æ—¶ï¼Œå¼€å§‹å¯¹<code>fn</code>å‡½æ•°ä½“è¿›è¡Œé¢„è§£æï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿå¯ä»¥ç†è§£ä¸ºâ€˜å˜é‡æå‡â€™ï¼Œç„¶åå†å¼€å§‹æ‰§è¡Œå‡½æ•°ä½“ä»£ç ï¼Œæ­¤æ—¶çš„<code>i *= 10</code>å…¶å®æ˜¯å¯¹å±€éƒ¨å˜é‡çš„èµ‹å€¼æ“ä½œã€‚è¯´åˆ°è¿™å°±ä¸éš¾å‘ç°ï¼Œæ­¤æ—¶çš„å…¨å±€å˜é‡<code>i</code>å€¼ä¸º<code>1</code>ã€‚</p><h5 id="å®šä¹‰å’Œè§„èŒƒ"><a href="#å®šä¹‰å’Œè§„èŒƒ" class="headerlink" title="å®šä¹‰å’Œè§„èŒƒ"></a>å®šä¹‰å’Œè§„èŒƒ</h5><p>ä»»ä½•<code>&#123;&#125;</code>åŒ…è£¹çš„ä»£ç éƒ½å¯ä»¥ç§°ä¹‹ä¸ºå—ï¼Œè€ŒåŒ…è£¹åœ¨å†…çš„å˜é‡éƒ½ä¼šå—å—ä½œç”¨åŸŸçš„å½±å“ã€‚è€Œè®©è¿™ä¸ªå—ä½œç”¨åŸŸç”Ÿæ•ˆçš„ï¼Œæ­£æ˜¯<code>let å’Œ const</code>ã€‚</p><p>é€šè¿‡<code>let</code>å’Œ<code>const</code>å£°æ˜çš„å˜é‡ï¼Œæ— æ³•åœ¨å—çš„å¤–éƒ¨è®¿é—®ã€‚è€Œä¸¤è€…çš„åŒºåˆ«ï¼Œå°±æ˜¯<code>let</code>çš„å€¼å¯ä»¥è¢«ä¿®æ”¹ï¼Œ<code>const</code>å®šä¹‰çš„æ˜¯å¸¸é‡ï¼Œæ— æ³•è¢«ä¿®æ”¹ã€‚</p><p>ä¸<code>var</code>çš„åŒºåˆ«ï¼š</p><blockquote><p><strong>let å’Œ const å£°æ˜çš„å˜é‡ï¼Œä¸ä¼šè¢«æå‰é¢„è§£æï¼Œæ²¡æœ‰æ‰€è°“çš„å˜é‡æå‡ç‰¹æ€§ï¼Œè€Œæ˜¯â€˜æš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal dead zoneï¼‰â€™ç‰¹æ€§</strong>ã€‚</p></blockquote><blockquote><p><strong>let å’Œ const å£°æ˜çš„å˜é‡ï¼Œä»…åœ¨â€˜å—ä½œç”¨åŸŸâ€™ä¸­ç”Ÿæ•ˆã€‚</strong></p></blockquote><h3 id="ä½œç”¨åŸŸå˜é‡çš„è®¿é—®è§„åˆ™ï¼ˆå˜é‡æå‡ï¼‰"><a href="#ä½œç”¨åŸŸå˜é‡çš„è®¿é—®è§„åˆ™ï¼ˆå˜é‡æå‡ï¼‰" class="headerlink" title="ä½œç”¨åŸŸå˜é‡çš„è®¿é—®è§„åˆ™ï¼ˆå˜é‡æå‡ï¼‰"></a>ä½œç”¨åŸŸå˜é‡çš„è®¿é—®è§„åˆ™ï¼ˆ<strong>å˜é‡æå‡</strong>ï¼‰</h3><blockquote><p>è¦ä½¿ç”¨æŸä¸ªå˜é‡ï¼Œä¼šå…ˆåœ¨è‡ªå·±çš„ä½œç”¨åŸŸé‡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œé‚£å°±ç›´æ¥ä½¿ç”¨ï¼ˆ<strong>å¦‚æœä½¿ç”¨è¿™ä¸ªå˜é‡çš„è¯­å¥åœ¨å£°æ˜å®ƒä¹‹å‰ï¼Œé‚£ä¹ˆæ­¤æ—¶ä½¿ç”¨çš„è¿™ä¸ªå˜é‡å€¼ä¸º undefinedï¼ŒåŒæ—¶åº”è¯¥æ³¨æ„ï¼šåªæœ‰ var å£°æ˜çš„å˜é‡å…è®¸åœ¨å£°æ˜å‰è®¿é—®</strong>ï¼‰ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±å¾€ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œå°±ç›´æ¥æ‹¿æ¥ç”¨ï¼Œå¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œå†ç»§ç»­â€¦ å¾€ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œç›´åˆ°å…¨å±€ä½œç”¨åŸŸã€‚ å¦‚æœæœ€ç»ˆæ‰¾åˆ°ï¼Œé‚£å°±ç›´æ¥ç”¨ï¼Œæ‰¾ä¸åˆ°é‚£å°±æŠ¥é”™ xxx is not defined.</p></blockquote><blockquote><p>å˜é‡æŸ¥æ‰¾ï¼Œåªèƒ½å¾€ä¸ŠæŸ¥æ‰¾ï¼Œä¸èƒ½å¾€ä¸‹ã€‚</p></blockquote><p>æ€»ç»“å°±æ˜¯ï¼š<strong>å…¨å±€ä¸èƒ½è®¿é—®å±€éƒ¨ï¼Œå±€éƒ¨å¯ä»¥æ‹¿åˆ°å…¨å±€ã€‚</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>  m <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span><span class="token punctuation">&#125;</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>n</code>ä¼šä¼˜å…ˆä»å±€éƒ¨å˜é‡è¯»å–ï¼Œ<code>m</code>å±€éƒ¨æ²¡æœ‰å£°æ˜ï¼Œå‘ä¸Šå¯»å€ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­æ‰¾åˆ°ã€‚</p><h3 id="ä½œç”¨åŸŸå˜é‡çš„èµ‹å€¼è§„åˆ™"><a href="#ä½œç”¨åŸŸå˜é‡çš„èµ‹å€¼è§„åˆ™" class="headerlink" title="ä½œç”¨åŸŸå˜é‡çš„èµ‹å€¼è§„åˆ™"></a>ä½œç”¨åŸŸå˜é‡çš„èµ‹å€¼è§„åˆ™</h3><p>æ³¨æ„ï¼š<strong>èµ‹å€¼çš„è¿™ä¸ªå˜é‡çš„å¯»å€è¿‡ç¨‹éœ€è¦éµå¾ªä½œç”¨åŸŸå˜é‡çš„è®¿é—®è§„åˆ™</strong>ã€‚</p><blockquote><p>å¦‚æœè‡ªå·±çš„ä½œç”¨åŸŸï¼Œæœ‰è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆç›´æ¥ç»™è‡ªå·±ä½œç”¨åŸŸçš„è¿™ä¸ªå˜é‡èµ‹å€¼ã€‚</p></blockquote><blockquote><p>å¦‚æœè‡ªå·±çš„ä½œç”¨åŸŸæ²¡æœ‰è¿™ä¸ªå˜é‡ï¼Œé‚£å°±å¾€ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œé‚£å°±èµ‹å€¼ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ç»§ç»­å¾€ä¸Šä¸€çº§æŸ¥æ‰¾â€¦ç›´åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œå¦‚æœæ‰¾åˆ°ï¼Œé‚£å°±èµ‹å€¼ï¼Œæ‰¾ä¸åˆ°å°±ä¼šè¢«å½“åšæ˜¯ window çš„ä¸€ä¸ªå±æ€§ï¼Œå¹¶è¿›è¡Œèµ‹å€¼ã€‚</p></blockquote><p><strong>æ³¨æ„è¿™ä¸ªå¯»æ‰¾çš„è¿‡ç¨‹ï¼Œåªæœ‰ var å˜é‡å…è®¸åœ¨å£°æ˜ä¹‹å‰èµ‹å€¼ï¼Œlet ä¸å…è®¸ã€‚</strong></p><h3 id="ä½œç”¨åŸŸå˜é‡çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#ä½œç”¨åŸŸå˜é‡çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ä½œç”¨åŸŸå˜é‡çš„ç”Ÿå‘½å‘¨æœŸ"></a>ä½œç”¨åŸŸå˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</h3><p><code>å°±æ˜¯ä½œç”¨åŸŸå˜é‡åœ¨å†…å­˜ä¹‹ä¸­å­˜æ´»çš„æ—¶é—´ã€‚</code></p><blockquote><p>å…¨å±€å˜é‡ï¼šç”Ÿå‘½å‘¨æœŸæ˜¯å’Œç¨‹åºåŒæ­¥çš„ï¼Œ ç¨‹åºä¸å…³é—­ï¼Œå˜é‡å°±ä¸€ç›´å­˜åœ¨ã€‚</p></blockquote><blockquote><p>å±€éƒ¨å˜é‡ï¼šç”Ÿå‘½å‘¨æœŸæ˜¯å’Œå‡½æ•°æ‰§è¡ŒåŒæ­¥çš„ï¼Œå‡½æ•°æ‰§è¡Œç»“æŸå˜é‡å°±è¢«åˆ é™¤äº†ã€‚</p></blockquote><blockquote><p>å—ä½œç”¨åŸŸå˜é‡ï¼šä»…å­˜æ´»ä¸å—ä»£ç æ‰§è¡Œæ—¶ï¼Œæ‰§è¡Œç»“æŸå†…å­˜å°±ä¼šé‡Šæ”¾ã€‚</p></blockquote><p>ç»¼ä¸Šï¼Œå…¨å±€å˜é‡çš„å¤§é‡ä½¿ç”¨ä¼šå¯¼è‡´ç¨‹åºå˜å¾—æ›´é‡ã€‚å¦‚æœä»£ç é€»è¾‘å†™çš„ä¸å¤Ÿä¸¥è°¨ï¼Œå¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼å—ï¼ˆä¾‹å¦‚ï¼šä¸å£°æ˜å˜é‡ç›´æ¥èµ‹å€¼ï¼Œä¼šæŒ‚è½½åˆ° window å¯¹è±¡ï¼‰ï¼Œå½±å“åˆ°æˆ‘ä»¬ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚<del>å¦‚æœå¯èƒ½ï¼Œè¿˜æ˜¯å°‘è®¾è®¡ä¸€ç‚¹å…¨å±€å˜é‡å§ï¼å¯¹å¤§å®¶éƒ½å¥½â€¦hh</del></p><blockquote><p>å»ºè®®ï¼šä»»ä½•ä¸€ä¸ªç‹¬ç«‹çš„ script æ ‡ç­¾ä¸‹çš„ä»£ç ï¼Œéƒ½åº”ç”¨åŒ¿åå‡½æ•°åŒ…è£¹ï¼Œå¹¶è‡ªè°ƒç”¨ã€‚é¿å…æ±¡æŸ“å…¨å±€ï¼Œå¹¶é€ æˆå…¶ä»–æœªçŸ¥çš„ç¨‹åºé”™è¯¯ã€‚</p></blockquote><p>ä¾‹å¦‚ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æˆ–è€…ï¼šè¿™æ˜¯è‡ªè°ƒç”¨çš„å‡ ç§å†™æ³•ï¼Œæ¨èç”¨ä¸Šé¢é‚£ç§ï¼Œä¸‹é¢çš„ä»…åšäº†è§£</span><span class="token operator">~</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token operator">!</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> ä½œç”¨åŸŸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è½¬] 2021é«˜é¢‘å‰ç«¯é¢è¯•é¢˜æ±‡æ€»ä¹‹JavaScriptç¯‡</title>
      <link href="/posts/interview-javascript/"/>
      <url>/posts/interview-javascript/</url>
      
        <content type="html"><![CDATA[<p><a href="https://juejin.cn/post/6940945178899251230"><img src="/images/posts/interview-javascript/p1.png" alt="&#39;interview-javascript-p1&#39;" loading="lazy"></a></p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ”¶è—å®‰åˆ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>viã€vimç¼–è¾‘å™¨å­¦ä¹ </title>
      <link href="/share/vi-vim/"/>
      <url>/share/vi-vim/</url>
      
        <content type="html"><![CDATA[<h3 id="Why-study"><a href="#Why-study" class="headerlink" title="Why study?"></a>Why study?</h3><p>åœ¨<code>linux</code>ç³»ç»Ÿä¸­ï¼Œå¦‚æœéœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ç¼–è¾‘ï¼Œä¸€èˆ¬å¯ä»¥ä½¿ç”¨<code>vi/vim</code>ç¼–è¾‘å™¨ã€‚<code>vim</code>æ˜¯<code>vi</code>çš„å‡çº§ç‰ˆæœ¬ï¼Œæ‰€ä»¥åŒæ ·å…¼å®¹<code>vi</code>çš„æ‰€æœ‰æŒ‡ä»¤ï¼Œå®ƒä»¬éƒ½æ˜¯å¤šæ¨¡å¼ç¼–è¾‘å™¨ã€‚</p><p><code>git-bash</code>å·¥å…·åœ¨<code>windows</code>ä¸­å®ç°äº†è¯¥åŠŸèƒ½ï¼Œå› æ­¤å¯ä»¥ç›´æ¥åœ¨<code>git-bash</code>ä¸­ä½¿ç”¨<code>vi/vim</code>ã€‚</p><p><del>ä¸€æ¬¡å¶ç„¶çš„éœ€æ±‚ï¼Œåœ¨<code>rancher</code>ç®¡ç†å¹³å°é‡Œå¯¹æ­£åœ¨è¿è¡Œçš„å®¹å™¨æ—¥å¿—åœ¨çº¿ä¿®æ”¹ï¼Œé¢†å¯¼éšå£æäº†ä¸€å¥ç”¨<code>vi</code>ï¼Œå½“æ—¶çš„æˆ‘å¾ˆæ‡µé€¼ï¼Œä¹Ÿå¾ˆå°´å°¬ã€‚ğŸ™„ğŸ¤¥ğŸ˜Œ ç„¶åå°±æŸ¥é˜…äº†ç›¸å…³èµ„æ–™ï¼Œè‡ªå·±åŠ¨æ‰‹æ•²äº†è¯•äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰è¿˜æ˜¯æœ‰å¿…è¦å­¦ä¹ ä¸€ä¸‹ã€‚</del></p><span id="more"></span><h3 id="vi-vimæ¨¡å¼ä»‹ç»"><a href="#vi-vimæ¨¡å¼ä»‹ç»" class="headerlink" title="vi/vimæ¨¡å¼ä»‹ç»"></a><code>vi/vim</code>æ¨¡å¼ä»‹ç»</h3><p><code>vi</code>ç¼–è¾‘å™¨æœ‰ä¸¤ç§æ“ä½œæ¨¡å¼ï¼š</p><blockquote><p><strong>å‘½ä»¤æ¨¡å¼</strong>ï¼šè¾“å…¥çš„æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯å¯¹æ­£åœ¨ç¼–è¾‘çš„æ–‡æœ¬æ–‡ä»¶æ‰§è¡ŒæŸäº›æ“ä½œçš„å‘½ä»¤ã€‚<strong>éƒ¨åˆ†æŒ‰é”®æŒ‰ä¸‹ä¼šåˆ‡æ¢å‘½ä»¤æ¨¡å¼è‡³æ’å…¥æ¨¡å¼</strong>ï¼Œåé¢è¯¦ç»†ä»‹ç»ã€‚</p></blockquote><blockquote><p><strong>æ’å…¥æ¨¡å¼</strong>ï¼šè¾“å…¥çš„æ¯ä¸ªå­—ç¬¦éƒ½ä¼šæ·»åŠ åˆ°æ–‡ä»¶ä¸­çš„æ–‡æœ¬ä¸­ã€‚<strong>æŒ‰&lt;Esc&gt; ( Escape ) é”®å…³é—­æ’å…¥æ¨¡å¼ï¼ŒåŒæ—¶å…‰æ ‡ä¼šå‘å‰ç§»ä¸€ä½</strong>ã€‚</p></blockquote><p><strong><code>æ³¨æ„ï¼šUNIX å’Œviéƒ½åŒºåˆ†å¤§å°å†™ã€‚ç¡®ä¿ä¸è¦ä½¿ç”¨å¤§å†™å­—æ¯ä»£æ›¿å°å†™å­—æ¯ï¼›å¦åˆ™ç»“æœå¯èƒ½ä¸ä¼šæ˜¯ä½ æ‰€æœŸæœ›çš„ã€‚</code></strong></p><hr><h3 id="ç¼–è¾‘å™¨çš„å¯åŠ¨å’Œå…³é—­"><a href="#ç¼–è¾‘å™¨çš„å¯åŠ¨å’Œå…³é—­" class="headerlink" title="ç¼–è¾‘å™¨çš„å¯åŠ¨å’Œå…³é—­"></a>ç¼–è¾‘å™¨çš„å¯åŠ¨å’Œå…³é—­</h3><h4 id="å¯åŠ¨vi-vimç¼–è¾‘å™¨ï¼ˆè¿›å…¥viï¼‰"><a href="#å¯åŠ¨vi-vimç¼–è¾‘å™¨ï¼ˆè¿›å…¥viï¼‰" class="headerlink" title="å¯åŠ¨vi/vimç¼–è¾‘å™¨ï¼ˆè¿›å…¥viï¼‰"></a>å¯åŠ¨<code>vi/vim</code>ç¼–è¾‘å™¨ï¼ˆè¿›å…¥<code>vi</code>ï¼‰</h4><blockquote><p>vi æ–‡ä»¶å. ï¼ˆè¯´æ˜ï¼šå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå¦‚æœå‚æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæ–°å»ºè¯¥æ–‡ä»¶ã€‚ä¸æ˜¯ç«‹å³åˆ›å»ºï¼Œè€Œæ˜¯åœ¨ä¿å­˜çš„æ—¶å€™åˆ›å»ºï¼‰</p></blockquote><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœåœ¨<code>vi</code>ç¼–è¾‘è¿‡ç¨‹ä¸­é‡åˆ°ä¸å¯é€†çš„æ“ä½œå¯¼è‡´å¼ºåˆ¶é€€å‡ºçš„æƒ…å†µï¼Œç›´æ¥è¾“å…¥ä¸Šé¢å‘½ä»¤ä¼šæŠ›å¼‚å¸¸ã€‚å½“ç„¶å¯ä»¥åœ¨æŠ›å¼‚å¸¸åæ ¹æ®æç¤ºè¾“å…¥<code>r</code>æ¢å¤ï¼›ä¹Ÿå¯ä»¥ç›´æ¥åœ¨<code>vi</code>å¯åŠ¨çš„æ—¶å€™æ·»åŠ <code>-r</code>å‚æ•°é¿å…è¿™ä¸ªå¼‚å¸¸æç¤ºã€‚</p><blockquote><p>vi -r æ–‡ä»¶å</p></blockquote><p>è¿›å…¥è¿‡åï¼Œé»˜è®¤æ˜¯æ’å…¥æ¨¡å¼ï¼Œå¯ä»¥å¯¹æ–‡ä»¶å†…å®¹åšä»»æ„ä¿®æ”¹ã€‚</p><h4 id="å…³é—­vi-vimç¼–è¾‘å™¨"><a href="#å…³é—­vi-vimç¼–è¾‘å™¨" class="headerlink" title="å…³é—­vi/vimç¼–è¾‘å™¨"></a>å…³é—­<code>vi/vim</code>ç¼–è¾‘å™¨</h4><p>é€šå¸¸åœ¨ä½ æƒ³ç¦»å¼€<code>vi</code>ç•Œé¢ï¼Œå¹¶ä¸”ä¿å­˜ä½ æ‰€ä¿®æ”¹çš„å†…å®¹çš„æ—¶å€™ä½¿ç”¨ã€‚æˆ–è€…ä¸ä¿å­˜ç›´æ¥é€€å‡ºã€‚</p><blockquote><p><strong>åªè¦é”®å…¥å†’å·(:)ï¼Œå…‰æ ‡å°±ä¼šç§»åŠ¨åˆ°åº•éƒ¨å‘½ä»¤è¡Œ</strong>ã€‚</p></blockquote><blockquote><p>è¾“å…¥ <strong>:wq æˆ–è€… :x</strong> å›è½¦å³å¯å®Œæˆä¿å­˜å¹¶é€€å‡ºï¼›</p></blockquote><blockquote><p>è¾“å…¥ <strong>:q! æˆ–è€… :q</strong> å›è½¦å³å¯ä¸ä¿å­˜ç›´æ¥é€€å‡ºï¼›</p></blockquote><hr><h3 id="ç¼–è¾‘å™¨ä¸­çš„å…‰æ ‡ç§»åŠ¨"><a href="#ç¼–è¾‘å™¨ä¸­çš„å…‰æ ‡ç§»åŠ¨" class="headerlink" title="ç¼–è¾‘å™¨ä¸­çš„å…‰æ ‡ç§»åŠ¨"></a>ç¼–è¾‘å™¨ä¸­çš„å…‰æ ‡ç§»åŠ¨</h3><p>ä¸å…¶ä»–ç¼–è¾‘å™¨ä¸åŒçš„æ˜¯ï¼Œé¼ æ ‡æ— æ³•åœ¨<code>vi</code>æ“ä½œç•Œé¢ç§»åŠ¨æˆ–è€…æŒ‡å®šå…‰æ ‡çš„ä½ç½®ï¼Œåªèƒ½é€šè¿‡é”®ç›˜å®Œæˆè¿™ä¸ªæ“ä½œã€‚</p><p>åœ¨æŸäº›å¹³å°ä¸Šï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æ–¹å‘ï¼ˆç®­å¤´ï¼‰é”®ï¼Œä½†æ˜¯éƒ¨åˆ†ä¸åŒ…æ‹¬ç®­å¤´é”®çš„é”®ç›˜åˆè¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ<code>vi</code>ä¹Ÿæ˜¯è€ƒè™‘è¿‡è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡å­—æ¯é”®æ¥ç§»åŠ¨ã€‚</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼šæ–¹å‘é”®åœ¨ä¸¤ç§æ¨¡å¼ä¸‹å‡å¯ä½¿ç”¨ï¼Œè€Œ<strong>ä»£æ›¿é”®ä»…å¯åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨</strong>ã€‚ï¼ˆé¿å…ä¸æ’å…¥æ¨¡å¼ä¸‹è¾“å…¥çš„å­—ç¬¦å†²çªï¼‰</p><blockquote><p>å·¦ï¼šh æˆ–è€… â† é”®ï¼Œå°†å…‰æ ‡å·¦ç§»ä¸€ä¸ªå­—ç¬¦ã€‚</p></blockquote><blockquote><p>å³ï¼šl æˆ–è€… â†’ é”®ï¼Œå°†å…‰æ ‡åˆä»¥ä¸€ä¸ªå­—ç¬¦ã€‚</p></blockquote><blockquote><p>ä¸Šï¼šk æˆ–è€… â†‘ é”®ï¼Œå°†å…‰æ ‡ä¸Šç§»ä¸€è¡Œã€‚</p></blockquote><blockquote><p>ä¸‹ï¼šj æˆ–è€… â†“ é”®ï¼Œå°†å…‰æ ‡ä¸‹ç§»ä¸€è¡Œã€‚</p></blockquote><blockquote><p>è·³è½¬åˆ°é¦–è¡Œï¼šgg æˆ–è€… :0 æˆ–è€… :1 é”®</p></blockquote><blockquote><p>è·³è½¬åˆ°æœ€åä¸€è¡Œï¼šG é”®</p></blockquote><blockquote><p>è·³è½¬è‡³ n è¡Œï¼šè¾“å…¥ :n å›è½¦ï¼Œè¿™é‡Œ n ä»£è¡¨æ•°å­—ã€‚</p></blockquote><blockquote><p>è·³è½¬è‡³å½“å‰è¡Œè¡Œå¤´ï¼š0 æˆ–è€… ^ é”®ã€‚</p></blockquote><blockquote><p>è·³è½¬åˆ°å½“å‰è¡Œè¡Œå°¾ï¼š$ é”®ã€‚</p></blockquote><blockquote><p>è·³è½¬åˆ°ä¸Šä¸ªå•è¯çš„å¼€å¤´ï¼šb é”®ã€‚</p></blockquote><blockquote><p>è·³è½¬åˆ°ä¸‹ä¸ªå•è¯çš„å¼€å¤´ï¼šw é”®ã€‚</p></blockquote><p><strong><code>æ³¨æ„ï¼šæ–¹å‘é”®ï¼ˆå·¦å³ï¼‰åªèƒ½åœ¨å½“å‰è¡Œçš„å¯ç¼–è¾‘åŒºåŸŸè¿›è¡Œç§»åŠ¨ï¼Œä¸ä¼šè·¨è¡Œè¾¹ç•Œ</code></strong></p><hr><h3 id="å±å¹•æ“ä½œ"><a href="#å±å¹•æ“ä½œ" class="headerlink" title="å±å¹•æ“ä½œ"></a>å±å¹•æ“ä½œ</h3><p>ä»¥ä¸‹å‘½ä»¤å…è®¸<code>vi</code>ç¼–è¾‘å™¨å±å¹•ï¼ˆæˆ–çª—å£ï¼‰å‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨å‡ è¡Œå¹¶è¿›è¡Œåˆ·æ–°ã€‚</p><blockquote><p>ä¸Šç¿»ä¸€å±ï¼šCtrl + bï¼ˆPageUpï¼‰ã€‚</p></blockquote><blockquote><p>ä¸Šç¿»åŠå±ï¼šCtrl + uã€‚</p></blockquote><blockquote><p>ä¸‹ç¿»ä¸€å±ï¼šCtrl + fï¼ˆPageDownï¼‰ã€‚</p></blockquote><blockquote><p>ä¸‹ç¿»åŠå±ï¼šCtrl + dã€‚</p></blockquote><hr><h3 id="æ’¤é”€ã€åˆ é™¤å’Œå¤åˆ¶ç²˜è´´"><a href="#æ’¤é”€ã€åˆ é™¤å’Œå¤åˆ¶ç²˜è´´" class="headerlink" title="æ’¤é”€ã€åˆ é™¤å’Œå¤åˆ¶ç²˜è´´"></a>æ’¤é”€ã€åˆ é™¤å’Œå¤åˆ¶ç²˜è´´</h3><h4 id="å›é€€ã€æ’¤é”€"><a href="#å›é€€ã€æ’¤é”€" class="headerlink" title="å›é€€ã€æ’¤é”€"></a>å›é€€ã€æ’¤é”€</h4><blockquote><p>Ctrl + u æ’¤æ¶ˆæ‚¨åˆšæ‰æ‰€åšçš„ä¸€åˆ‡ï¼ˆè€Œéä¸€æ­¥æ“ä½œï¼‰ã€‚</p></blockquote><h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><blockquote><p>åˆ é™¤æ•´ä¸ªå½“å‰è¡Œï¼šdd</p></blockquote><blockquote><p>åˆ é™¤å¤šè¡Œï¼šdnd æˆ–è€… nddï¼Œn æŒ‡çš„è¡Œæ•°</p></blockquote><blockquote><p>åˆ é™¤å•ä¸ªå­—ç¬¦ï¼šxï¼Œç±»ä¼¼äº backspace é”®æ•ˆæœ</p></blockquote><blockquote><p>åˆ é™¤å¤šä¸ªå­—ç¬¦ï¼šnxï¼Œn æŒ‡çš„æ•°å­—ï¼Œä»å…‰æ ‡ä½ç½®å¼€å§‹</p></blockquote><h4 id="å¤åˆ¶ç²˜è´´"><a href="#å¤åˆ¶ç²˜è´´" class="headerlink" title="å¤åˆ¶ç²˜è´´"></a>å¤åˆ¶ç²˜è´´</h4><blockquote><p>ç²˜è´´ï¼špï¼Œå°†ç²˜è´´å†…å®¹æ”¾åˆ°å½“å‰è¡Œæ–‡æœ¬ä¹‹åã€‚</p></blockquote><blockquote><p>å¤åˆ¶å½“å‰è¡Œï¼šyy</p></blockquote><blockquote><p>å¤åˆ¶å¤šè¡Œï¼šnyy æˆ–è€… ynyï¼Œn å€¼è¡Œæ•°</p></blockquote><h4 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h4><p><del>åæ­£æˆ‘æ˜¯æ²¡æ€ä¹ˆç”¨è¿‡è¿™ä¸ªä¿®æ”¹æŒ‡ä»¤ï¼Œä¹ æƒ¯ä½¿ç„¶ï¼Œæœ‰è¿™ä¸ªéœ€æ±‚çš„æ—¶å€™æˆ‘éƒ½æ˜¯å…ˆåˆ é™¤å†æ·»åŠ ï¼Œé¿å…å‡ºé”™ ğŸ™ˆğŸ™‰ğŸ™Š</del>è¯¦è§æœ«å°¾<strong>å…¶ä»–æŒ‡ä»¤</strong>ã€‚</p><blockquote><p>å…‰æ ‡ä½ç½®çš„å­—ç¬¦æ›¿æ¢ï¼šr é”® + è¾“å…¥ä½ è¦æ›¿æ¢çš„å­—ç¬¦</p></blockquote><hr><h3 id="æ¨¡å¼åˆ‡æ¢-and-æ’å…¥æ“ä½œ"><a href="#æ¨¡å¼åˆ‡æ¢-and-æ’å…¥æ“ä½œ" class="headerlink" title="æ¨¡å¼åˆ‡æ¢ and æ’å…¥æ“ä½œ"></a>æ¨¡å¼åˆ‡æ¢ and æ’å…¥æ“ä½œ</h3><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œæƒ³è¦è¾“å…¥æ–‡æœ¬å†…å®¹ï¼Œå°±éœ€è¦åˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼ã€‚æ¶‰åŠçš„é”®æœ‰å¥½å‡ ä¸ªï¼Œåˆ†åˆ«æ˜¯<code>a i o s</code>ï¼Œå®ƒä»¬çš„åŒºåˆ«ï¼š</p><blockquote><p>aï¼šåœ¨å…‰æ ‡åè¿½åŠ æ–‡æœ¬ï¼ˆå…‰æ ‡ä¼šå‘åç§»åŠ¨ä¸€ä½ï¼‰</p></blockquote><blockquote><p>iï¼šåœ¨å…‰æ ‡å‰æ’å…¥æ–‡æœ¬ï¼ˆå…‰æ ‡ä½ç½®ä¸ä¼šå˜åŒ–ï¼‰</p></blockquote><blockquote><p>oï¼šæ–°å»ºå¹¶è·³è½¬è‡³å…‰æ ‡è¡Œçš„ä¸‹ä¸€è¡Œ</p></blockquote><blockquote><p>sï¼šåˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶åˆ‡æ¢è‡³æ’å…¥æ¨¡å¼</p></blockquote><h3 id="æ–‡æœ¬æœç´¢"><a href="#æ–‡æœ¬æœç´¢" class="headerlink" title="æ–‡æœ¬æœç´¢"></a>æ–‡æœ¬æœç´¢</h3><p><del>å…‰é€Ÿæ‰“è„¸ï¼Œåˆšè¯´ä¿®æ”¹å­—ç¬¦çš„å‘½ä»¤æ²¡å•¥ç”¨ï¼Œè¿™å°±æ¥äº†</del></p><p>åœºæ™¯ï¼šè¾“å…¥ä½ è¦æœç´¢çš„æ–‡æœ¬ï¼Œæ›¿æ¢ä¸ºä½ æƒ³è¦çš„æ–°å†…å®¹ã€‚</p><blockquote><p>ä»ä¸Šåˆ°ä¸‹æœç´¢ï¼š&#x2F; + ä½ è¦æœç´¢çš„å†…å®¹ + å›è½¦</p></blockquote><blockquote><p>ä»ä¸‹å‘ä¸Šæœç´¢ï¼š? + ä½ è¦æœç´¢çš„å†…å®¹ + å›è½¦ã€‚</p></blockquote><blockquote><p>è·³è½¬è‡³æœç´¢åˆ°çš„ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ï¼šn é”®ï¼Œä¸€ç›´æŒ‰ï¼Œä¸€ç›´å‘ååŒ¹é…</p></blockquote><h3 id="è·å–è¡Œå·"><a href="#è·å–è¡Œå·" class="headerlink" title="è·å–è¡Œå·"></a>è·å–è¡Œå·</h3><blockquote><p>è·å–å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå·ï¼š:.&#x3D; é”®å›è½¦</p></blockquote><blockquote><p>è·å–æ–‡ä»¶æ€»è¡Œæ•°ï¼ˆæœ«å°¾è¡Œå·ï¼‰ï¼š:&#x3D; é”®å›è½¦</p></blockquote><h3 id="å…¶ä»–æŒ‡ä»¤"><a href="#å…¶ä»–æŒ‡ä»¤" class="headerlink" title="å…¶ä»–æŒ‡ä»¤"></a><a href="https://www.cs.colostate.edu/helpdocs/vi.html">å…¶ä»–æŒ‡ä»¤</a></h3>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vi </tag>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>emojiè¡¨æƒ…æ”¶è—åˆ†äº«</title>
      <link href="/posts/emoji-collect/"/>
      <url>/posts/emoji-collect/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ”¶é›†ä¸€äº›å¸¸ç”¨çš„ emojiï¼Œç”¨ä»–ä»¬æ¥è¡¨è¾¾è‡ªå·±çš„æƒ…ç»ª ğŸ˜‚ã€‚Emoji è™½ç„¶æ˜¯æ–‡å­—ï¼Œä½†æ˜¯æ— æ³•ä¹¦å†™ï¼Œå¿…é¡»ä½¿ç”¨å…¶ä»–æ–¹æ³•æ’å…¥æ–‡æ¡£ ï¼Œæ¯”å¦‚ CTRL C + CTRL Vï¼Œæ­¤å¤–ä¹Ÿå¯ä»¥é€šè¿‡å¿«æ·é”®çš„æ–¹å¼æ’å…¥ï¼Œæ¯”å¦‚ windows ä¸‹çš„ win + ã€‚</p></blockquote><span id="more"></span><h3 id="äººè„¸æƒ…æ„Ÿç±»"><a href="#äººè„¸æƒ…æ„Ÿç±»" class="headerlink" title="äººè„¸æƒ…æ„Ÿç±»"></a>äººè„¸æƒ…æ„Ÿç±»</h3><hr><p>ğŸ˜€ğŸ˜ƒğŸ˜„ğŸ˜ğŸ˜†ğŸ˜…ğŸ¤£ğŸ˜‚ğŸ™‚ğŸ™ƒğŸ˜‰ğŸ˜ŠğŸ˜‡ğŸ¥°ğŸ˜ğŸ¤©ğŸ˜˜ğŸ˜—ğŸ˜šğŸ˜™ğŸ˜‹ğŸ˜›ğŸ˜œğŸ¤ªğŸ˜ğŸ¤‘ğŸ¤—ğŸ¤­ğŸ¤«ğŸ¤”ğŸ¤ğŸ¤¨ğŸ˜ğŸ˜‘ğŸ˜¶ğŸ˜ğŸ˜’ğŸ™„ğŸ˜¬ğŸ¤¥ğŸ˜ŒğŸ˜”ğŸ˜ªğŸ¤¤ğŸ˜´ğŸ˜·ğŸ¤’ğŸ¤•ğŸ¤¢ğŸ¤®ğŸ¤§ğŸ¥µğŸ¥¶ğŸ¥´ğŸ˜µğŸ¤¯ğŸ¤ ğŸ¥³ğŸ˜ğŸ¤“ğŸ§ğŸ˜•ğŸ˜ŸğŸ™ğŸ˜®ğŸ˜¯ğŸ˜²ğŸ˜³ğŸ¥ºğŸ˜¦ğŸ˜§ğŸ˜¨ğŸ˜°ğŸ˜¥ğŸ˜¢ğŸ˜­ğŸ˜±ğŸ˜–ğŸ˜£ğŸ˜ğŸ˜“ğŸ˜©ğŸ˜«ğŸ˜¤ğŸ˜ <br>ğŸ˜¡ğŸ¤¬ğŸ˜ˆğŸ‘¿ğŸ’€ğŸ’©ğŸ¤¡ğŸ‘¹ğŸ‘ºğŸ‘»ğŸ‘½ğŸ‘¾ğŸ¤–ğŸ˜ºğŸ˜¸ğŸ˜¹ğŸ˜»ğŸ˜¼ğŸ˜½ğŸ™€ğŸ˜¿ğŸ˜¾ğŸ’‹<br>ğŸ‘‹ğŸ¤šğŸ–âœ‹ğŸ––ğŸ‘ŒâœŒğŸ¤ğŸ¤ŸğŸ¤˜ğŸ¤™ğŸ‘ˆğŸ‘‰ğŸ‘†ğŸ–•ğŸ‘‡â˜ğŸ‘ğŸ‘âœŠğŸ‘ŠğŸ¤›ğŸ¤œğŸ‘ğŸ™ŒğŸ‘ğŸ¤²ğŸ¤ğŸ™âœğŸ’…ğŸ¤³ğŸ’ªğŸ¦µğŸ¦¶ğŸ‘‚ğŸ‘ƒğŸ§ ğŸ¦·ğŸ¦´ğŸ‘€ğŸ‘ğŸ‘…ğŸ‘„<br>ğŸ‘¶ğŸ§’ğŸ‘¦ğŸ‘§ğŸ§‘ğŸ‘±ğŸ‘¨ğŸ§”ğŸ‘¨â€ğŸ¦°ğŸ‘¨â€ğŸ¦±ğŸ‘¨â€ğŸ¦³ğŸ‘¨â€ğŸ¦²ğŸ‘©ğŸ‘©â€ğŸ¦°ğŸ‘©â€ğŸ¦±ğŸ‘©â€ğŸ¦³ğŸ‘©â€ğŸ¦²ğŸ‘±â€â™€ï¸ğŸ‘±â€â™‚ï¸ğŸ§“ğŸ‘´ğŸ‘µğŸ™ğŸ™â€â™‚ï¸ğŸ™â€â™€ï¸ğŸ™ğŸ™â€â™‚ï¸ğŸ™â€â™€ï¸ğŸ™…ğŸ™…â€â™‚ï¸ğŸ™…â€â™€ï¸ğŸ™†ğŸ™†â€â™‚ï¸ğŸ™†â€â™€ï¸ğŸ’ğŸ’â€â™‚ï¸ğŸ’â€â™€ï¸ğŸ™‹ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™€ï¸ğŸ™‡ğŸ™‡â€â™‚ï¸ğŸ™‡â€â™€ï¸ğŸ¤¦ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™€ï¸ğŸ¤·ğŸ¤·â€â™‚ï¸ğŸ¤·â€â™€ï¸ğŸ‘¨â€âš•ï¸ğŸ‘©â€âš•ï¸ğŸ‘¨â€ğŸ“ğŸ‘©â€ğŸ“ğŸ‘¨â€ğŸ«ğŸ‘©â€ğŸ«ğŸ‘¨â€âš–ï¸ğŸ‘©â€âš–ï¸ğŸ‘¨â€ğŸŒ¾ğŸ‘©â€ğŸŒ¾ğŸ‘¨â€ğŸ³ğŸ‘©â€ğŸ³ğŸ‘¨â€ğŸ”§ğŸ‘©â€ğŸ”§ğŸ‘¨â€ğŸ­ğŸ‘©â€ğŸ­ğŸ‘¨â€ğŸ’¼ğŸ‘©â€ğŸ’¼ğŸ‘¨â€ğŸ”¬ğŸ‘©â€ğŸ”¬ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ¤ğŸ‘©â€ğŸ¤ğŸ‘¨â€ğŸ¨ğŸ‘©â€ğŸ¨ğŸ‘¨â€âœˆï¸ğŸ‘©â€âœˆï¸ğŸ‘¨â€ğŸš€ğŸ‘©â€ğŸš€ğŸ‘¨â€ğŸš’ğŸ‘©â€ğŸš’ğŸ‘®ğŸ‘®â€â™‚ï¸ğŸ‘®â€â™€ï¸ğŸ•µğŸ•µï¸â€â™‚ï¸ğŸ•µï¸â€â™€ï¸ğŸ’‚ğŸ’‚â€â™‚ï¸ğŸ’‚â€â™€ï¸ğŸ‘·ğŸ‘·â€â™‚ï¸ğŸ‘·â€â™€ï¸ğŸ¤´ğŸ‘¸ğŸ‘³ğŸ‘³â€â™‚ï¸ğŸ‘³â€â™€ï¸ğŸ‘²ğŸ§•ğŸ¤µğŸ‘°ğŸ¤°ğŸ¤±ğŸ‘¼ğŸ…ğŸ¤¶ğŸ¦¸ğŸ¦¸â€â™‚ï¸ğŸ¦¸â€â™€ï¸ğŸ¦¹ğŸ¦¹â€â™‚ï¸ğŸ¦¹â€â™€ï¸ğŸ§™ğŸ§™â€â™‚ï¸ğŸ§™â€â™€ï¸ğŸ§šğŸ§šâ€â™‚ï¸ğŸ§šâ€â™€ï¸ğŸ§›ğŸ§›â€â™‚ï¸ğŸ§›â€â™€ï¸ğŸ§œğŸ§œâ€â™‚ï¸ğŸ§œâ€â™€ï¸ğŸ§ğŸ§â€â™‚ï¸ğŸ§â€â™€ï¸ğŸ§ğŸ§â€â™‚ï¸ğŸ§â€â™€ï¸ğŸ§ŸğŸ§Ÿâ€â™‚ï¸ğŸ§Ÿâ€â™€ï¸ğŸ’†ğŸ’†â€â™‚ï¸ğŸ’†â€â™€ï¸ğŸ’‡ğŸ’‡â€â™‚ï¸ğŸ’‡â€â™€ï¸<br>ğŸš¶ğŸš¶â€â™‚ï¸ğŸš¶â€â™€ï¸ğŸƒğŸƒâ€â™‚ï¸ğŸƒâ€â™€ï¸ğŸ’ƒğŸ•ºğŸ•´ğŸ‘¯ğŸ‘¯â€â™‚ï¸ğŸ‘¯â€â™€ï¸ğŸ§–ğŸ§–â€â™‚ï¸ğŸ§–â€â™€ï¸ğŸ§˜ğŸ‘­ğŸ‘«ğŸ‘¬ğŸ’ğŸ‘¨â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘©ğŸ’‘ğŸ‘¨â€â¤ï¸â€ğŸ‘¨ğŸ‘©â€â¤ï¸â€ğŸ‘©ğŸ‘ªğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ğŸ‘©â€ğŸ‘©â€ğŸ‘¦ğŸ‘©â€ğŸ‘©â€ğŸ‘§ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ‘¨â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ‘§ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ğŸ‘©â€ğŸ‘¦ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘©â€ğŸ‘§ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ—£<br>ğŸ‘¤ğŸ‘¥ğŸ‘£ğŸ§³ğŸŒ‚â˜‚ğŸ§µğŸ§¶ğŸ‘“ğŸ•¶ğŸ¥½ğŸ¥¼ğŸ‘”ğŸ‘•ğŸ‘–ğŸ§£ğŸ§¤ğŸ§¥ğŸ§¦ğŸ‘—ğŸ‘˜ğŸ‘™ğŸ‘šğŸ‘›ğŸ‘œğŸ‘ğŸ’ğŸ‘ğŸ‘ŸğŸ¥¾ğŸ¥¿ğŸ‘ ğŸ‘¡ğŸ‘¢ğŸ‘‘ğŸ‘’ğŸ©ğŸ“ğŸ§¢â›‘ğŸ’„ğŸ’ğŸ’¼</p><h3 id="åŠ¨ç‰©ä¸è‡ªç„¶ç±»"><a href="#åŠ¨ç‰©ä¸è‡ªç„¶ç±»" class="headerlink" title="åŠ¨ç‰©ä¸è‡ªç„¶ç±»"></a>åŠ¨ç‰©ä¸è‡ªç„¶ç±»</h3><hr><p>ğŸ™ˆğŸ™‰ğŸ™ŠğŸ’¥ğŸ’«ğŸ’¦ğŸ’¨ğŸµğŸ’ğŸ¦ğŸ¶ğŸ•ğŸ©ğŸºğŸ¦ŠğŸ¦ğŸ±ğŸˆğŸ¦ğŸ¯ğŸ…ğŸ†ğŸ´ğŸğŸ¦„ğŸ¦“ğŸ¦ŒğŸ®ğŸ‚ğŸƒğŸ„ğŸ·ğŸ–ğŸ—ğŸ½ğŸğŸ‘ğŸğŸªğŸ«ğŸ¦™ğŸ¦’ğŸ˜ğŸ¦ğŸ¦›ğŸ­ğŸğŸ€ğŸ¹ğŸ°ğŸ‡ğŸ¿ğŸ¦”ğŸ¦‡ğŸ»ğŸ¨ğŸ¼ğŸ¦˜ğŸ¦¡ğŸ¾ğŸ¦ƒğŸ”ğŸ“ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ§ğŸ•ŠğŸ¦…ğŸ¦†ğŸ¦¢ğŸ¦‰ğŸ¦šğŸ¦œğŸ¸ğŸŠğŸ¢ğŸ¦ğŸğŸ²ğŸ‰ğŸ¦•ğŸ¦–ğŸ³ğŸ‹ğŸ¬ğŸŸğŸ ğŸ¡ğŸ¦ˆğŸ™ğŸšğŸŒğŸ¦‹ğŸ›ğŸœğŸğŸğŸ¦—ğŸ•·ğŸ•¸ğŸ¦‚ğŸ¦ŸğŸ¦ <br>ğŸ’ğŸŒ¸ğŸ’®ğŸµğŸŒ¹ğŸ¥€ğŸŒºğŸŒ»ğŸŒ¼ğŸŒ·ğŸŒ±ğŸŒ²ğŸŒ³ğŸŒ´ğŸŒµğŸŒ¾ğŸŒ¿â˜˜ğŸ€ğŸğŸ‚ğŸƒğŸ„ğŸŒ°ğŸ¦€ğŸ¦ğŸ¦ğŸ¦‘<br>ğŸŒğŸŒğŸŒğŸŒğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜ğŸŒ™ğŸŒšğŸŒ›ğŸŒœâ˜€ğŸŒğŸŒâ­ğŸŒŸğŸŒ â˜â›…â›ˆğŸŒ¤ğŸŒ¥ğŸŒ¦ğŸŒ§ğŸŒ¨ğŸŒ©ğŸŒªğŸŒ«ğŸŒ¬ğŸŒˆ<br>â˜‚â˜”âš¡â„â˜ƒâ›„â˜„ğŸ”¥ğŸ’§ğŸŒŠğŸ„âœ¨ğŸ‹ğŸ</p><h3 id="é£Ÿç‰©ç±»"><a href="#é£Ÿç‰©ç±»" class="headerlink" title="é£Ÿç‰©ç±»"></a>é£Ÿç‰©ç±»</h3><hr><p>ğŸ‡ğŸˆğŸ‰ğŸŠğŸ‹ğŸŒğŸğŸ¥­ğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ¥ğŸ…ğŸ¥¥ğŸ¥‘ğŸ†ğŸ¥”ğŸ¥•ğŸŒ½ğŸŒ¶ğŸ¥’ğŸ¥¬ğŸ¥¦ğŸ„ğŸ¥œğŸŒ°ğŸğŸ¥ğŸ¥–ğŸ¥¨ğŸ¥¯ğŸ¥ğŸ§€ğŸ–ğŸ—ğŸ¥©ğŸ¥“ğŸ”ğŸŸğŸ•ğŸŒ­ğŸ¥ªğŸŒ®ğŸŒ¯ğŸ¥™ğŸ³ğŸ¥˜ğŸ²ğŸ¥£ğŸ¥—ğŸ¿ğŸ§‚ğŸ¥«ğŸ±ğŸ˜ğŸ™ğŸšğŸ›ğŸœğŸğŸ ğŸ¢ğŸ£ğŸ¤ğŸ¥ğŸ¥®ğŸ¡ğŸ¥ŸğŸ¥ ğŸ¥¡ğŸ¦ğŸ§ğŸ¨ğŸ©ğŸªğŸ‚ğŸ°ğŸ§ğŸ¥§ğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸ¼ğŸ¥›â˜•ğŸµğŸ¶ğŸ¾ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¥‚ğŸ¥ƒğŸ¥¤ğŸ¥¢ğŸ½ğŸ´ğŸ¥„</p><h3 id="æ´»åŠ¨ç±»"><a href="#æ´»åŠ¨ç±»" class="headerlink" title="æ´»åŠ¨ç±»"></a>æ´»åŠ¨ç±»</h3><hr><p>ğŸ•´ğŸ§—ğŸ§—â€â™‚ï¸ğŸ§—â€â™€ï¸ğŸ‡â›·ğŸ‚ğŸŒğŸŒï¸â€â™‚ï¸ğŸŒï¸â€â™€ï¸ğŸ„ğŸ„â€â™‚ï¸ğŸ„â€â™€ï¸ğŸš£ğŸš£â€â™‚ï¸ğŸš£â€â™€ï¸ğŸŠğŸŠâ€â™‚ï¸ğŸŠâ€â™€ï¸â›¹â›¹ï¸â€â™‚ï¸â›¹ï¸â€â™€ï¸ğŸ‹ğŸ‹ï¸â€â™‚ï¸ğŸ‹ï¸â€â™€ï¸ğŸš´ğŸš´â€â™‚ï¸ğŸš´â€â™€ï¸ğŸšµğŸšµâ€â™‚ï¸ğŸšµâ€â™€ï¸ğŸ¤¸ğŸ¤¸â€â™‚ï¸ğŸ¤¸â€â™€ï¸ğŸ¤¼ğŸ¤¼â€â™‚ï¸ğŸ¤¼â€â™€ï¸ğŸ¤½ğŸ¤½â€â™‚ï¸ğŸ¤½â€â™€ï¸ğŸ¤¾ğŸ¤¾â€â™‚ï¸ğŸ¤¾â€â™€ï¸ğŸ¤¹ğŸ¤¹â€â™‚ï¸ğŸ¤¹â€â™€ï¸ğŸ§˜ğŸ§˜â€â™‚ï¸ğŸ§˜â€â™€ï¸ğŸªğŸ›¹ğŸ—ğŸŸğŸ«ğŸ–ğŸ†ğŸ…ğŸ¥‡ğŸ¥ˆğŸ¥‰âš½âš¾ğŸ¥ğŸ€ğŸğŸˆğŸ‰ğŸ¾ğŸ¥ğŸ³ğŸğŸ‘ğŸ’ğŸ¥ğŸ“ğŸ¸ğŸ¥ŠğŸ¥‹â›³â›¸ğŸ£ğŸ½ğŸ¿ğŸ›·ğŸ¥ŒğŸ¯ğŸ±ğŸ®ğŸ°ğŸ²ğŸ§©â™ŸğŸ­ğŸ¨ğŸ§µğŸ§¶ğŸ¼ğŸ¤ğŸ§ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¥ğŸ¬ğŸ¹</p><h3 id="äº¤é€šä¸åœ°ç‚¹ç±»"><a href="#äº¤é€šä¸åœ°ç‚¹ç±»" class="headerlink" title="äº¤é€šä¸åœ°ç‚¹ç±»"></a>äº¤é€šä¸åœ°ç‚¹ç±»</h3><hr><p>ğŸš£ğŸ—¾ğŸ”â›°ğŸŒ‹ğŸ—»ğŸ•ğŸ–ğŸœğŸğŸğŸŸğŸ›ğŸ—ğŸ˜ğŸšğŸ ğŸ¡ğŸ¢ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ¨ğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ¯ğŸ°ğŸ’’ğŸ—¼ğŸ—½â›ªğŸ•ŒğŸ•â›©ğŸ•‹â›²â›ºğŸŒğŸŒƒğŸ™ğŸŒ„ğŸŒ…ğŸŒ†ğŸŒ‡ğŸŒ‰ğŸ ğŸ¡ğŸ¢ğŸš‚ğŸšƒğŸš„ğŸš…ğŸš†ğŸš‡ğŸšˆğŸš‰ğŸšŠğŸšğŸšğŸš‹ğŸšŒğŸšğŸšğŸšğŸš‘ğŸš’ğŸš“ğŸš”ğŸš•ğŸš–ğŸš—ğŸš˜ğŸššğŸš›ğŸšœğŸğŸğŸ›µğŸš²ğŸ›´ğŸšğŸ›¤â›½ğŸš¨ğŸš¥ğŸš¦ğŸš§âš“â›µğŸš¤ğŸ›³â›´ğŸ›¥ğŸš¢âœˆğŸ›©ğŸ›«ğŸ›¬ğŸ’ºğŸšğŸšŸğŸš ğŸš¡ğŸ›°ğŸš€ğŸ›¸ğŸŒ ğŸŒŒâ›±ğŸ†ğŸ‡ğŸ‘ğŸ’´ğŸ’µğŸ’¶ğŸ’·ğŸ—¿ğŸ›‚ğŸ›ƒğŸ›„ğŸ›…</p><h3 id="å¸¸è§äº‹ç‰©ç±»"><a href="#å¸¸è§äº‹ç‰©ç±»" class="headerlink" title="å¸¸è§äº‹ç‰©ç±»"></a>å¸¸è§äº‹ç‰©ç±»</h3><hr><p>ğŸ’ŒğŸ•³ğŸ’£ğŸ›€ğŸ›ŒğŸ”ªğŸºğŸ—ºğŸ§­ğŸ§±ğŸ’ˆğŸ›¢ğŸ›ğŸ§³âŒ›â³âŒšâ°â±â²ğŸ•°ğŸŒ¡â›±ğŸ§¨ğŸˆğŸ‰ğŸŠğŸğŸğŸğŸ§§ğŸ€ğŸğŸ”®ğŸ§¿ğŸ•¹ğŸ§¸ğŸ–¼ğŸ§µğŸ§¶ğŸ›ğŸ“¿ğŸ’ğŸ“¯ğŸ™ğŸšğŸ›ğŸ“»ğŸ“±ğŸ“²â˜ğŸ“ğŸ“ŸğŸ“ ğŸ”‹ğŸ”ŒğŸ’»ğŸ–¥ğŸ–¨âŒ¨ğŸ–±ğŸ–²ğŸ’½ğŸ’¾ğŸ’¿ğŸ“€ğŸ§®ğŸ¥ğŸğŸ“½ğŸ“ºğŸ“·ğŸ“¸ğŸ“¹ğŸ“¼ğŸ”ğŸ”ğŸ•¯ğŸ’¡ğŸ”¦ğŸ®ğŸ“”ğŸ“•ğŸ“–ğŸ“—ğŸ“˜ğŸ“™ğŸ“šğŸ““ğŸ“ƒğŸ“œğŸ“„ğŸ“°ğŸ—ğŸ“‘ğŸ”–ğŸ·ğŸ’°ğŸ’´ğŸ’µğŸ’¶ğŸ’·ğŸ’¸ğŸ’³ğŸ§¾âœ‰ğŸ“§ğŸ“¨ğŸ“©ğŸ“¤ğŸ“¥ğŸ“¦ğŸ“«ğŸ“ªğŸ“¬ğŸ“­ğŸ“®ğŸ—³âœâœ’ğŸ–‹ğŸ–ŠğŸ–ŒğŸ–ğŸ“ğŸ“ğŸ“‚ğŸ—‚ğŸ“…ğŸ“†ğŸ—’ğŸ—“ğŸ“‡ğŸ“ˆğŸ“‰ğŸ“ŠğŸ“‹ğŸ“ŒğŸ“ğŸ“ğŸ–‡ğŸ“ğŸ“âœ‚ğŸ—ƒğŸ—„ğŸ—‘ğŸ”’ğŸ”“ğŸ”ğŸ”ğŸ”‘ğŸ—ğŸ”¨â›âš’ğŸ› ğŸ—¡âš”ğŸ”«ğŸ›¡ğŸ”§ğŸ”©âš™ğŸ—œâš–ğŸ”—â›“ğŸ§°ğŸ§²âš—ğŸ§ªğŸ§«ğŸ§¬ğŸ”¬ğŸ”­ğŸ“¡ğŸ’‰ğŸ’ŠğŸšªğŸ›ğŸ›‹ğŸš½ğŸš¿ğŸ›ğŸ§´ğŸ§·ğŸ§¹ğŸ§ºğŸ§»ğŸ§¼ğŸ§½ğŸ§¯ğŸš¬âš°âš±ğŸ—¿ğŸš°</p><h3 id="æ ‡å¿—ç±»"><a href="#æ ‡å¿—ç±»" class="headerlink" title="æ ‡å¿—ç±»"></a>æ ‡å¿—ç±»</h3><hr><p>ğŸ’˜ğŸ’ğŸ’–ğŸ’—ğŸ’“ğŸ’ğŸ’•ğŸ’Ÿâ£ğŸ’”â¤ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ–¤ğŸ’¯ğŸ’¢ğŸ’¬ğŸ‘ï¸â€ğŸ—¨ï¸ğŸ—¯ğŸ’­ğŸ’¤ğŸ’®â™¨ğŸ’ˆğŸ›‘<br>ğŸ•›ğŸ•§ğŸ•ğŸ•œğŸ•‘ğŸ•ğŸ•’ğŸ•ğŸ•“ğŸ•ŸğŸ•”ğŸ• ğŸ••ğŸ•¡ğŸ•–ğŸ•¢ğŸ•—ğŸ•£ğŸ•˜ğŸ•¤ğŸ•™ğŸ•¥ğŸ•šğŸ•¦<br>ğŸŒ€â™ â™¥â™¦â™£ğŸƒğŸ€„ğŸ´ğŸ”‡ğŸ”ˆğŸ”‰ğŸ”ŠğŸ“¢ğŸ“£ğŸ“¯ğŸ””ğŸ”•ğŸµğŸ¶ğŸ§ğŸš®ğŸš°â™¿ğŸš¹ğŸšºğŸš»ğŸš¼ğŸš¾âš ğŸš¸â›”ğŸš«ğŸš³ğŸš­ğŸš¯ğŸš±ğŸš·ğŸ”<br>â˜¢â˜£â¬†â†—â¡â†˜â¬‡â†™â¬…â†–â†•â†”â†©â†ªâ¤´â¤µğŸ”ƒğŸ”„ğŸ”™ğŸ”šğŸ”›ğŸ”œğŸ”ğŸ›âš›ğŸ•‰âœ¡â˜¸â˜¯âœâ˜¦â˜ªâ˜®<br>ğŸ•ğŸ”¯â™ˆâ™‰â™Šâ™‹â™Œâ™â™â™â™â™‘â™’â™“â›ğŸ”€ğŸ”ğŸ”‚â–¶â©â—€âªğŸ”¼â«ğŸ”½â¬â¹âğŸ¦<br>ğŸ”…ğŸ”†ğŸ“¶ğŸ“³ğŸ“´â™¾â™»ğŸ”±ğŸ“›ğŸ”°â­•âœ…â˜‘âœ”âœ–âŒââ•â–â—â°â¿ã€½âœ³âœ´â‡â€¼â‰â“â”â•â—Â©Â®â„¢</p><p>ï¸ğŸ”ŸğŸ” ğŸ”¡ğŸ”¢ğŸ”£ğŸ”¤ğŸ…°ğŸ†ğŸ…±ğŸ†‘ğŸ†’ğŸ†“â„¹ğŸ†”â“‚ğŸ†•ğŸ†–ğŸ…¾ğŸ†—ğŸ…¿ğŸ†˜ğŸ†™ğŸ†šğŸˆ</p><p>ğŸˆ‚ğŸˆ·ğŸˆ¶ğŸˆ¯ ğŸ‰ ğŸˆ¹ğŸˆšğŸˆ² ğŸ‰‘ ğŸˆ¸ğŸˆ´ğŸˆ³ ãŠ—ãŠ™ ğŸˆºğŸˆµ<br>ğŸ”´ğŸ”µâš«âšªâ¬›â¬œâ—¼â—»â—¾â—½â–ªâ–«ğŸ”¶ğŸ”·ğŸ”¸ğŸ”¹ğŸ”ºğŸ”»ğŸ’ ğŸ”³ğŸ”²</p><h3 id="æ——å¸œç±»"><a href="#æ——å¸œç±»" class="headerlink" title="æ——å¸œç±»"></a>æ——å¸œç±»</h3><hr><p>ğŸğŸš©ğŸŒğŸ´ğŸ³ğŸ³ï¸â€ğŸŒˆğŸ³ï¸â€âš§ï¸ğŸ´â€â˜ ï¸ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿ğŸ´ó µó ³ó ´ó ¸ó ¿</p>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ”¶è—å®‰åˆ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> emoji </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windowsç¯å¢ƒçš„git-bashç»ˆç«¯ç¾åŒ–</title>
      <link href="/posts/git-bash-prettify/"/>
      <url>/posts/git-bash-prettify/</url>
      
        <content type="html"><![CDATA[<h3 id="Before-this"><a href="#Before-this" class="headerlink" title="Before this"></a>Before this</h3><p>æœ€å¼€å§‹æ˜¯æƒ³ç€ç›´æ¥å®‰è£…<code>zsh</code>ï¼Œä½†æ˜¯æˆ–å¤šæˆ–å°‘è¿˜æ˜¯å­˜åœ¨é—®é¢˜ã€‚</p><p>æ¯”å¦‚ï¼šå®‰è£…å®Œäº†è¿‡åï¼Œé™¤å»<code>vscode</code>çš„å…¶ä»–è¿è¡Œæ–¹å¼å’Œç¯å¢ƒéƒ½å¾ˆ<code>ok</code>ï¼Œåœ¨<code>vscode</code>çš„<code>terminal</code>ä¸­ï¼Œå¦‚æœä½¿ç”¨<code>git-bash</code>å¹¶ä¸”å®‰è£…äº†<code>zsh</code>ï¼Œé‚£ä¹ˆåªè¦<code>terminal</code>çš„çª—å£è§†å›¾å‘ç”Ÿå˜åŒ–ï¼ˆæ–°å»ºã€æ‹†åˆ†ç»ˆç«¯ï¼Œåˆæˆ–è€…æ”¹å˜<code>terminal</code>çš„é«˜åº¦ï¼‰ï¼Œéƒ½ä¼šå¯¼è‡´å‘½ä»¤è¡Œæ— æ³•æ­£å¸¸è¾“å…¥ï¼Œå°±åƒå¡æ­»äº†ä¸€èˆ¬ã€‚å…¶ä»–çš„è¿è¡Œæ–¹å¼ï¼Œæ¯”å¦‚ç›´æ¥å³é”®åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨<code>git-bash</code>ï¼Œåˆæˆ–è€…æ˜¯åœ¨<code>windows-terminal</code>ä¸­ä½¿ç”¨ï¼Œéƒ½æ˜¯æ²¡å¾—é—®é¢˜çš„ã€‚å¦‚æœæœ‰æƒ³è¦äº†è§£çš„ä¼™ä¼´ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ã€‚<a href="https://zhuanlan.zhihu.com/p/455925403">ä¸€æ–‡æå®š<code>Windows Terminal</code>è®¾ç½®ä¸<code>zsh</code>å®‰è£…ã€é<code>WSL</code>ã€‘</a></p><p>å½“ç„¶ï¼Œå¦‚æœ<strong>åªæ˜¯æƒ³ç¾åŒ–</strong>ï¼Œåšåˆ°ç±»ä¼¼<code>zsh</code>çš„æ˜¾ç¤ºæ•ˆæœï¼Œæœ‰æ²¡æœ‰åŠæ³•å’§ï¼Ÿ<del>ğŸ’€ğŸ’€ğŸ’€</del></p><span id="more"></span><h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><p>æ‰¾åˆ°æ–‡ä»¶<code>git-prompt.sh</code>ï¼Œåœ¨å®‰è£…ç›®å½•ä¸‹çš„<code>Git/etc/profile.d/git-prompt.sh</code>ã€‚å³é”®åœ¨<code>vscode</code>ä¸­æ‰“å¼€ï¼Œæˆ–è€…ç»ˆç«¯è¾“å…¥<code>code git-prompt.sh(ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…ç›¸å¯¹è·¯å¾„éƒ½å¯ä»¥)</code>ã€‚</p><p>æ›¿æ¢ä¸ºä¸‹é¢ä»£ç ã€‚å®é™…åªä¿®æ”¹äº†<code>$PS1</code>çš„å€¼ï¼š</p><blockquote><p>æ³¨æ„ï¼š\w è¡¨ç¤ºçš„è¯¦ç»†è·¯å¾„ï¼Œå¦‚æœåªæƒ³å±•ç¤ºå½“å‰å·¥ä½œåŒºï¼Œè®¾ç½®ä¸º \W</p></blockquote><blockquote><p>ç±»ä¼¼äº [\033[32m] è¿™æ ·çš„å€¼ï¼Œæ˜¯å‘½ä»¤è¡Œçš„é¢œè‰²è‰²å€¼ï¼Œå…·ä½“å¯å‚è€ƒï¼š<a href="https://gist.github.com/vratiu/9780109">.bash_aliases</a></p></blockquote><pre class="language-sh" data-language="sh"><code class="language-sh">if test -f &#x2F;etc&#x2F;profile.d&#x2F;git-sdk.shthen    TITLEPREFIX&#x3D;SDK-$&#123;MSYSTEM#MINGW&#125;else    TITLEPREFIX&#x3D;$MSYSTEMfiif test -f ~&#x2F;.config&#x2F;git&#x2F;git-prompt.shthen    . ~&#x2F;.config&#x2F;git&#x2F;git-prompt.shelse    PS1&#x3D;&#39;\[\033]0;Bash\007\]&#39;      # çª—å£æ ‡é¢˜    # PS1&#x3D;&quot;$PS1&quot;&#39;\n&#39;               # æ¢è¡Œ    PS1&#x3D;&quot;$PS1&quot;&#39;\[\033[32m\]&#39;     # é«˜äº®ç»¿è‰²    PS1&#x3D;&quot;$PS1&quot;&#39;âœ &#39;               # å³ç®­å¤´    PS1&#x3D;&quot;$PS1&quot;&#39;\[\033[33m\]&#39;     # é«˜äº®é»„è‰²    PS1&#x3D;&quot;$PS1&quot;&#39;[\w]&#39;                 # å½“å‰ç›®å½•    if test -z &quot;$WINELOADERNOEXEC&quot;    then        GIT_EXEC_PATH&#x3D;&quot;$(git --exec-path 2&gt;&#x2F;dev&#x2F;null)&quot;        COMPLETION_PATH&#x3D;&quot;$&#123;GIT_EXEC_PATH%&#x2F;libexec&#x2F;git-core&#125;&quot;        COMPLETION_PATH&#x3D;&quot;$&#123;COMPLETION_PATH%&#x2F;lib&#x2F;git-core&#125;&quot;        COMPLETION_PATH&#x3D;&quot;$COMPLETION_PATH&#x2F;share&#x2F;git&#x2F;completion&quot;        if test -f &quot;$COMPLETION_PATH&#x2F;git-prompt.sh&quot;        then            . &quot;$COMPLETION_PATH&#x2F;git-completion.bash&quot;            . &quot;$COMPLETION_PATH&#x2F;git-prompt.sh&quot;            PS1&#x3D;&quot;$PS1&quot;&#39;\[\033[31m\]&#39;   # çº¢è‰²            PS1&#x3D;&quot;$PS1&quot;&#39;&#96;__git_ps1&#96;&#39;    # git æ’ä»¶        fi    fi    PS1&#x3D;&quot;$PS1&quot;&#39;\[\033[0;36m\] &#39;      # é’è‰²fiMSYS2_PS1&#x3D;&quot;$PS1&quot;</code></pre><h3 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h3><p><a href="/images/posts/git-bash-prettify/p1.png"><img src="/images/posts/git-bash-prettify/p1.png" alt="&#39;git-bash-preview&#39;" loading="lazy"></a></p><div class="primary"><blockquote><p>æŠŠä½ çš„è„¸è¿å‘é˜³å…‰ï¼Œé‚£å°±ä¸ä¼šæœ‰é˜´å½±</p></blockquote></div>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ”¶è—å®‰åˆ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git-bash </tag>
            
            <tag> terminal </tag>
            
            <tag> ç»ˆç«¯ç¾åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitç¯å¢ƒæ­å»ºï¼Œvscodeé…ç½®git-bashä½œä¸ºé»˜è®¤çš„terminal</title>
      <link href="/share/git-install-and-terminal-config/"/>
      <url>/share/git-install-and-terminal-config/</url>
      
        <content type="html"><![CDATA[<h3 id="å·¥å…·ä¸‹è½½"><a href="#å·¥å…·ä¸‹è½½" class="headerlink" title="å·¥å…·ä¸‹è½½"></a>å·¥å…·ä¸‹è½½</h3><p><code>å‚»ç“œå¼å®‰è£…ï¼Œé€‰æ‹©ç›˜ç¬¦- æ³¨æ„å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ˜¯å¦å°†bashåŠ å…¥å³é”®èœå•ï¼Œå‹¾é€‰</code></p><span id="more"></span><p><a href="https://git-scm.com/download/win">windows ä¸‹è½½</a></p><p><a href="https://git-scm.com/download/mac">mac ä¸‹è½½</a></p><h3 id="å…¨å±€é…ç½®"><a href="#å…¨å±€é…ç½®" class="headerlink" title="å…¨å±€é…ç½®"></a>å…¨å±€é…ç½®</h3><h4 id="é…ç½®å½“å‰gitç”¨æˆ·ä¿¡æ¯"><a href="#é…ç½®å½“å‰gitç”¨æˆ·ä¿¡æ¯" class="headerlink" title="é…ç½®å½“å‰gitç”¨æˆ·ä¿¡æ¯"></a>é…ç½®å½“å‰<code>git</code>ç”¨æˆ·ä¿¡æ¯</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config --global user.name <span class="token punctuation">[</span>gitæäº¤æ˜¾ç¤ºçš„ç”¨æˆ·å<span class="token punctuation">]</span><span class="token function">git</span> config --global user.email <span class="token punctuation">[</span>gitæäº¤ç”¨æˆ·æ‰€å±é‚®ç®±<span class="token punctuation">]</span><span class="token comment"># æŸ¥çœ‹ç³»ç»Ÿé…ç½®</span><span class="token function">git</span> config --system --list <span class="token operator">||</span> <span class="token function">git</span> config --system -l<span class="token comment"># æŸ¥çœ‹ç”¨æˆ·å…¨å±€é…ç½®</span><span class="token function">git</span> config --global --list <span class="token operator">||</span> <span class="token function">git</span> config --global -l<span class="token comment"># æŸ¥çœ‹å½“å‰ä»“åº“é…ç½®</span><span class="token function">git</span> config --local --list <span class="token operator">||</span> <span class="token function">git</span> config --local -l</code></pre><h4 id="é…ç½®gitè§„èŒƒ"><a href="#é…ç½®gitè§„èŒƒ" class="headerlink" title="é…ç½®gitè§„èŒƒ"></a>é…ç½®<code>git</code>è§„èŒƒ</h4><div class="primary"><blockquote><p>æ¢è¡Œç¬¦çº¦æŸï¼ˆé—®é¢˜è®°å½•ï¼‰</p></blockquote></div><p>å¤šäººåä½œé¡¹ç›®ï¼Œå¦‚æœå…¶ä»–äººç”¨çš„æ—¶<code>linux</code>ï¼Œä½ ç”¨çš„<code>windows</code>ï¼Œä¼šå­˜åœ¨è¡Œå°¾ç»“æŸç¬¦é—®é¢˜æ‰°ä¹±åä½œï¼Œå› ä¸º<code>windows</code>ä½¿ç”¨å›è½¦å’Œæ¢è¡Œä¸¤ä¸ªå­—ç¬¦æ¥ç»“æŸä¸€è¡Œã€‚</p><p>é…ç½®<code>core.autocrlf</code>å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><blockquote><p>trueï¼šé»˜è®¤å€¼ï¼Œæ‹‰å–ï¼ˆç­¾å‡ºï¼‰ä»£ç çš„æ—¶å€™ï¼ŒLF ä¼šè¢«è½¬æ¢æˆ CRLFã€‚å¤§å®¶ä¹Ÿåº”è¯¥å‘ç°äº†ï¼Œå¦‚æœæºä»£ç ä¸­æ˜¯ LFï¼Œé‚£ä¹ˆæäº¤çš„æ—¶å€™è‚¯å®šä¼šé‡åˆ°é”™è¯¯å†²çª LF would be replaced by CRLF.</p></blockquote><blockquote><p>inputï¼šæäº¤ï¼ˆç­¾å…¥ï¼‰æ—¶æŠŠ CRLF è½¬æ¢æˆ LFã€‚åŒç†ï¼Œå½“è¿œç¨‹ä»“åº“æºä»£ç ä½¿ç”¨çš„æ˜¯ CRLFï¼Œé‚£ä¹ˆæäº¤ä¹Ÿä¼šé‡åˆ°é”™è¯¯å†²çª CRLF would be replaced by LF.</p></blockquote><blockquote><p>falseï¼šå–æ¶ˆæ­¤åŠŸèƒ½ï¼Œå³ç­¾å…¥ç­¾å‡ºä»£ç æ—¶ï¼Œä¸åšä»»ä½•å¤„ç†ã€‚æºä»£ç æ˜¯ LFï¼Œé‚£ä¹ˆæäº¤å°±æ˜¯ LFï¼Œæºä»£ç æ˜¯ CRLFï¼Œé‚£ä¹ˆæäº¤ä¹Ÿå°±æ˜¯ CRLFã€‚æ‰€ä»¥ï¼Œå½“é‡åˆ°ä¸Šé¢ä¸¤ç§é”™è¯¯å†²çªæ—¶ï¼Œè®¾ç½®ä¸º false é€šå¸¸å¯ä»¥é¿å…ã€‚</p></blockquote><p>å¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰å¯¹æºæ–‡ä»¶çš„æ¢è¡Œç¬¦ä½œå‡ºè§„å®šï¼Œ**æºä»£ç ä½¿ç”¨çš„æ˜¯ LFï¼Œè®¾ç½®<code>autocrlf=input</code>, æºä»£ç ä½¿ç”¨çš„æ˜¯ CRLFï¼Œè®¾ç½®<code>autocrlf=true</code>**ã€‚</p><p>å½“æˆ‘ç”¨<code>windows</code>ç”µè„‘<code>git clone</code>ä»£ç çš„æ—¶å€™ï¼Œè‹¥æˆ‘çš„<code>autocrlf</code>(åœ¨<code>windows</code>ä¸‹å®‰è£…<code>git</code>ï¼Œè¯¥é€‰é¡¹é»˜è®¤ä¸º<code>true</code>)ä¸º<code>true</code>ï¼Œé‚£ä¹ˆæ–‡ä»¶æ¯è¡Œä¼šè¢«è‡ªåŠ¨è½¬æˆä»¥<code>CRLF</code>ç»“å°¾ï¼Œè‹¥å¯¹æ–‡ä»¶ä¸åšä»»ä½•ä¿®æ”¹ï¼Œ<code>pre-commit</code>æ‰§è¡Œ<code>eslint</code>çš„æ—¶å€™å°±ä¼šæç¤ºä½ åˆ é™¤<code>CR</code>ã€‚</p><p>é¡¹ç›®ä»“åº“ä¸­ä¸€èˆ¬æ˜¯<code>Linux</code>ç¯å¢ƒä¸‹æäº¤çš„ä»£ç ï¼Œæ–‡ä»¶æ¢è¡Œç¬¦é»˜è®¤æ˜¯ä»¥<code>LF</code>ç»“å°¾çš„(å·¥ç¨‹åŒ–éœ€è¦ï¼Œç»Ÿä¸€æ ‡å‡†)ï¼Œå¦‚æœä½ æ˜¯<code>windows</code>ç”¨æˆ·ï¼Œè®¾ç½®ä¸º<code>false</code>æœ€ç¨³å¦¥ã€‚<del>æ¯•ç«Ÿä¸å¯èƒ½æ¯ä¸ªé¡¹ç›®éƒ½å»é…ä¸€æ¬¡ï¼Œè€Œä¸åŒçš„é¡¹ç›®å®Œå…¨æœ‰å¯èƒ½æ˜¯ä¸åŒçš„ç¯å¢ƒå’Œæ¢è¡Œç¬¦ï¼Œè®¾ç½®ä¸º false å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜</del></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config --global core.autocrlf <span class="token boolean">false</span></code></pre><h4 id="é…ç½®å¯†é’¥å¯¹"><a href="#é…ç½®å¯†é’¥å¯¹" class="headerlink" title="é…ç½®å¯†é’¥å¯¹"></a>é…ç½®å¯†é’¥å¯¹</h4><p>ç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼Œç”¨äºä¸Šä¼ ä»£ç æ—¶çš„å®‰å…¨éªŒè¯</p><pre class="language-none"><code class="language-none">åœ¨git bashé‡Œæ‰§è¡Œå‘½ä»¤ssh-keygen ä¸€è·¯å›è½¦ï¼Œå°±å¯ä»¥ç”Ÿæˆå¯†é’¥å¯¹ï¼Œé»˜è®¤å¯†é’¥å¯¹æ˜¯å­˜æ”¾åœ¨(&#x2F;c&#x2F;Users&#x2F;[ä¸»æœºç”¨æˆ·å]&#x2F;.ssh&#x2F;) ã€‚è¿™ä¸ªç›®å½•ä¸‹æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œ .pubå°±æ˜¯å…¬é’¥ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ç§é’¥åˆ°çº¿ä¸Šï¼ˆgitlabæˆ–å…¶ä»–å¹³å°ï¼‰æ‰“å¼€è®¾ç½®-&gt;å®‰å…¨è®¾ç½®-&gt;sshå…¬é’¥ï¼ŒæŠŠæœ¬åœ°çš„å…¬é’¥æ–‡ä»¶å…¨é€‰å¤åˆ¶è¿›æ¥ï¼Œè¾“å…¥ç™»å½•å¯†ç ï¼Œå°±é…ç½®æˆåŠŸäº†ã€‚</code></pre><h4 id="é…ç½®https-proxyä»£ç†"><a href="#é…ç½®https-proxyä»£ç†" class="headerlink" title="é…ç½®https.proxyä»£ç†"></a>é…ç½®<code>https.proxy</code>ä»£ç†</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config --global https.proxy http:<span class="token punctuation">\</span><span class="token number">127.0</span>.0.1:xxx</code></pre><h3 id="VsCode-Terminalé…ç½®ä¸ºé»˜è®¤git-bash"><a href="#VsCode-Terminalé…ç½®ä¸ºé»˜è®¤git-bash" class="headerlink" title="VsCode Terminalé…ç½®ä¸ºé»˜è®¤git-bash"></a><code>VsCode Terminal</code>é…ç½®ä¸ºé»˜è®¤<code>git-bash</code></h3><ul><li><p>æ‰¾åˆ°<code>Terminal &gt; Integrated &gt; Profiles: Windows</code>ï¼Œé€‰æ‹©åœ¨<code>settings.json</code>ä¸­ç¼–è¾‘ã€‚</p></li><li><p>æ·»åŠ <code>GItBash</code>å­é¡¹ï¼ˆæ³¨æ„é¦–å­—æ¯å¤§å†™ï¼Œæˆ‘é…ç½®çš„æ—¶å€™å°å†™æ²¡æœ‰ç”Ÿæ•ˆï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯ç‰ˆæœ¬é—®é¢˜å¯¼è‡´çš„ï¼‰ä¿®æ”¹<code>path</code>ï¼Œå¦‚ä¸‹å›¾ã€‚</p></li><li><p>é…ç½®é»˜è®¤çš„<code>terminal</code>ä¸º<code>GitBash</code>, æ–¹å¼ä¸€ï¼šè®¾ç½®ä¸­æœç´¢<code>Default Profile: Windows</code>ï¼Œé€‰æ‹©<code>GitBash</code>ï¼Œæ–¹å¼äºŒï¼šç›´æ¥åœ¨<code>settings</code>ä¸­æ·»åŠ ä¸‹é¢é…ç½®ã€‚</p></li></ul><p><a href="/images/share/git-install-and-terminal-config/p1.png"><img src="/images/share/git-install-and-terminal-config/p1.png" alt="&#39;vscode-terminal&#39;" loading="lazy"></a></p><h3 id="é…ç½®æŒ‡ä»¤çš„alias"><a href="#é…ç½®æŒ‡ä»¤çš„alias" class="headerlink" title="é…ç½®æŒ‡ä»¤çš„alias"></a>é…ç½®æŒ‡ä»¤çš„<code>alias</code></h3><p>æ‰“å¼€æ–‡ä»¶<code>bash.bashrc</code>ï¼Œåœ¨å®‰è£…ç›®å½•ä¸‹çš„<code>Git/etc/bash.bashrc</code>ã€‚</p><p>æœ«å°¾æ·»åŠ ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">blog</span><span class="token operator">=</span><span class="token string">'cd /e/flynn/flynna.github.io'</span><span class="token builtin class-name">alias</span> <span class="token assign-left variable">serve</span><span class="token operator">=</span><span class="token string">'yarn serve'</span><span class="token comment"># ...</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> ç¯å¢ƒæ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> git-bash </tag>
            
            <tag> terminal </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscodeçš„ä½¿ç”¨ï¼Œè®¾ç½®åˆ†äº«ä»¥åŠæ’ä»¶æ¨è</title>
      <link href="/posts/vscode-setting-and-plugins/"/>
      <url>/posts/vscode-setting-and-plugins/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote><p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨</p></blockquote><p>å‰ç«¯å¼€å‘å·¥å…·æœ‰å¾ˆå¤šï¼Œç±»ä¼¼<code>HBuilderã€WebStormã€Visual Studio Code...</code>ç­‰ï¼Œå…¶ä¸­<code>vscode</code>ä»¥å…¶è½»é‡ä¸”å¼ºå¤§çš„ä»£ç ç¼–è¾‘åŠŸèƒ½å’Œä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿï¼Œç‹¬å—å‰ç«¯å·¥å¸ˆçš„é’çã€‚</p><span id="more"></span><h3 id="ç¼–è¾‘å™¨æ±‰åŒ–"><a href="#ç¼–è¾‘å™¨æ±‰åŒ–" class="headerlink" title="ç¼–è¾‘å™¨æ±‰åŒ–"></a>ç¼–è¾‘å™¨æ±‰åŒ–</h3><ul><li><p>æ–¹å¼ä¸€ï¼š<code>Ctrl+Shift+P</code>ï¼Œè¾“å…¥<code>configure language</code>å›è½¦ï¼Œåœ¨æ‰“å¼€çš„è¯­è¨€é…ç½®æ–‡ä»¶ä¸­å°†<code>en-us</code>ä¿®æ”¹ä¸º<code>zh-cn</code>ï¼Œ<code>Ctrl+S</code>ä¿å­˜è®¾ç½®ï¼Œé‡å¯ç”Ÿæ•ˆã€‚</p></li><li><p>æ–¹å¼äºŒï¼šæ’ä»¶å®‰è£…ã€‚æ‰“å¼€æ‰©å±•æœç´¢<code>Chinese (Simplified) (ç®€ä½“ä¸­æ–‡) Language Pack</code>å®‰è£…ï¼Œé‡å¯ç”Ÿæ•ˆã€‚</p></li></ul><hr><h3 id="vscode-æ¨èçš„ç”¨æˆ·è®¾ç½®"><a href="#vscode-æ¨èçš„ç”¨æˆ·è®¾ç½®" class="headerlink" title="vscode æ¨èçš„ç”¨æˆ·è®¾ç½®"></a>vscode æ¨èçš„ç”¨æˆ·è®¾ç½®</h3><p>å·¦ä¸‹è§’è®¾ç½®å›¾æ ‡ï¼Œç‚¹å‡»ï¼Œé€‰æ‹©è®¾ç½®ï¼Œæœç´¢è®¾ç½®ï¼Œè®¾ç½®ä»¥ä¸‹å†…å®¹(æ¨è)ã€‚æˆ–è€…ç›´æ¥<code>Ctrl+Shift+P</code>æœç´¢<code>setting.json</code>ï¼Œç›´æ¥åœ¨æ–‡ä»¶ä¸­ç¼–è¾‘ä¿®æ”¹ï¼Œç•Œé¢åŒ–æ“ä½œçš„è®¾ç½®æœ€ç»ˆä¹Ÿä¼šåŒæ­¥åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</p><h4 id="å…³é—­vscodeçš„è‡ªåŠ¨æ›´æ–°"><a href="#å…³é—­vscodeçš„è‡ªåŠ¨æ›´æ–°" class="headerlink" title="å…³é—­vscodeçš„è‡ªåŠ¨æ›´æ–°"></a>å…³é—­<code>vscode</code>çš„è‡ªåŠ¨æ›´æ–°</h4><p>é…ç½®æ˜¯å¦æ¥æ”¶è‡ªåŠ¨æ›´æ–°ï¼Œæ›´æ”¹åéœ€è¦é‡æ–°å¯åŠ¨ã€‚</p><blockquote><p>update mode:none</p></blockquote><h4 id="é»˜è®¤è¡Œå°¾å­—ç¬¦"><a href="#é»˜è®¤è¡Œå°¾å­—ç¬¦" class="headerlink" title="é»˜è®¤è¡Œå°¾å­—ç¬¦"></a>é»˜è®¤è¡Œå°¾å­—ç¬¦</h4><p><code>windows</code>ç³»ç»Ÿç¯å¢ƒä¸‹çš„æ¢è¡Œæ–¹å¼é»˜è®¤ä¸º<code>CRLF: \r\n</code>ï¼Œ<code>linux</code>ç³»ç»Ÿç¯å¢ƒä¸‹çš„æ¢è¡Œæ–¹å¼é»˜è®¤ä¸º<code>LF: \n</code>ã€‚é…ç½®è¡Œä½å­—ç¬¦ä¸º<code>\n</code>ã€‚</p><blockquote><p>Eol: \n</p></blockquote><h4 id="è‡ªåŠ¨ä¿å­˜"><a href="#è‡ªåŠ¨ä¿å­˜" class="headerlink" title="è‡ªåŠ¨ä¿å­˜"></a>è‡ªåŠ¨ä¿å­˜</h4><p>é¿å…ä¸€äº›ä¸å¯é€†çš„å¼‚å¸¸å…³é—­å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚<code>onFocusChange</code>-æ–‡ä»¶ç„¦ç‚¹å˜åŒ–æ—¶è‡ªåŠ¨ä¿å­˜ã€‚</p><blockquote><p>autoSave: onFocusChange</p></blockquote><h4 id="tabç›¸å…³"><a href="#tabç›¸å…³" class="headerlink" title="tabç›¸å…³"></a><code>tab</code>ç›¸å…³</h4><p>é…ç½®ä¸€ä¸ªåˆ¶è¡¨ç¬¦ç­‰äºçš„ç©ºæ ¼æ•°ä»¥åŠæ˜¯å¦å¯ç”¨<code>tab</code>è¡¥å…¨ã€‚</p><blockquote><p>Tab Size: 2</p></blockquote><blockquote><p>Tab Completion: on</p></blockquote><h4 id="â€˜æ‹¬å·å¯¹â€™ç€è‰²å’ŒåŒ¹é…"><a href="#â€˜æ‹¬å·å¯¹â€™ç€è‰²å’ŒåŒ¹é…" class="headerlink" title="â€˜æ‹¬å·å¯¹â€™ç€è‰²å’ŒåŒ¹é…"></a>â€˜æ‹¬å·å¯¹â€™ç€è‰²å’ŒåŒ¹é…</h4><p><code>Bracket Pair Colorization</code>æ’ä»¶å¼ƒç”¨ï¼Œæ’ä»¶åŠŸèƒ½å·²ç»è¢«<code>vscode</code>å†…ç½®ã€‚ç›´æ¥è®¾ç½®å°±å¯ä»¥æ§åˆ¶æ¯ä¸ªæ‹¬å·ç±»å‹æ˜¯å¦å…·æœ‰è‡ªå·±çš„ç‹¬ç«‹é¢œè‰²æ± ã€‚</p><blockquote><p>Bracket Pair Colorization: Enabled</p></blockquote><blockquote><p>Bracket Pair Colorzation: Independent Color Pool Per Bracket Type</p></blockquote><blockquote><p>Bracket Pairs: active</p></blockquote><h4 id="å…¶ä»–é…ç½®é¡¹"><a href="#å…¶ä»–é…ç½®é¡¹" class="headerlink" title="å…¶ä»–é…ç½®é¡¹"></a>å…¶ä»–é…ç½®é¡¹</h4><p>è®¾ç½®å­—ä½“å¤§å°</p><blockquote><p>Font Size: 14</p></blockquote><p>æ§åˆ¶åœ¨åˆ é™¤æ‹¬å·æˆ–è€…å¼•å·æ—¶ç¼–è¾‘å™¨æ˜¯å¦åº”åˆ é™¤ç›¸é‚»çš„å³å¼•å·æˆ–å³æ–¹æ‹¬å·ã€‚</p><blockquote><p>Auto Closing Delete: always</p></blockquote><p>åœ¨ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨è¿è¡Œ<code>ESLint</code>çš„è‡ªåŠ¨ä¿®å¤å‘½ä»¤<code>eslint --fix</code>ï¼Œä¿®æ”¹<code>setting.json</code></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"editor.codeActionsOnSave"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"source.fixAll.eslint"</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>è¶…å‡ºæ˜¾ç¤ºèŒƒå›´ï¼Œè‡ªåŠ¨æ¢è¡Œï¼ˆåªæ˜¯æ˜¾ç¤ºæ•ˆæœä¸Šï¼Œå¹¶æ²¡æœ‰çœŸæ­£æ¢è¡Œï¼‰</p><blockquote><p>word Wrap: on</p></blockquote><p>åœ¨<code>Word Wrap</code>ä¸º<code>wordWrapColumn</code>æˆ–<code>bounded</code>æ—¶ï¼Œæ§åˆ¶ç¼–è¾‘å™¨çš„æŠ˜è¡Œåˆ—ã€‚ï¼ˆä¸<code>word Wrap: on</code>ç›¸æ‚–ï¼Œæ ¹æ®è‡ªå·±å–œå¥½è®¾ç½®ï¼‰</p><blockquote><p>Word Wrap Column: 100</p></blockquote><p>å·®å¼‚ç¼–è¾‘å™¨æ˜¯å¦å¿½ç•¥å‰å¯¼ç©ºæ ¼æˆ–å°¾éšç©ºæ ¼ä¸­çš„æ›´æ”¹ã€‚</p><blockquote><p>Ignore Trim Whitespace: false</p></blockquote><hr><h3 id="æ’ä»¶-plugins-æ¨è"><a href="#æ’ä»¶-plugins-æ¨è" class="headerlink" title="æ’ä»¶(plugins)æ¨è"></a>æ’ä»¶(<code>plugins</code>)æ¨è</h3><h4 id="Guides"><a href="#Guides" class="headerlink" title="Guides"></a><a href="https://marketplace.visualstudio.com/items?itemName=spywhere.guides"><code>Guides</code></a></h4><p>å¸¦è‰²ç«–çº¿æç¤ºæ‰€å±åŒºåŸŸå—ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><a href="/images/posts/vscode-setting-and-plugins/p1.png"><img src="/images/posts/vscode-setting-and-plugins/p1.png" alt="vscode-setting-and-plugins-p1" loading="lazy"></a></p><h4 id="ESLint-ä»£ç è¯­æ³•è§„èŒƒæ ¡éªŒ"><a href="#ESLint-ä»£ç è¯­æ³•è§„èŒƒæ ¡éªŒ" class="headerlink" title="ESLint-ä»£ç è¯­æ³•è§„èŒƒæ ¡éªŒ"></a><a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint"><code>ESLint</code></a>-ä»£ç è¯­æ³•è§„èŒƒæ ¡éªŒ</h4><p>è¯¥æ‰©å±•ä½¿ç”¨å®‰è£…åœ¨æ‰“å¼€çš„å·¥ä½œåŒºæ–‡ä»¶å¤¹ä¸­çš„<code>ESLint</code>åº“ã€‚å¦‚æœè¯¥æ–‡ä»¶å¤¹æ²¡æœ‰æä¾›ä¸€ä¸ªï¼Œåˆ™æ‰©å±•ç¨‹åºä¼šæŸ¥æ‰¾å…¨å±€å®‰è£…ç‰ˆæœ¬ã€‚(éœ€è¦å…ˆå®‰è£…-ä¸€èˆ¬å®‰è£…åœ¨é¡¹ç›®çš„<code>devDependenice</code>)</p><p>é…ç½®æ–‡ä»¶ï¼šæ·»åŠ <code>.eslintrc</code>ï¼Œæˆ–è€…ç»ˆç«¯<code>Create ESLint configuration</code>ï¼Œå¦‚æœä½ åœ¨å…¨å±€å®‰è£…äº†<code>ESLint</code>ï¼Œæ‰§è¡Œ<code>eslint --init</code>ã€‚</p><h4 id="Prettier-Code-formatter-ä»£ç é£æ ¼æ ¼å¼åŒ–"><a href="#Prettier-Code-formatter-ä»£ç é£æ ¼æ ¼å¼åŒ–" class="headerlink" title="Prettier - Code formatter-ä»£ç é£æ ¼æ ¼å¼åŒ–"></a><a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode"><code>Prettier - Code formatter</code></a>-ä»£ç é£æ ¼æ ¼å¼åŒ–</h4><p>ä¸ºä¸åŒæ–‡ä»¶é…ç½®é»˜è®¤çš„æ ¼å¼åŒ–ç¨‹åºã€‚</p><ul><li><p>å¯é€šè¿‡ç•Œé¢æ“ä½œï¼ˆå³é”® -&gt; ä½¿ç”¨â€¦æ ¼å¼åŒ–æ–‡æ¡£ -&gt; é…ç½®é»˜è®¤æ ¼å¼åŒ–ç¨‹åº -&gt; é€‰æ‹©<code>prettier</code>ï¼‰</p></li><li><p>åœ¨<code>setting.json</code>æ–‡ä»¶ä¸­æ·»åŠ å­—æ®µé…ç½®ã€‚</p></li></ul><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token comment">// ... å…¶ä»–é…ç½®</span>  <span class="token property">"[javascript]"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"editor.defaultFormatter"</span><span class="token operator">:</span> <span class="token string">"esbenp.prettier-vscode"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p><code>prettier</code>ç›¸å…³é…ç½®é¡¹ï¼Œå¯é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹å¼è®¾ç½®ã€‚</p><ul><li>æ–¹å¼ä¸€ï¼Œæ·»åŠ å…¨å±€ç”¨æˆ·é…ç½®ï¼ˆ<code>vscode</code>è®¾ç½®ï¼‰</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ä½¿ç”¨å•å¼•å·ã€‚</span>singleQuote: <span class="token boolean">true</span><span class="token comment"># å°½å¯èƒ½æ§åˆ¶å°¾éšé€—å·çš„è¾“å‡ºã€‚</span>trailingComma: all<span class="token comment"># æŒ‡å®šæ¯è¡Œä»£ç çš„æœ€ä½³é•¿åº¦ï¼Œå¦‚æœè¶…å‡ºé•¿åº¦åˆ™æ¢è¡Œã€‚</span>printWidth: <span class="token number">100</span><span class="token comment"># å½“ç®­å¤´å‡½æ•°ä»…æœ‰ä¸€ä¸ªå‚æ•°æ—¶åŠ ä¸Šæ‹¬å·ã€‚</span>arrowParens: always</code></pre><ul><li>æ–¹å¼äºŒï¼šé¡¹ç›®çš„<code>package.json</code>ç§æ·»åŠ <code>prettier</code>å­—æ®µé…ç½®ã€‚</li></ul><h4 id="Document-This-js-ts-æ³¨é‡Šç”Ÿæˆ"><a href="#Document-This-js-ts-æ³¨é‡Šç”Ÿæˆ" class="headerlink" title="Document This-js/ts-æ³¨é‡Šç”Ÿæˆ"></a><a href="https://marketplace.visualstudio.com/items?itemName=oouo-diogo-perdigao.docthis"><code>Document This</code></a>-<code>js/ts</code>-æ³¨é‡Šç”Ÿæˆ</h4><p>å¯ä»¥è‡ªåŠ¨ä¸º<code>TypeScript</code>å’Œ<code>JavaScript</code>æ–‡ä»¶ç”Ÿæˆè¯¦ç»†çš„<code>JSDoc</code>æ³¨é‡Šã€‚ä½¿ç”¨ï¼š</p><ul><li><p>æ–¹å¼ä¸€ï¼šï¼Œå…‰æ ‡æŒ‡ä¸­éœ€è¦æ³¨é‡Šçš„å‡½æ•°ä½“ï¼ŒæŒ‰ä¸¤æ¬¡<code>Ctrl + Alt + d</code>å³å¯ã€‚</p></li><li><p>æ–¹å¼äºŒï¼šæ‰“å¼€å‘½ä»¤è¡Œæ–¹å¼<code>Ctrl + Shift + p</code>è¾“å…¥<code>document this</code>ã€‚</p></li></ul><h4 id="TODO-Highlight-é«˜äº®æç¤º"><a href="#TODO-Highlight-é«˜äº®æç¤º" class="headerlink" title="TODO Highlight-é«˜äº®æç¤º"></a><a href="https://marketplace.visualstudio.com/items?itemName=wayou.vscode-todo-highlight"><code>TODO Highlight</code></a>-é«˜äº®æç¤º</h4><p>ä»£ç è¡Œæ·»åŠ <code>TODO</code>å­—æ ·ï¼Œé«˜äº®æ•ˆæœæç¤ºã€‚çªå‡ºå°šæœªå®Œæˆçš„åŠŸèƒ½æˆ–è€…äº‹æƒ…ã€‚</p><h4 id="GitLens-â€”-Git-superchargedå’ŒGit-Graph"><a href="#GitLens-â€”-Git-superchargedå’ŒGit-Graph" class="headerlink" title="GitLens â€” Git superchargedå’ŒGit Graph"></a><a href="https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens"><code>GitLens â€” Git supercharged</code></a>å’Œ<a href="https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph"><code>Git Graph</code></a></h4><p>å‰è€…ï¼š</p><ul><li>æŸ¥çœ‹å•ä¸ªæ–‡ä»¶çš„æäº¤è®°å½•</li><li>ä»£ç è¡Œå°¾æµ…è‰²çš„<code>commit-message</code></li><li>é¼ æ ‡è¦†ç›–åˆ°ä»£ç å—ä¸Šï¼Œå¯ä»¥æŸ¥çœ‹æ›´è¯¦ç»†çš„æäº¤ä¿¡æ¯å’Œ<code>commit-id</code>ï¼Œæ›´ç”šè‡³èƒ½è·³è½¬åˆ°å½“æ¬¡è®°å½•æŸ¥çœ‹è¯¦ç»†æäº¤</li><li><code>git</code>å‘½ä»¤ç•Œé¢åŒ–æ“ä½œ</li><li>å…¶ä»–çš„ä¾§è¾¹æ è§†å›¾å’ŒåŠŸèƒ½</li></ul><p>åè€…ï¼š</p><ul><li>å›¾å½¢åŒ–å±•ç¤ºæ‰€æœ‰åˆ†æ”¯åŠç»“æ„ï¼Œå¯é€‰æ‹©æ€§è¿‡æ»¤åˆ†æ”¯å†æŸ¥çœ‹</li><li>å¯ç›´æ¥é€‰æ‹©æŸä¸€æ¬¡çš„æäº¤èŠ‚ç‚¹å³é”®æ‰§è¡ŒæŸäº›æ“ä½œï¼ˆ<code>revert/cherryPick/createBranch/drop?/checkOut/addTag</code>ç­‰ï¼‰</li><li>ç‚¹å‡»èŠ‚ç‚¹ï¼ŒæŸ¥çœ‹å½“æ¬¡æäº¤çš„è¯¦ç»†æ–‡ä»¶ä¿®æ”¹ï¼Œè¿›è¡Œä»£ç å®¡æŸ¥</li><li>å•å‡»ä¸€ä¸ªæäº¤ï¼Œ<code>CTRL/CMD</code>å•å‡»å¦ä¸€ä¸ªæäº¤æ¯”è¾ƒä»»ä½•ä¸¤ä¸ªæäº¤</li><li>å…¶ä»–åŠŸèƒ½</li></ul><h4 id="Search-node-modules-node-modulesæ–‡ä»¶æœç´¢"><a href="#Search-node-modules-node-modulesæ–‡ä»¶æœç´¢" class="headerlink" title="Search node_modules-node_modulesæ–‡ä»¶æœç´¢"></a><a href="https://marketplace.visualstudio.com/items?itemName=jasonnutter.search-node-modules"><code>Search node_modules</code></a>-<code>node_modules</code>æ–‡ä»¶æœç´¢</h4><p><code>Ctrl + Shift + p</code>ï¼Œæˆ–è€…<code>Ctrl + p è¾“å…¥ &gt;</code> æˆ–è€…æŒ‰ä¸‹ <code>F1</code>ã€‚åœ¨æ‰“å¼€çš„é¢æ¿ä¸­è¾“å…¥æˆ–è€…é€‰æ‹©<code>Search node_modules</code>ã€‚ç‚¹å‡»æŸ¥è¯¢å‡ºæ¥çš„<code>Search node_modules</code>åï¼Œä¼šæ ¹æ®å½“å‰çš„å·¥ä½œåŒºæ–‡ä»¶å¤¹æŸ¥æ‰¾<code>node_modules</code>å¹¶æ‰“å¼€ï¼Œæ”¯æŒ<strong>ç±»ä¼¼</strong><code>Ctrl + f</code>å¯¹è·¯å¾„çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶è¿›è¡Œæœç´¢ã€‚</p><h4 id="DotENV-envæ–‡ä»¶ä»£ç é«˜äº®"><a href="#DotENV-envæ–‡ä»¶ä»£ç é«˜äº®" class="headerlink" title="DotENV-.envæ–‡ä»¶ä»£ç é«˜äº®"></a><a href="https://marketplace.visualstudio.com/items?itemName=mikestead.dotenv"><code>DotENV</code></a>-<code>.env</code>æ–‡ä»¶ä»£ç é«˜äº®</h4><h4 id="Import-Cost-å†…è”æ˜¾ç¤ºå¯¼å…¥çš„åŒ…æ–‡ä»¶å¤§å°"><a href="#Import-Cost-å†…è”æ˜¾ç¤ºå¯¼å…¥çš„åŒ…æ–‡ä»¶å¤§å°" class="headerlink" title="Import Cost-å†…è”æ˜¾ç¤ºå¯¼å…¥çš„åŒ…æ–‡ä»¶å¤§å°"></a><a href="https://marketplace.visualstudio.com/items?itemName=wix.vscode-import-cost"><code>Import Cost</code></a>-å†…è”æ˜¾ç¤ºå¯¼å…¥çš„åŒ…æ–‡ä»¶å¤§å°</h4><h4 id="Template-String-Converter-å­—ç¬¦ä¸²ä¸æ¨¡æ¿å­—ç¬¦ä¸²çš„è‡ªåŠ¨è½¬æ¢"><a href="#Template-String-Converter-å­—ç¬¦ä¸²ä¸æ¨¡æ¿å­—ç¬¦ä¸²çš„è‡ªåŠ¨è½¬æ¢" class="headerlink" title="Template String Converter-å­—ç¬¦ä¸²ä¸æ¨¡æ¿å­—ç¬¦ä¸²çš„è‡ªåŠ¨è½¬æ¢"></a><a href="https://marketplace.visualstudio.com/items?itemName=meganrogge.template-string-converter"><code>Template String Converter</code></a>-å­—ç¬¦ä¸²ä¸æ¨¡æ¿å­—ç¬¦ä¸²çš„è‡ªåŠ¨è½¬æ¢</h4><h4 id="TypeScript-Barrel-Generator-tsæ–‡ä»¶å¯¼å‡ºåˆ°index"><a href="#TypeScript-Barrel-Generator-tsæ–‡ä»¶å¯¼å‡ºåˆ°index" class="headerlink" title="TypeScript Barrel Generator-tsæ–‡ä»¶å¯¼å‡ºåˆ°index"></a><a href="https://marketplace.visualstudio.com/items?itemName=eliostruyf.vscode-typescript-exportallmodules"><code>TypeScript Barrel Generator</code></a>-<code>ts</code>æ–‡ä»¶å¯¼å‡ºåˆ°<code>index</code></h4><p>å…è®¸é€šè¿‡æˆ–è€…è‡ªåŠ¨å¯¼å‡ºæŸä¸ªæ–‡ä»¶å¤¹ï¼ˆæ¨¡å—ï¼‰çš„æ‰€æœ‰<code>export</code>è‡³<code>index.ts</code>ï¼Œä½¿ç”¨æ—¶ç›´æ¥å¼•å…¥<code>index</code>å³å¯ã€‚</p><p>ä½¿ç”¨ï¼š</p><ul><li><p>æ–¹å¼ä¸€ï¼šå³é”®æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©<code>Typescript: export all modules</code></p></li><li><p>æ–¹å¼äºŒï¼šæ‰‹åŠ¨åˆ›å»º<code>index.ts</code>ï¼Œå¦‚ä¸‹ï¼š</p></li></ul><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// ä¾‹å¦‚ folder/aã€folder/b éƒ½ export äº†ä¸€äº›å˜é‡æˆ–è€…å‡½æ•°</span><span class="token comment">// åˆ›å»º folder/index.ts</span><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'./a'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'./b'</span><span class="token punctuation">;</span></code></pre><h4 id="Code-Runner-ä»£ç è¿è¡Œå™¨"><a href="#Code-Runner-ä»£ç è¿è¡Œå™¨" class="headerlink" title="Code Runner-ä»£ç è¿è¡Œå™¨"></a><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner"><code>Code Runner</code></a>-ä»£ç è¿è¡Œå™¨</h4><p>ç‚¹å‡»ç¼–è¾‘å™¨å³ä¸Šè§’ç±»ä¼¼ |&gt; çš„æŒ‰é’®ï¼Œå³å¯æ‰§è¡Œå½“å‰æ–‡ä»¶ä»£ç ç‰‡æ®µï¼Œå¹¶åœ¨ç¼–è¾‘å™¨å†…è¾“å‡ºç»“æœã€‚</p><h4 id="Path-Intellisense-è·¯å¾„æ„ŸçŸ¥"><a href="#Path-Intellisense-è·¯å¾„æ„ŸçŸ¥" class="headerlink" title="Path Intellisense-è·¯å¾„æ„ŸçŸ¥"></a><a href="https://marketplace.visualstudio.com/items?itemName=christian-kohler.path-intellisense"><code>Path Intellisense</code></a>-è·¯å¾„æ„ŸçŸ¥</h4><p>è¾“å…¥è·¯å¾„æ—¶ï¼Œæ™ºèƒ½æç¤ºï¼Œå¸®åŠ©è‡ªåŠ¨å®Œæˆæ–‡ä»¶åå¡«å……ã€‚</p><h4 id="Better-Comments-æ³¨é‡Šç¾åŒ–"><a href="#Better-Comments-æ³¨é‡Šç¾åŒ–" class="headerlink" title="Better Comments-æ³¨é‡Šç¾åŒ–"></a><code>Better Comments</code>-æ³¨é‡Šç¾åŒ–</h4><p>æ ¹æ®ç‰¹æ®Šå­—ç¬¦å‰ç¼€æ ‡è¯†ä¸åŒç±»å‹çš„æ³¨é‡Šã€‚</p><h4 id="Auto-Rename-Tagå’ŒAuto-Close-Tag"><a href="#Auto-Rename-Tagå’ŒAuto-Close-Tag" class="headerlink" title="Auto Rename Tagå’ŒAuto Close Tag"></a><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag"><code>Auto Rename Tag</code></a>å’Œ<a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-close-tag"><code>Auto Close Tag</code></a></h4><p>å‰è€…ï¼šæ ‡ç­¾é‡å‘½åæ—¶ï¼Œæˆå¯¹çš„å¦å¤–ä¸€åŠæ ‡ç­¾ä¼šè‡ªåŠ¨é‡å‘½åã€‚</p><p>åè€…ï¼šè¾“å…¥å‰åŠä¸ªæ ‡ç­¾<code>&lt;div&gt;</code>ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆå¦å¤–ä¸€åŠç”¨äºå…³é—­çš„æ ‡ç­¾<code>&lt;/div&gt;</code></p><h4 id="Markdown-All-in-One-Markdown-æ‰€æœ‰åŠŸèƒ½æ”¯æŒ"><a href="#Markdown-All-in-One-Markdown-æ‰€æœ‰åŠŸèƒ½æ”¯æŒ" class="headerlink" title="Markdown All in One-Markdown æ‰€æœ‰åŠŸèƒ½æ”¯æŒ"></a><a href="https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one"><code>Markdown All in One</code></a>-<code>Markdown æ‰€æœ‰åŠŸèƒ½æ”¯æŒ</code></h4><p>åœ¨<code>typora</code>å¼€å§‹æ”¶è´¹åï¼Œå‘ç°çš„ä¸€æ¬¾<code>markdown</code>æ’ä»¶ã€‚<code>.md</code>æ–‡ä»¶çš„å³ä¸Šè§’ç±»ä¼¼çª—å£æ‰©å±•çš„æŸ¥çœ‹å›¾æ ‡ï¼Œç‚¹å‡»åä¼šåœ¨å³ä¾§çª—å£æ‰“å¼€<code>Markdown</code>çš„é¢„è§ˆæ•ˆæœé¡µé¢ã€‚</p><h4 id="open-in-browser-æµè§ˆå™¨æ‰“å¼€æ–‡ä»¶"><a href="#open-in-browser-æµè§ˆå™¨æ‰“å¼€æ–‡ä»¶" class="headerlink" title="open in browser-æµè§ˆå™¨æ‰“å¼€æ–‡ä»¶"></a><a href="https://marketplace.visualstudio.com/items?itemName=techer.open-in-browser"><code>open in browser</code></a>-æµè§ˆå™¨æ‰“å¼€æ–‡ä»¶</h4><p>åœ¨å†™<code>html</code>æ–‡ä»¶çš„æ—¶å€™ï¼Œæ–¹ä¾¿å¿«é€Ÿåœ¨æµè§ˆå™¨æ‰“å¼€è¯¥æ–‡ä»¶ã€‚<code>Alt + b</code>å¿«æ·é”®æ‰“å¼€ï¼Œæˆ–è€…å³é”® <code>open in browser</code>ã€‚å¯¹åº”è¿˜æœ‰ä¸€ä¸ªæ’ä»¶<code>View In Browser</code>ï¼Œä¸è¿‡ä½œè€…å·²ç»ä¸å†ç»´æŠ¤äº†ã€‚</p><h4 id="Color-Highlight-é¢œè‰²ä»£ç æ•ˆæœå®æ—¶é¢„è§ˆ"><a href="#Color-Highlight-é¢œè‰²ä»£ç æ•ˆæœå®æ—¶é¢„è§ˆ" class="headerlink" title="Color Highlight-é¢œè‰²ä»£ç æ•ˆæœå®æ—¶é¢„è§ˆ"></a><a href="https://marketplace.visualstudio.com/items?itemName=naumovs.color-highlight"><code>Color Highlight</code></a>-é¢œè‰²ä»£ç æ•ˆæœå®æ—¶é¢„è§ˆ</h4><p>å¦‚æœä½ ä¸ä»…ä»…æ˜¯æƒ³é¢„è§ˆé¢œè‰²ï¼Œè€Œæ˜¯éœ€è¦ç±»ä¼¼<code>picker</code>çš„é¢œè‰²é€‰æ‹©å™¨æ¥å¯¹å·²æœ‰çš„é¢œè‰²è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥å®‰è£…å¦å¤–ä¸€ä¸ªæ’ä»¶<code>Flutter Color</code>ï¼Œåˆæˆ–è€…ä½ å¯ä»¥ä¸¤è€…ä¸€èµ·ä½¿ç”¨ã€‚</p><h4 id="Code-Spell-Checker-å•è¯æ‹¼å†™æ£€æµ‹"><a href="#Code-Spell-Checker-å•è¯æ‹¼å†™æ£€æµ‹" class="headerlink" title="Code Spell Checker-å•è¯æ‹¼å†™æ£€æµ‹"></a><a href="https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker"><code>Code Spell Checker</code></a>-å•è¯æ‹¼å†™æ£€æµ‹</h4><p>è‡ªåŠ¨æ•è·å¸¸è§çš„ï¼ˆå•è¯ï¼‰æ‹¼å†™é”™è¯¯ï¼ŒåŒæ—¶é™ä½è¯¯æŠ¥ï¼Œé€‚ç”¨äºé©¼å³°å¼ä»£ç ã€‚</p><h4 id="filesize-å®æ—¶è§‚æµ‹æ–‡ä»¶bundle"><a href="#filesize-å®æ—¶è§‚æµ‹æ–‡ä»¶bundle" class="headerlink" title="filesize-å®æ—¶è§‚æµ‹æ–‡ä»¶bundle"></a><a href="https://marketplace.visualstudio.com/items?itemName=mkxml.vscode-filesize"><code>filesize</code></a>-å®æ—¶è§‚æµ‹æ–‡ä»¶<code>bundle</code></h4><p>åœ¨çŠ¶æ€æ ä¸­æ˜¾ç¤ºå½“å‰æ–‡ä»¶å¤§å°ï¼Œç‚¹å‡»çŠ¶æ€æ ä¸­çš„æ–‡ä»¶å¤§å°æ—¶ï¼Œä¼šåœ¨<code>OUTPUT</code>ä¸­è¾“å‡º<code>Gzip</code>å¤§å°ã€‚</p><h4 id="json2ts-å°†å‰ªè´´æ¿å†…å®¹è½¬ä¸ºts-interface"><a href="#json2ts-å°†å‰ªè´´æ¿å†…å®¹è½¬ä¸ºts-interface" class="headerlink" title="json2ts-å°†å‰ªè´´æ¿å†…å®¹è½¬ä¸ºts-interface"></a><a href="https://marketplace.visualstudio.com/items?itemName=GregorBiswanger.json2ts"><code>json2ts</code></a>-å°†å‰ªè´´æ¿å†…å®¹è½¬ä¸º<code>ts-interface</code></h4><p>ç®€ç›´<code>yyds...</code>ï¼Œå®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä½ ä½¿ç”¨åˆ°äº†<code>ts</code>ï¼Œå¯ä»¥ä¸ºä½ çœå»å¾ˆå¤šå®šä¹‰ç±»å‹çš„æ—¶é—´ã€‚~~æ¯”å¦‚ï¼šå°†æ¥å£è¿”å›çš„æ•°æ®è½¬ä¸º interface ~~</p><p>é™¤äº†è¿™ä¸ªæ’ä»¶ä»¥å¤–ï¼Œä½ ä¹Ÿå¯ä»¥åˆ° <a href="http://json2ts.com/">http://json2ts.com/</a> å®ç°æ›´å®Œæ•´çš„è½¬æ¢ï¼ˆå› ä¸ºæ’ä»¶åªä¼šæå–<code>json</code>å†…å®¹è¿›è¡Œè½¬æ¢ï¼‰</p><h4 id="koroFileHeader-or-fileheader-åœ¨æ–‡ä»¶å¤´ç”Ÿæˆä½œè€…ä¿¡æ¯"><a href="#koroFileHeader-or-fileheader-åœ¨æ–‡ä»¶å¤´ç”Ÿæˆä½œè€…ä¿¡æ¯" class="headerlink" title="[koroFileHeader or fileheader]-åœ¨æ–‡ä»¶å¤´ç”Ÿæˆä½œè€…ä¿¡æ¯"></a>[<code>koroFileHeader</code> or <code>fileheader</code>]-åœ¨æ–‡ä»¶å¤´ç”Ÿæˆä½œè€…ä¿¡æ¯</h4><p>æ„Ÿè§‰å¾ˆé¸¡è‚‹çš„ä¸€ä¸ªåŠŸèƒ½ <del>git çš„ æ–‡ä»¶å˜æ›´è®°å½•åŒæ ·å¯ä»¥æŸ¥çœ‹ï¼Œä¸”æ›´åŠ å¼ºå¤§</del> â€¦ç›®å‰æ²¡æ€ä¹ˆç”¨åˆ°ï¼Œä¸æ’é™¤åˆ«çš„é¡¹ç›®ç»„æœ‰è¿™ç§çˆ±å¥½â€¦</p><h4 id="vscode-pdf-é¢„è§ˆpdf"><a href="#vscode-pdf-é¢„è§ˆpdf" class="headerlink" title="vscode-pdf-é¢„è§ˆpdf"></a><a href="https://marketplace.visualstudio.com/items?itemName=tomoki1207.pdf">vscode-pdf</a>-é¢„è§ˆ<code>pdf</code></h4><h4 id="LeetCode"><a href="#LeetCode" class="headerlink" title="LeetCode"></a><a href="https://marketplace.visualstudio.com/items?itemName=LeetCode.vscode-leetcode"><code>LeetCode</code></a></h4><p>LeetCode åœ¨ VS Code ä¸­åˆ·é¢˜ã€‚<del>ï¼ˆå¦‚æœä½ è§‰å¾—æœ‰å¿…è¦ï¼‰</del></p><div class="success"><blockquote><p>æ¡†æ¶ç›¸å…³</p></blockquote></div><h4 id="ES7-React-Redux-React-Native-snippets-Reactä»£ç ç‰‡æ®µ"><a href="#ES7-React-Redux-React-Native-snippets-Reactä»£ç ç‰‡æ®µ" class="headerlink" title="ES7+ React/Redux/React-Native snippets-Reactä»£ç ç‰‡æ®µ"></a><a href="https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets"><code>ES7+ React/Redux/React-Native snippets</code></a>-<code>React</code>ä»£ç ç‰‡æ®µ</h4><p>é›†æˆäº†<code>ES7</code>æ ‡å‡†åŠä¸€ä¸‹çš„è¯­æ³•ç‰‡æ®µâ€¦æ„å‘³ç€ä¾‹å¦‚<code>JavaScript (ES6) code snippets</code>æä¾›çš„ç‰‡æ®µï¼Œä¹Ÿæ˜¯æ”¯æŒçš„â€¦</p><h4 id="Vue-3-Snippets-Vueä»£ç ç‰‡æ®µ"><a href="#Vue-3-Snippets-Vueä»£ç ç‰‡æ®µ" class="headerlink" title="Vue 3 Snippets-Vueä»£ç ç‰‡æ®µ"></a><a href="https://marketplace.visualstudio.com/items?itemName=hollowtree.vue-snippets"><code>Vue 3 Snippets</code></a>-<code>Vue</code>ä»£ç ç‰‡æ®µ</h4><p>åŸºäº<code>Vue 2 Snippets</code>å¼€å‘çš„å…¼å®¹é€‚é…<code>Vue 3</code>çš„æ’ä»¶ã€‚å¦å¤–ä¸€ä¸ªç‰‡æ®µæ’ä»¶<code>VueHelper</code>ã€‚</p><h4 id="Vue-Language-Features-Volar-Vue-è¯­è¨€æ‰©å±•"><a href="#Vue-Language-Features-Volar-Vue-è¯­è¨€æ‰©å±•" class="headerlink" title="Vue Language Features (Volar)-Vue è¯­è¨€æ‰©å±•"></a><a href="https://marketplace.visualstudio.com/items?itemName=Vue.volar"><code>Vue Language Features (Volar)</code></a>-<code>Vue è¯­è¨€æ‰©å±•</code></h4><p>ä¸º<code>Vue template</code>æä¾›åŸç”Ÿçš„<code>TypeScript</code>è¯­è¨€æœåŠ¡ã€‚æ¨èåœ¨<code>Vue3</code>é¡¹ç›®ä¸­å¼€å¯ã€‚</p><h4 id="Vetur-Vueç›¸å…³æ”¯æŒ"><a href="#Vetur-Vueç›¸å…³æ”¯æŒ" class="headerlink" title="Vetur-Vueç›¸å…³æ”¯æŒ"></a><a href="https://marketplace.visualstudio.com/items?itemName=octref.vetur"><code>Vetur</code></a>-<code>Vueç›¸å…³æ”¯æŒ</code></h4><ul><li>è¯­æ³•ã€è¯­ä¹‰é«˜äº®</li><li><code>Vue</code>ä»£ç ç‰‡æ®µ</li><li>æ ¼å¼åŒ–ç›¸å…³ä»£ç </li><li>æ™ºèƒ½æ„ŸçŸ¥åŠ<code>debug</code></li><li>é”™è¯¯æ£€æµ‹</li><li>å…¶ä»–åŠŸèƒ½</li></ul><div class="success"><blockquote><p>ä¸»é¢˜ç›¸å…³</p></blockquote></div><h4 id="One-Dark-Proå’ŒMaterial-Theme-vscodeä¸»é¢˜"><a href="#One-Dark-Proå’ŒMaterial-Theme-vscodeä¸»é¢˜" class="headerlink" title="One Dark Proå’ŒMaterial Theme-vscodeä¸»é¢˜"></a><a href="https://marketplace.visualstudio.com/items?itemName=zhuangtongfa.Material-theme"><code>One Dark Pro</code></a>å’Œ<a href="https://marketplace.visualstudio.com/items?itemName=Equinusocio.vsc-material-theme"><code>Material Theme</code></a>-<code>vscodeä¸»é¢˜</code></h4><h4 id="Material-Icon-Theme-vscodeæ–‡ä»¶å›¾æ ‡ä¸»é¢˜"><a href="#Material-Icon-Theme-vscodeæ–‡ä»¶å›¾æ ‡ä¸»é¢˜" class="headerlink" title="Material Icon Theme-vscodeæ–‡ä»¶å›¾æ ‡ä¸»é¢˜"></a><a href="https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme"><code>Material Icon Theme</code></a>-<code>vscodeæ–‡ä»¶å›¾æ ‡ä¸»é¢˜</code></h4><hr><h3 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h3><h4 id="è·³è½¬åˆ°ä»£ç è¡Œ"><a href="#è·³è½¬åˆ°ä»£ç è¡Œ" class="headerlink" title="è·³è½¬åˆ°ä»£ç è¡Œ"></a>è·³è½¬åˆ°ä»£ç è¡Œ</h4><p><code>Ctrl + g</code>æˆ–è€…<code>Ctrl + p</code>è¾“å…¥<code>:</code>ï¼Œå†è¾“å…¥è¡Œå·å›è½¦ï¼Œå³å¯å®Œæˆè¡Œè·³è½¬</p><h4 id="æ–‡ä»¶æœç´¢"><a href="#æ–‡ä»¶æœç´¢" class="headerlink" title="æ–‡ä»¶æœç´¢"></a>æ–‡ä»¶æœç´¢</h4><p><code>Ctrl + p</code>è¾“å…¥æ–‡ä»¶åï¼Œå›è½¦ã€‚æ–‡ä»¶å…§æœç´¢<code>Ctrl + f</code></p><h4 id="æ‰“å¼€æœ€è¿‘å·¥ä½œåŒºæˆ–è€…æ–‡ä»¶ï¼ˆå¤¹ï¼‰"><a href="#æ‰“å¼€æœ€è¿‘å·¥ä½œåŒºæˆ–è€…æ–‡ä»¶ï¼ˆå¤¹ï¼‰" class="headerlink" title="æ‰“å¼€æœ€è¿‘å·¥ä½œåŒºæˆ–è€…æ–‡ä»¶ï¼ˆå¤¹ï¼‰"></a>æ‰“å¼€æœ€è¿‘å·¥ä½œåŒºæˆ–è€…æ–‡ä»¶ï¼ˆå¤¹ï¼‰</h4><p><code>Ctrl + r</code> é€‰æ‹©ä½ çš„å·¥ä½œåŒºï¼ŒæŒ‰ä½<code>Ctrl</code>ç‚¹å‡»æ‰“å¼€ï¼Œä¼šæ–°å¼€ä¸€ä¸ª<code>vscode</code>æ‰“å¼€ã€‚ä¸åŠ <code>Ctrl</code>ä¼šåœ¨å½“å‰çª—å£æ›¿æ¢å¹¶æ‰“å¼€ã€‚</p><h4 id="æ–°å»ºæ–‡ä»¶å’Œæ–°å¼€vscode"><a href="#æ–°å»ºæ–‡ä»¶å’Œæ–°å¼€vscode" class="headerlink" title="æ–°å»ºæ–‡ä»¶å’Œæ–°å¼€vscode"></a>æ–°å»ºæ–‡ä»¶å’Œæ–°å¼€<code>vscode</code></h4><p><code>Ctrl + n</code>æ–°å»ºæ–‡ä»¶ï¼Œ<code>Ctrl + Shift + n</code>æ–°å¼€<code>vscode</code>ã€‚</p><h4 id="æ–°é”®è¡Œ"><a href="#æ–°é”®è¡Œ" class="headerlink" title="æ–°é”®è¡Œ"></a>æ–°é”®è¡Œ</h4><p><code>Ctrl + å›è½¦</code>ï¼Œæ•ˆæœç±»ä¼¼åœ¨è¡Œå°¾æŒ‰ä¸‹å›è½¦ã€‚å¸¦æ¥çš„ä¾¿æ·å°±æ˜¯ä¸éœ€è¦å…ˆå°†å…‰æ ‡ç§»åŠ¨åˆ°è¡Œå°¾ã€‚</p><h4 id="æ‰“å¼€æ–‡ä»¶Ctrl-oï¼Œæ‰“å¼€ã€å…³é—­ç»ˆç«¯Ctrl"><a href="#æ‰“å¼€æ–‡ä»¶Ctrl-oï¼Œæ‰“å¼€ã€å…³é—­ç»ˆç«¯Ctrl" class="headerlink" title="æ‰“å¼€æ–‡ä»¶Ctrl + oï¼Œæ‰“å¼€ã€å…³é—­ç»ˆç«¯Ctrl + ~"></a>æ‰“å¼€æ–‡ä»¶<code>Ctrl + o</code>ï¼Œæ‰“å¼€ã€å…³é—­ç»ˆç«¯<code>Ctrl + ~</code></h4><h4 id="ä»£ç è¡Œå¿«é€Ÿå¤åˆ¶ã€å‰ªè´´"><a href="#ä»£ç è¡Œå¿«é€Ÿå¤åˆ¶ã€å‰ªè´´" class="headerlink" title="ä»£ç è¡Œå¿«é€Ÿå¤åˆ¶ã€å‰ªè´´"></a>ä»£ç è¡Œå¿«é€Ÿå¤åˆ¶ã€å‰ªè´´</h4><p>å½“éœ€è¦å¯¹æ•´è¡Œä»£ç æ“ä½œæ—¶ï¼Œæ— éœ€é€‰ä¸­ç›´æ¥<code>Ctrl + c</code>å³å¯å¤åˆ¶ï¼Œ<code>Ctrl + x</code>å³å¯å‰ªè´´ã€‚</p><p>åŒæ—¶æŒ‰ä½<code>Shift + Alt + æ–¹å‘é”®ï¼ˆä¸Š/ä¸‹ï¼‰</code>ï¼Œå¯å®ç°åŸºäºå½“å‰è¡Œçš„å‘ä¸Šå‘ä¸‹å¤åˆ¶ç²˜è´´ã€‚</p><h4 id="ç¼©è¿›è°ƒæ•´"><a href="#ç¼©è¿›è°ƒæ•´" class="headerlink" title="ç¼©è¿›è°ƒæ•´"></a>ç¼©è¿›è°ƒæ•´</h4><p><code>Tab</code>å‘åç¼©è¿›ï¼Œ<code>Shift + Tab</code>å‘å‰ç¼©è¿›ã€‚</p><h4 id="æ‰¹é‡é€‰ä¸­"><a href="#æ‰¹é‡é€‰ä¸­" class="headerlink" title="æ‰¹é‡é€‰ä¸­"></a>æ‰¹é‡é€‰ä¸­</h4><p>æŒ‰ä½<code>Shift</code>ï¼Œé¼ æ ‡å·¦é”®ç‚¹å‡»å¼€å¤´ç»“å°¾ï¼ˆæˆ–è€…æ–¹å‘é”®ï¼‰ï¼Œå³å¯é€‰ä¸­ã€‚<code>Ctrl + a</code>é€‰ä¸­æ‰€æœ‰ã€‚é€‰ä¸­å˜é‡<code>or</code>å‡½æ•°å<code>Ctrl + d</code>æŒç»­ä½¿ç”¨å³å¯<strong>æ‰¹é‡æŸ¥æ‰¾</strong>è¯¥å‡½æ•°æˆ–å˜é‡ã€‚</p><h4 id="ä¿®æ”¹å¼•ç”¨"><a href="#ä¿®æ”¹å¼•ç”¨" class="headerlink" title="ä¿®æ”¹å¼•ç”¨"></a>ä¿®æ”¹å¼•ç”¨</h4><p>é¼ æ ‡ç‚¹å‡»å˜é‡æˆ–è€…å‡½æ•°ï¼ŒæŒ‰ä¸‹<code>F2</code>ï¼Œè¾“å…¥ä½ è¦æ›´æ”¹çš„åç§°ï¼Œå›è½¦å³å¯<strong>åŒæ­¥ä¿®æ”¹</strong>æ‰€æœ‰ç”¨åˆ°è¯¥å˜é‡çš„åç§°ã€‚</p><h4 id="æ·»åŠ æ³¨é‡Š"><a href="#æ·»åŠ æ³¨é‡Š" class="headerlink" title="æ·»åŠ æ³¨é‡Š"></a>æ·»åŠ æ³¨é‡Š</h4><p>å•è¡Œæ³¨é‡Š<code>Ctrl + /</code>ï¼Œå¤šè¡Œæ³¨é‡Š<code>Shift + Alt + a</code>ã€‚</p><h4 id="å¤šå…‰æ ‡"><a href="#å¤šå…‰æ ‡" class="headerlink" title="å¤šå…‰æ ‡"></a>å¤šå…‰æ ‡</h4><p>æŒ‰ä½<code>Alt</code>é”®ï¼Œé¼ æ ‡å·¦é”®æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„å…‰æ ‡ã€‚æˆ–è€…<code>Ctrl + Alt + æ–¹å‘é”®</code>åˆ›å»ºå¤šä¸ªå…‰æ ‡ã€‚</p><h4 id="çª—å£æ‹†åˆ†"><a href="#çª—å£æ‹†åˆ†" class="headerlink" title="çª—å£æ‹†åˆ†"></a>çª—å£æ‹†åˆ†</h4><p><code>Ctrl + \</code>ï¼Œåœ¨å³ä¾§å¼€ä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p><h4 id="çª—å£è§†å›¾ç§»åŠ¨ï¼ˆæ»šè½®æ•ˆæœï¼‰"><a href="#çª—å£è§†å›¾ç§»åŠ¨ï¼ˆæ»šè½®æ•ˆæœï¼‰" class="headerlink" title="çª—å£è§†å›¾ç§»åŠ¨ï¼ˆæ»šè½®æ•ˆæœï¼‰"></a>çª—å£è§†å›¾ç§»åŠ¨ï¼ˆæ»šè½®æ•ˆæœï¼‰</h4><p>æŒ‰ä½<code>Ctrl</code>ï¼Œç‚¹å‡»æ–¹å‘é”®ä¸Šä¸‹ï¼Œå³å¯å®ç°æ»šåŠ¨ã€‚</p><h4 id="ä»£ç è¡Œç§»åŠ¨"><a href="#ä»£ç è¡Œç§»åŠ¨" class="headerlink" title="ä»£ç è¡Œç§»åŠ¨"></a>ä»£ç è¡Œç§»åŠ¨</h4><p>æŒ‰ä½<code>Alt</code>ï¼Œç‚¹å‡»æ–¹å‘é”®ä¸Šä¸‹ï¼Œå³å¯å®Œæˆå…‰æ ‡ä»£ç è¡Œçš„ç§»åŠ¨ï¼Œå¦‚è¡Œ 11 ç§»åŠ¨åˆ°è¡Œ 19ã€‚</p><h4 id="ä»£ç debug"><a href="#ä»£ç debug" class="headerlink" title="ä»£ç debug"></a>ä»£ç <code>debug</code></h4><ul><li><p>æ–¹å¼ä¸€ï¼šå¯ä»¥é€‰æ‹©ä¾§è¾¹æ çš„è°ƒè¯•æŒ‰é’®ï¼Œé€‰æ‹©é…ç½®è¿›è¡Œè°ƒè¯•ã€‚</p></li><li><p>æ–¹å¼äºŒï¼š<code>F5</code>è¿è¡Œè°ƒè¯•ã€‚</p></li></ul><h4 id="ä»£ç æ ¼å¼åŒ–"><a href="#ä»£ç æ ¼å¼åŒ–" class="headerlink" title="ä»£ç æ ¼å¼åŒ–"></a>ä»£ç æ ¼å¼åŒ–</h4><blockquote><p>(Code å¿«æ·é”® Shift + Alt + F) æ ¼å¼åŒ–å·¥å…·ä½¿ç”¨ prettier</p></blockquote><blockquote><p>(Code å¿«æ·é”® Shift + Alt + O) æ•´ç† import å¼•ç”¨</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ”¶è—å®‰åˆ© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vscode </tag>
            
            <tag> plugins </tag>
            
            <tag> è®¾ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é—å¿˜ï¼Œæ•™ä½ æ´’è„±</title>
      <link href="/diary/forget-thing/"/>
      <url>/diary/forget-thing/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®éšç¬”æ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javascriptä¸­çš„ç»§æ‰¿æ–¹æ¡ˆåŠå…¶å®ç°</title>
      <link href="/notes/javascript-extends/"/>
      <url>/notes/javascript-extends/</url>
      
        <content type="html"><![CDATA[<h3 id="ç»§æ‰¿-extends-å¯¼è¯­"><a href="#ç»§æ‰¿-extends-å¯¼è¯­" class="headerlink" title="ç»§æ‰¿(extends) å¯¼è¯­"></a>ç»§æ‰¿(extends) å¯¼è¯­</h3><p>ä»»ä½•ä¸€é—¨é¢å‘å¯¹è±¡çš„è¯­è¨€éƒ½æœ‰ç»§æ‰¿ï¼Œç»§æ‰¿ç®€å•çš„è¯´ å³ä¸ºå­ç±»ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”åœ¨ç»§æ‰¿ä»¥åå¯ä»¥å¯¹è¿™äº›å±æ€§å’Œæ–¹æ³•è¿›è¡Œæ“ä½œåŠä½¿ç”¨ã€‚</p><p>ä¸¾ä¸ªæ —å­ï¼šï¼ˆä½ çš„çˆ¶äº²å¾ˆå¯Œæœ‰ï¼Œä½ ç»§æ‰¿ä½ çˆ¶äº²çš„è´¢äº§ä»¥åï¼Œä½ ä¹Ÿå°±å˜å¾—å’Œä»–ä¸€æ ·å¯Œæœ‰ã€‚ï¼‰</p><p><code>js</code>è™½ç„¶æ˜¯ä¸€é—¨å¼±ç±»å‹è¯­è¨€ï¼Œä½†æ˜¯å´ç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§å¾ˆå¥½çš„å®ç°ç»§æ‰¿çš„æ–¹æ³•â€”â€”åŸºäºåŸå‹å®ç° ä¸çŸ¥é“åŸå‹çš„ç›†å‹ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes">æˆ³è¿™é‡Œ</a></p><span id="more"></span><h3 id="ç»§æ‰¿çš„å…­ç§å®ç°"><a href="#ç»§æ‰¿çš„å…­ç§å®ç°" class="headerlink" title="ç»§æ‰¿çš„å…­ç§å®ç°"></a>ç»§æ‰¿çš„å…­ç§å®ç°</h3><p><code>ä¸»è¦å¯¹ç»§æ‰¿ç†Ÿæ‚‰æŒæ¡ï¼Œæ‰€ä»¥æ²¡æœ‰å•ç‹¬å†™æµ‹è¯•ç”¨ä¾‹è¿›è¡Œæµ‹è¯•ã€‚</code></p><p>å®šä¹‰åŸºç±»(çˆ¶ç±»)<code>Man</code>ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Man</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> params<span class="token punctuation">.</span>name<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'my name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// åŸå‹ä¸Šçš„æ–¹æ³•</span><span class="token class-name">Man</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'æ­£åœ¨åƒ'</span> <span class="token operator">+</span> food<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h4 id="æ‹·è´ç»§æ‰¿"><a href="#æ‹·è´ç»§æ‰¿" class="headerlink" title="æ‹·è´ç»§æ‰¿"></a>æ‹·è´ç»§æ‰¿</h4><blockquote><p>å®ç°ï¼šæšä¸¾çˆ¶ç±»å®ä¾‹çš„æ–¹æ³•åŠå±æ€§ï¼Œæ‹·è´åˆ°å­ç±»çš„åŸå‹ä¸Š</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> man1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> man1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// éœ€è¦æ‹·è´åŸºç±»åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œæ‰€ä»¥ç§»é™¤äº† hasOwnProperty åˆ¤æ–­</span>    <span class="token comment">// if (Object.hasOwnProperty.call(man1, key)) &#123;</span>    <span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> man1<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// &#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> jack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'jack'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jack<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jack</span>jack<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my name is jack</span>jack<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">'é›¶é£Ÿ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jackæ­£åœ¨åƒé›¶é£Ÿ</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jack <span class="token keyword">instanceof</span> <span class="token class-name">Man</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jack <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><blockquote><p>ä¼˜ç¼ºç‚¹ï¼š</p></blockquote><ul><li><p>æ”¯æŒå¤šç»§æ‰¿</p></li><li><p>æ•ˆç‡è¾ƒä½ï¼Œå†…å­˜å ç”¨è¾ƒé«˜ã€‚ï¼ˆå› ä¸ºè¦æ‹·è´çˆ¶ç±»çš„å±æ€§ï¼‰</p></li><li><p>æ— æ³•è·å–çˆ¶ç±»ä¸å¯æšä¸¾çš„æ–¹æ³•ã€‚ï¼ˆä¸å¯æšä¸¾æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨ <code>for in</code> è®¿é—®ï¼‰</p></li></ul><h4 id="åŸå‹é“¾ç»§æ‰¿"><a href="#åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾ç»§æ‰¿"></a>åŸå‹é“¾ç»§æ‰¿</h4><blockquote><p>å®ç°ï¼šå­ç±»çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> params<span class="token punctuation">.</span>name<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> params<span class="token punctuation">.</span>age<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> params<span class="token punctuation">.</span>sex<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">', my age is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// test</span><span class="token keyword">const</span> rose <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'rose'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rose<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// rose</span>rose<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my name is rose</span>rose<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello rose, my age is 18</span></code></pre><blockquote><p>ä¼˜ç¼ºç‚¹ï¼š</p></blockquote><ul><li><p>éå¸¸çº¯ç²¹çš„ç»§æ‰¿å…³ç³»ï¼Œå®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ã€‚</p></li><li><p>çˆ¶ç±»æ–°å¢åŸå‹æ–¹æ³•&#x2F;åŸå‹å±æ€§ï¼Œå­ç±»ä¹Ÿèƒ½è®¿é—®åˆ°ã€‚</p></li><li><p>ç®€å•æ˜“å®ç°ã€‚</p></li><li><p>æ— æ³•å®ç°å¤šç»§æ‰¿ï¼Œä¸”æ¥è‡ªåŸå‹ä¸Šçš„å¼•ç”¨å±æ€§æ‰€æœ‰å®ä¾‹å…±äº«ï¼</p></li><li><p>å­ç±»éœ€è¦å¯¹è‡ªèº«(éåŸå‹)å±æ€§é‡è½½ï¼Œå› ä¸ºåŸºç±»(éåŸå‹)å±æ€§æ— æ³•åœ¨ç»§æ‰¿æ—¶è¢«å®ä¾‹åŒ–-åŸºäºåŸå‹é“¾ç»§æ‰¿å¯¼è‡´ã€‚</p></li></ul><h4 id="æ„é€ ç»§æ‰¿"><a href="#æ„é€ ç»§æ‰¿" class="headerlink" title="æ„é€ ç»§æ‰¿"></a>æ„é€ ç»§æ‰¿</h4><blockquote><p>å®ç°ï¼š</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">Man</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> m1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'mm'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m1<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my name is mm</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1 <span class="token keyword">instanceof</span> <span class="token class-name">Man</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1 <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><blockquote><p>ä¼˜ç¼ºç‚¹ï¼š</p></blockquote><ul><li><p>è§£å†³å­ç±»å®ä¾‹å…±äº«çˆ¶ç±»å¼•ç”¨å±æ€§çš„é—®é¢˜. å¯ä»¥å®ç°å¤šç»§æ‰¿ï¼ˆ<code>call</code>å¤šä¸ªçˆ¶ç±»å¯¹è±¡ï¼‰ã€‚</p></li><li><p>å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®ä¾‹ã€‚</p></li><li><p>åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§&#x2F;æ–¹æ³•</p></li><li><p>æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½</p></li></ul><h4 id="ç»„åˆç»§æ‰¿"><a href="#ç»„åˆç»§æ‰¿" class="headerlink" title="ç»„åˆç»§æ‰¿"></a>ç»„åˆç»§æ‰¿</h4><blockquote><p>å®ç°ï¼š</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">Man</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Student<span class="token punctuation">;</span><span class="token comment">// test</span><span class="token keyword">let</span> m2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'mm2'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// mm2</span>m2<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my name is mm2</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m2 <span class="token keyword">instanceof</span> <span class="token class-name">Man</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m2 <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><blockquote><p>ä¼˜ç¼ºç‚¹ï¼š</p></blockquote><ul><li><p>å¯ä»¥ç»§æ‰¿å®ä¾‹å±æ€§&#x2F;æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹å±æ€§&#x2F;æ–¹æ³•ã€‚</p></li><li><p>å®ä¾‹æ—¢æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯å­ç±»çš„å®ä¾‹ã€‚</p></li><li><p>å¯å®ç°å‡½æ•°æ–¹æ³•çš„å¤ç”¨</p></li><li><p>è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹.</p></li></ul><h4 id="å¯„ç”Ÿç»§æ‰¿"><a href="#å¯„ç”Ÿç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿç»§æ‰¿"></a>å¯„ç”Ÿç»§æ‰¿</h4><p><code>æ¯”ç»„åˆå¤šäº†ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°, æ¶ˆé™¤å¤šä½™çš„å®ä¾‹</code></p><blockquote><p>å®ç°ï¼š</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">Man</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„ç±»</span>  <span class="token keyword">const</span> <span class="token function-variable function">Super</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token class-name">Super</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Man</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>  <span class="token comment">// å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹</span>  <span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>ä¼˜ç¼ºç‚¹ï¼š</p></blockquote><ul><li>å®ç°ç›¸å¯¹è¾ƒå¤æ‚ä¸€ç‚¹ã€‚</li></ul><h4 id="ES6è¯­æ³•ç³–"><a href="#ES6è¯­æ³•ç³–" class="headerlink" title="ES6è¯­æ³•ç³–"></a><code>ES6</code>è¯­æ³•ç³–</h4><blockquote><p>å®ç°ï¼š</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'my name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Man</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> m3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'mm3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m3<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my name is mm3</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m3 <span class="token keyword">instanceof</span> <span class="token class-name">Man</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m3 <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><blockquote><p>ä¼˜ç¼ºç‚¹ï¼š</p></blockquote><ul><li><code>ECMAscript6</code>æ ‡å‡†çš„ç»§æ‰¿æ–¹æ¡ˆ</li></ul><p><code>ç»§æ‰¿èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿä¾¿æ·çš„ä½¿ç”¨çˆ¶ç±»çš„å±æ€§åŠæ–¹æ³•ï¼Œåœ¨ js ä¸­å®ç°ç»§æ‰¿çš„æ–¹æ¡ˆå¤§è‡´å°±è¿™å…­ç§ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¾æ‰˜åŸå‹å»ºç«‹çš„ç»§æ‰¿å…³ç³»ã€‚å…¶ä¸­çš„æ‹·è´ç»§æ‰¿ä¸ªäººä¸æ¨èä½¿ç”¨ï¼ŒES6ç»§æ‰¿èƒ½ç”¨åˆ™ç”¨</code></p>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®å­¦ä¹ ç¬”è®° </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> ç»§æ‰¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®¹å™¨åµŒå…¥iframeåçš„æ»šåŠ¨é—®é¢˜è®°å½•</title>
      <link href="/bugs/iframe-scroll/"/>
      <url>/bugs/iframe-scroll/</url>
      
        <content type="html"><![CDATA[<h3 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>æœ€åˆï¼Œæˆ‘åšäº†ä¸€ä¸ª<code>h5</code>çš„é¡µé¢ï¼Œè¯¥é¡µé¢ä½¿ç”¨<code>iframe</code>å†…é“¾äº†ä¸€ä¸ªç½‘é¡µã€‚å½“æˆ‘ç›´æ¥åœ¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€æ—¶ï¼Œå‘ç°æ— æ³•æ­£å¸¸è¿›è¡Œæ»šåŠ¨ã€‚</p><p>æ‹Ÿè§£å†³åŠæ³•ï¼šæˆ‘ç»™è¿™ä¸ª<code>iframe</code>æ·»åŠ äº†ä¸€ä¸ªåŒ…è£¹å®¹å™¨ï¼Œé€šè¿‡è®¾ç½®è¯¥å®¹å™¨çš„<code>overflow: auto</code>ï¼Œä»¥åŠè®¾ç½®<code>iframe height:100%</code>è¾¾åˆ°é¢„æœŸå¯æ»šåŠ¨çš„æ•ˆæœã€‚</p><p>æ–°é—®é¢˜ï¼šé¦–è½®è§£å†³åŠæ³•ç¡®å®èƒ½å¤Ÿè®© iframe æ»šåŠ¨ï¼Œä¸è¿‡é¡µé¢å´å‡ºç°äº†ä¸¤ä¸ªæ»šåŠ¨æ¡ï¼Œ<code>what f?</code>é‚£è‚¯å®šå°±æ˜¯<code>wrapper å’Œ iframe</code>å‡ºç°äº†é«˜åº¦å·®äº†ã€‚</p><span id="more"></span><h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><blockquote><p>åˆ†æé«˜åº¦å·®å‡ºç°çš„åŸå› ï¼Œç„¶åâ€¦è§£å†³ã€‚</p></blockquote><p>ä»èŠ‚ç‚¹æœ¬èº«å‡ºå‘ï¼Œ<code>iframe</code>æ˜¯å†…è”å…ƒç´ ï¼Œè€Œå†…è”å…ƒç´ æ˜¯è·ŸåŸºçº¿<code>baseline</code>å¯¹é½çš„ï¼Œiframe çš„åé¢æœ‰ä¸ª<code>è¡Œå†…ç©ºç™½èŠ‚ç‚¹</code>(è¯¥èŠ‚ç‚¹äº§ç”Ÿçš„åŸå› å…¶å®å’Œ<code>dom</code>ç»“æ„æœ‰å…³ç³»ï¼Œä¸‹é¢è´´ä¸Šæºä»£ç ï¼š)</p><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iframe-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.baidu.com<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iframe<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°<code>iframe</code>ä¸<code>div</code>ä¹‹é—´æœ‰ä¸ªæ¢è¡Œç¬¦ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºç©ºç™½èŠ‚ç‚¹ï¼Œç©ºç™½èŠ‚ç‚¹å æ®ç€é«˜åº¦ï¼Œ<code>iframe</code>ä¸ç©ºç™½èŠ‚ç‚¹çš„åŸºçº¿å¯¹é½ï¼Œå¯¼è‡´äº†<code>div</code>è¢«æ’‘å¼€ï¼Œä»è€Œå‡ºç°æ»šåŠ¨æ¡ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><pre class="language-none"><code class="language-none">æ–¹æ¡ˆä¸€ï¼šè®¾ç½®iframeçš„vertical-align:topæ–¹æ¡ˆäºŒï¼šè®¾ç½®çˆ¶divçš„font-size:0æ–¹æ¡ˆä¸‰ï¼šæ”¹å˜iframeçš„å†…è”å…ƒç´ æ€§è´¨ï¼Œdisplay: block</code></pre><p>é€šå¸¸é‡‡ç”¨ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼Œæ”¹å˜<code>iframe</code>çš„å…ƒç´ æ€§è´¨ï¼Œè´´ä¸Šéƒ¨åˆ†æºç ï¼š</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.iframe-container</span> <span class="token punctuation">&#123;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>  <span class="token property">-webkit-overflow-scrolling</span><span class="token punctuation">:</span> touch<span class="token punctuation">;</span> // å…¼å®¹ ios<span class="token punctuation">&#125;</span><span class="token selector">.iframe-container .iframe</span> <span class="token punctuation">&#123;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>è‡³æ­¤ï¼Œ<code>iframe</code>çš„æ»šåŠ¨é—®é¢˜å¾—åˆ°å®Œç¾è§£å†³ã€‚<del>ç®—æ˜¯è¸©äº†ä¸ªå°å‘ï¼Œä»¥åæ³¨æ„å°±å¥½äº†</del></p><blockquote><p>è¯•ä¸€ä¸‹ï¼Œä½ ä¼šæ¯”ä½ è‡ªå·±æƒ³è±¡ä¸­çš„è¿˜è¦å¼ºå¤§</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®è¸©å‘ä¹‹è·¯ </category>
          
          <category> å¤§å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> iframeæ»šåŠ¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npmä»¥åŠyarnçš„æŒ‡ä»¤ä½¿ç”¨</title>
      <link href="/share/npm-and-yarn/"/>
      <url>/share/npm-and-yarn/</url>
      
        <content type="html"><![CDATA[<blockquote><h3 id="npmï¼Œnpxæ¦‚å¿µåŠæŒ‡ä»¤ç®€å•ä»‹ç»"><a href="#npmï¼Œnpxæ¦‚å¿µåŠæŒ‡ä»¤ç®€å•ä»‹ç»" class="headerlink" title="npmï¼Œnpxæ¦‚å¿µåŠæŒ‡ä»¤ç®€å•ä»‹ç»"></a><code>npmï¼Œnpx</code>æ¦‚å¿µåŠæŒ‡ä»¤ç®€å•ä»‹ç»</h3></blockquote><p><code>tipsï¼šç›¸å…³é…ç½®æŒ‡ä»¤åœ¨ç¯å¢ƒé…ç½®ç« èŠ‚</code></p><p><code>npm</code>æ˜¯éš<code>node</code>ä¸€èµ·å®‰è£…çš„åŒ…ç®¡ç†å™¨ã€‚ä¸»è¦ä½œç”¨æ˜¯ç”¨äºå‘å¸ƒå’Œä¸‹è½½ç¨‹åºåŒ…çš„<code>CLI(å‘½ä»¤è¡Œ)</code>å·¥å…·ï¼Œä»¥åŠæ‰˜ç®¡<code>javascriptç¨‹åºåŒ…çš„åœ¨çº¿å­˜å‚¨åº“</code>ã€‚</p><p>ä¸åŒäº<code>npm</code>ï¼Œ<code>npx</code>çš„<code>x</code>å¯ç†è§£ä¸º<code>eXecute</code>ï¼Œä¸»è¦ä½œä¸ºå‘½ä»¤è¡Œçš„å¯»å€ç­‰è¾…åŠ©åŠŸèƒ½ã€‚<code>npx xxx</code>æ—¶ï¼Œ<code>npx</code>ä¼šå…ˆçœ‹<code>xxx</code>åœ¨<code>$PATH</code>æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šæ‰¾å½“å‰ç›®å½•çš„<code>node_modules</code>ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰ï¼Œé‚£ä¹ˆä¼šå…ˆä¸‹è½½å®‰è£…è¿™ä¸ª<code>xxx</code>å†æ‰§è¡Œã€‚</p><span id="more"></span><h4 id="å¸¸ç”¨å®‰è£…æŒ‡ä»¤è¯´æ˜"><a href="#å¸¸ç”¨å®‰è£…æŒ‡ä»¤è¯´æ˜" class="headerlink" title="å¸¸ç”¨å®‰è£…æŒ‡ä»¤è¯´æ˜"></a>å¸¸ç”¨å®‰è£…æŒ‡ä»¤è¯´æ˜</h4><p>å®‰è£…ä½¿ç”¨ i or installã€‚<code>å¸è½½æ—¶ä½¿ç”¨ uni or uninstallï¼Œå°±ä¸å¦å¤–è¯´æ˜äº†</code>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å®‰è£… npm åŒ… i ä¸º install ç®€å†™</span><span class="token comment"># ä¸å¸¦ä»»ä½•å‚æ•°ï¼šä¸´æ—¶å®‰è£…åˆ° node_modulesï¼Œä¸ä¼šæ·»åŠ åˆ° devDependencies å’Œ dependencies</span><span class="token function">npm</span> i <span class="token punctuation">[</span>package<span class="token punctuation">]</span><span class="token comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬or tagçš„åŒ…</span><span class="token function">npm</span> <span class="token function">install</span> package@version<span class="token function">npm</span> i package@tag<span class="token comment"># å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„åŒ…</span><span class="token function">npm</span> i package@latest<span class="token comment"># å®‰è£…æ—¶çš„ä¸€äº›å‚æ•°è¯´æ˜ï¼š</span><span class="token comment"># --save-dev or -D or --dev or -S-D è¡¨ç¤ºå®‰è£…ä¾èµ–åˆ° devDependencies</span><span class="token function">npm</span> i package -D<span class="token comment"># -S or --save è¡¨ç¤ºå®‰è£…ä¾èµ–åˆ° dependencies</span><span class="token function">npm</span> i package --save<span class="token comment"># å…¨å±€å®‰è£…</span><span class="token function">npm</span> i --global package</code></pre><h4 id="å…¶ä»–æŒ‡ä»¤åŠé™„å¸¦é…ç½®è¯´æ˜ï¼š"><a href="#å…¶ä»–æŒ‡ä»¤åŠé™„å¸¦é…ç½®è¯´æ˜ï¼š" class="headerlink" title="å…¶ä»–æŒ‡ä»¤åŠé™„å¸¦é…ç½®è¯´æ˜ï¼š"></a>å…¶ä»–æŒ‡ä»¤åŠé™„å¸¦é…ç½®è¯´æ˜ï¼š</h4><blockquote><p>npm help æŸ¥çœ‹å…¨éƒ¨æŒ‡ä»¤</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ¸…é™¤ç¼“å­˜</span><span class="token function">npm</span> cache clean --force<span class="token comment"># config åˆ«å c</span><span class="token comment"># è®¾ç½®å…¨å±€å®‰è£…ä½ç½®</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> prefix <span class="token string">'C:\Users\xx\AppData\Roaming\npm'</span><span class="token comment"># è®¾ç½®ç¼“å­˜è·¯å¾„ï¼Œé»˜è®¤åœ¨ c ç›˜</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> cache <span class="token string">"C:\Users\xx\AppData\Roaming<span class="token entity" title="\n">\n</span>pm_cache"</span><span class="token comment"># å…¶ä»– npm é…ç½®ï¼Œæ ¼å¼å‡åŒä¸Šï¼Œset è®¾ç½®ï¼Œget è¯»å–ï¼Œdeleteåˆ é™¤ï¼Œä¾‹å¦‚ï¼š</span><span class="token function">npm</span> config get registry<span class="token comment"># å½“ç„¶å¯ä»¥æ·»åŠ é™åˆ¶å‚æ•°ï¼Œè¡¨ç¤ºæ˜¯æœ¬åœ°é…ç½®ã€å…¨å±€é…ç½®ã€ç”¨æˆ·é…ç½®</span><span class="token function">npm</span> config --global <span class="token builtin class-name">set</span> registry xxx<span class="token comment"># æŸ¥çœ‹é…ç½®</span><span class="token function">npm</span> config <span class="token function">ls</span> -l<span class="token comment"># ç‰ˆæœ¬å· -v or --version</span><span class="token function">npm</span> -v<span class="token comment"># é¡¹ç›®åˆå§‹åŒ– -y å‚æ•°å¯é€‰</span><span class="token function">npm</span> init -y<span class="token comment"># æ‰§è¡ŒæŸä¸ªæŸä¸ªè„šæœ¬å‘½ä»¤ ä¾‹å¦‚(package.json çš„ scripts)</span><span class="token function">npm</span> run <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token comment"># ç™»å½•åˆ° npmï¼Œå¯ä»¥æ·»åŠ ç™»å½•å‚æ•°,å¦‚ä¸‹ç™»å½•åˆ°xxx npmä»“åº“ï¼Œä¸€èˆ¬ç”¨äºå…¬å¸å†…éƒ¨npmç§æœ</span><span class="token function">npm</span> login<span class="token function">npm</span> login --registry<span class="token operator">=</span>xxx<span class="token comment"># æ²¡æœ‰è´¦å·ï¼Œæ·»åŠ è´¦å·ç™»å½•ã€‚åŒç†å¯è®¾ç½® registry</span><span class="token function">npm</span> adduser<span class="token comment"># æŸ¥çœ‹å½“å‰ç™»å½•ä¿¡æ¯</span><span class="token function">npm</span> <span class="token function">whoami</span><span class="token comment"># æŸ¥çœ‹ä¸€ä¸ª npm åŒ…çš„æœ€æ–°ç‰ˆæœ¬/æ‰€æœ‰ç‰ˆæœ¬</span><span class="token function">npm</span> view package version/versions</code></pre><p>è¡¥å……ï¼š <code>npm link</code>è¯¦è§ï¼š<a href="/share/npm-link">æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨ npm-link è½¯é“¾</a>ï¼Œ<code>npm publish</code>è¯¦è§ï¼š<a href="/share/npm-publish">å¦‚ä½•å‘å¸ƒä¸€ä¸ª npm-package?</a></p><p>å…¶ä»–æŒ‡ä»¤ï¼š<a href="https://docs.npmjs.com/cli/v7/commands/npm-install">-&gt; è¯¦è§ v7</a></p><blockquote><p>tips: npm config è¯»å–çš„å†…å®¹æ˜¯æœ‰ä¼˜å…ˆçº§çš„ï¼Œé¡¹ç›®ä¸‹çš„ <code>.npmrc</code> -&gt; ç”¨æˆ·çº§<code>~/.npmrc</code> -&gt; å…¨å±€<code>å®‰è£…ç›®å½•/etc/.npmrc</code>ï¼ˆç¨ä¸æ³¨æ„å°±ä¼šå­˜åœ¨ä½ é…ç½®çš„ global registry ä¸ç”Ÿæ•ˆâ€¦ï¼‰</p></blockquote><blockquote><h3 id="yarnå¸¸ç”¨æŒ‡ä»¤ä»‹ç»"><a href="#yarnå¸¸ç”¨æŒ‡ä»¤ä»‹ç»" class="headerlink" title="yarnå¸¸ç”¨æŒ‡ä»¤ä»‹ç»"></a><code>yarn</code>å¸¸ç”¨æŒ‡ä»¤ä»‹ç»</h3></blockquote><blockquote><p>yarn help æŸ¥çœ‹å…¨éƒ¨æŒ‡ä»¤</p></blockquote><p>å¤§éƒ¨åˆ†æŒ‡ä»¤ä¸<code>npm</code>å¤§åŒå°å¼‚ï¼Œä¸»è¦ä»‹ç»ä¸€äº›é¡¹ç›®å¸¸ç”¨çš„ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#åˆå§‹åŒ–é¡¹ç›® (é¿å…ä½¿ç”¨Git bash)</span><span class="token function">yarn</span> init<span class="token comment"># å®‰è£…ä¾èµ–</span><span class="token comment"># add å‚æ•°è¯´æ˜ --dev or -D å®‰è£…åˆ° devDependenciesï¼Œä¸åŠ å‚æ•°åˆ™å®‰è£…åˆ° dependencies</span><span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span><span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>version<span class="token punctuation">]</span><span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span> --dev<span class="token comment"># å‡çº§ä¾èµ–çš„åŒ…ç‰ˆæœ¬</span><span class="token function">yarn</span> upgrade <span class="token punctuation">[</span>package<span class="token punctuation">]</span><span class="token function">yarn</span> upgrade <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>version<span class="token punctuation">]</span><span class="token function">yarn</span> upgrade <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token comment"># å®‰è£…æŒ‡å®šåŒ…çš„æœ€æ–°ç‰ˆæœ¬</span><span class="token comment"># eg. yarn add ioredis@latest</span><span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>packageName<span class="token punctuation">]</span>@latest<span class="token comment"># å…¨å±€å®‰è£…</span><span class="token function">yarn</span> global <span class="token function">add</span> xx<span class="token comment"># ç§»é™¤ä¾èµ–</span><span class="token function">yarn</span> remove <span class="token punctuation">[</span>package<span class="token punctuation">]</span><span class="token comment"># æ‰§è¡ŒæŸä¸ªè„šæœ¬å‘½ä»¤ run å¯ä»¥çœç•¥</span><span class="token function">yarn</span> run <span class="token punctuation">[</span>scriptName<span class="token punctuation">]</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
            <tag> npx </tag>
            
            <tag> yarn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nvmå®‰è£…åŠNodeç¯å¢ƒæ­å»º</title>
      <link href="/share/nvm-and-node-install/"/>
      <url>/share/nvm-and-node-install/</url>
      
        <content type="html"><![CDATA[<blockquote><h3 id="nvmä¸‹è½½åŠå®‰è£…"><a href="#nvmä¸‹è½½åŠå®‰è£…" class="headerlink" title="nvmä¸‹è½½åŠå®‰è£…"></a><code>nvm</code>ä¸‹è½½åŠå®‰è£…</h3></blockquote><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/coreybutler/nvm-windows/releases">é“¾æ¥</a></p><p><code>ä¸‹è½½exeçš„packageæ–‡ä»¶ï¼Œé€‰æ‹©è‡ªå®šä¹‰çš„å®‰è£…ç›˜ç¬¦ï¼Œå‚»ç“œå¼å®‰è£…å³å¯ï¼Œç¯å¢ƒå˜é‡ä¼šè‡ªåŠ¨æ·»åŠ ã€‚</code></p><p>å®‰è£…å®Œæˆåï¼Œé…ç½®<code>node</code>åŠ<code>nvm</code>çš„<code>mirror</code>åœ°å€ (ä¸é…ç½®ä¼šå¯¼è‡´ä¸‹è½½<code>node</code>åï¼Œåœ¨ä¸‹è½½<code>npm</code>è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œéœ€è¦æ‰‹åŠ¨ä¸‹è½½å®‰è£…<code>npm</code>)ã€‚é…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼šnvmå®‰è£…ç›®å½•/settings.txt æœ«å°¾è¿½åŠ </span>node_mirror: https://npm.taobao.org/mirrors/node/npm_mirror: https://npm.taobao.org/mirrors/npm/<span class="token comment"># æ–¹å¼äºŒï¼šé€šè¿‡æŒ‡ä»¤ä¿®æ”¹</span>nvm node_mirror <span class="token punctuation">[</span>url<span class="token punctuation">]</span>nvm npm_mirror <span class="token punctuation">[</span>url<span class="token punctuation">]</span></code></pre><blockquote><h3 id="å®‰è£…nodeä»¥åŠnpm"><a href="#å®‰è£…nodeä»¥åŠnpm" class="headerlink" title="å®‰è£…nodeä»¥åŠnpm"></a>å®‰è£…<code>node</code>ä»¥åŠ<code>npm</code></h3></blockquote><p><code>æ‰“å¼€windows terminalï¼Œå¹¶ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ(é¿å…æƒé™é—®é¢˜å¯¼è‡´å®‰è£…è¿‡ç¨‹æŠ›å‡ºå¼‚å¸¸)</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰å¯ä»¥ä¸‹è½½çš„ NodeJs ç‰ˆæœ¬ï¼š</span>nvm list available<span class="token comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ NodeJs (é€‰æ‹©ç‰ˆæœ¬å·å®‰è£…) ä½ å¯ä»¥å®‰è£…å¤šä¸ªç‰ˆæœ¬</span>nvm <span class="token function">install</span> <span class="token number">14.5</span>.0<span class="token comment"># or ç›´æ¥å®‰è£…æœ€æ–°ç‰ˆ(ä¸å»ºè®®)</span>nvm <span class="token function">install</span> latest<span class="token comment"># åˆ—å‡ºä½ ä»¥åŠå®‰è£…çš„ NodeJs ç‰ˆæœ¬ï¼Œä¸‹é¢ä¸€è¡ŒæŒ‡ä»¤åŒ nvm list</span>nvm list installed<span class="token comment"># ä½¿ç”¨æŸä¸ªç‰ˆæœ¬å·çš„ NodeJs (ä»ä½ å®‰è£…çš„ç‰ˆæœ¬ä¸­é€‰æ‹©)</span>nvm use <span class="token number">14.5</span>.0</code></pre><p>æ£€æµ‹<code>nodeåŠnpm</code>æ˜¯å¦æˆåŠŸå®‰è£…ï¼šå‡ºç°ç‰ˆæœ¬å·ä»£è¡¨å®‰è£…æˆåŠŸ</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">node</span> -v<span class="token function">npm</span> -v</code></pre><p>å¦‚æœ<code>nvm</code>æ²¡æœ‰é…ç½®<code>mirror</code>ï¼Œæˆ–è€…å…¶ä»–åŸå› å¯¼è‡´ä½ çš„<code>npm</code>ä¸èƒ½æ­£å¸¸ä¸‹è½½å®‰è£…ã€‚å¯ä»¥é€šè¿‡ä¸Šé¢é…ç½®çš„æ–¹å¼ï¼Œé‡æ–°å®‰è£…<code>node</code>ï¼Œä¼šè‡ªåŠ¨åŒ¹é…å¯¹åº”çš„<code>npm</code>ä¸‹è½½å®‰è£…ã€‚å½“ç„¶ä½ æƒ³æ‰‹åŠ¨å®‰è£…å¹¶é…ç½®<code>npm</code>ï¼Œä¹Ÿæ˜¯ ok çš„ï¼Œå¦‚ä¸‹ä»‹ç»æ‰‹åŠ¨é…ç½®æ–¹å¼ï¼š(æ­£å¸¸å®‰è£…è¯·è·³è¿‡)</p><ul><li><p>æ ¹æ®<code>nvm</code>ä¸‹è½½å®‰è£…<code>node</code>æ—¶ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸ä¿¡æ¯å¾—çŸ¥<code>npm</code>çš„ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/npm/cli/releases/tag/v6.14.11">ä¸‹è½½ npm</a></p></li><li><p>å°†<code>npm</code>è§£å‹åˆ°<code>nvm/væŒ‡å®šç‰ˆæœ¬/node_modules/</code>ä¸‹ï¼Œå°†<code>npm</code>è§£å‹æ–‡ä»¶å¤¹é‡å‘½åä¸º<code>npm</code></p></li><li><p>å°†<code>npm/bin/</code>æ–‡ä»¶ä¸‹çš„<code>npm</code>åŠ<code>npx</code>ç›¸å…³æ–‡ä»¶æ‹·è´åˆ°<code>nvm/væŒ‡å®šç‰ˆæœ¬/</code>ä¸‹</p></li><li><p>åœ¨å½“å‰ç›®å½•æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥<code>npm -v</code>ï¼Œå‡ºç°ç‰ˆæœ¬å·è¡¨ç¤ºå®‰è£…æˆåŠŸï¼Œå¦‚æœæ¢äº†æ–‡ä»¶å¤¹åæç¤ºæŒ‡ä»¤ä¸å­˜åœ¨ï¼Œå¯åœ¨ç¯å¢ƒå˜é‡<code>path</code>å†…æ·»åŠ å½“å‰è·¯å¾„</p></li></ul><blockquote><h3 id="nrmçš„å®‰è£…åŠåˆ‡æ¢é•œåƒæº"><a href="#nrmçš„å®‰è£…åŠåˆ‡æ¢é•œåƒæº" class="headerlink" title="nrmçš„å®‰è£…åŠåˆ‡æ¢é•œåƒæº"></a><code>nrm</code>çš„å®‰è£…åŠåˆ‡æ¢é•œåƒæº</h3></blockquote><p><code>nrm</code>æä¾›äº†å¿«é€Ÿåˆ‡æ¢é•œåƒæºçš„æ–¹æ¡ˆï¼Œå¦‚æœé€šè¿‡<code>npm</code>æŒ‡ä»¤é…ç½®ï¼Œåˆ™æ— éœ€å®‰è£…</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å…¨å±€å®‰è£…</span><span class="token function">npm</span> i<span class="token punctuation">(</span>install<span class="token punctuation">)</span> nrm -g<span class="token comment"># æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span>nrm --version<span class="token comment"># åˆ—å‡ºå¯ç”¨çš„é•œåƒæº</span>nrm <span class="token function">ls</span><span class="token comment"># æµ‹è¯•é•œåƒåœ°å€é€Ÿåº¦</span>nrm <span class="token builtin class-name">test</span><span class="token comment"># åˆ‡æ¢åˆ°æŒ‡å®šé•œåƒ</span>nrm use <span class="token punctuation">[</span>é•œåƒåç§°<span class="token punctuation">]</span></code></pre><blockquote><h3 id="npmå…¨å±€é…ç½®åŠyarnå®‰è£…"><a href="#npmå…¨å±€é…ç½®åŠyarnå®‰è£…" class="headerlink" title="npmå…¨å±€é…ç½®åŠyarnå®‰è£…"></a><code>npm</code>å…¨å±€é…ç½®åŠ<code>yarn</code>å®‰è£…</h3></blockquote><ul><li>å®‰è£…<code>yarn</code></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># [ä¸‹è½½é•œåƒå®‰è£…](https://classic.yarnpkg.com/en/docs/install#windows-stable)</span><span class="token comment"># npm å®‰è£…</span><span class="token function">npm</span> <span class="token function">install</span> --global <span class="token function">yarn</span><span class="token comment"># [2.x å®‰è£…ä½¿ç”¨](https://yarnpkg.com/getting-started/install)</span></code></pre><ul><li>é…ç½®<code>npm</code>åŠ<code>yarn</code>çš„<code>registry</code>ï¼š</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># é»˜è®¤æº</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmjs.org<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> registry https://registry.yarnpkg.com<span class="token comment"># é…ç½®åˆ°å†…ç½‘ç¯å¢ƒ</span><span class="token function">npm</span> config --global <span class="token builtin class-name">set</span> registry http://172.xxx/repository/npm/<span class="token comment"># é…ç½®æ·˜å®é•œåƒ</span><span class="token comment"># (æˆªæ­¢22-5-31)</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org<span class="token comment"># new</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmmirror.com<span class="token comment"># é…ç½®æºï¼Œä¸”åŒæ­¥å®‰è£…ä½¿ç”¨ cnpm</span><span class="token function">npm</span> <span class="token function">install</span> -g cnpm --registry<span class="token operator">=</span>https://registry.npmmirror.com<span class="token comment"># å¦‚æœå‘½ä»¤è¡Œä¿®æ”¹å¤±è´¥ - æ‰‹åŠ¨ä¿®æ”¹é…ç½® c:/ç”¨æˆ·/user/.npmrc æ–‡ä»¶</span><span class="token assign-left variable">registry</span><span class="token operator">=</span>http://172.xxx/repository/npm/<span class="token comment"># å…¶ä»–é•œåƒ</span><span class="token assign-left variable">CHROMEDRIVER_CDNURL</span><span class="token operator">=</span><span class="token string">"https://registry.npmmirror.com/-/binary/chromedriver"</span><span class="token assign-left variable">SASS_BINARY_SITE</span><span class="token operator">=</span><span class="token string">"https://registry.npmmirror.com/-/binary/node-sass"</span><span class="token assign-left variable">PUPPETEER_DOWNLOAD_HOST</span><span class="token operator">=</span><span class="token string">"https://registry.npmmirror.com/-/binary"</span><span class="token assign-left variable">NODEJS_ORG_MIRROR</span><span class="token operator">=</span><span class="token string">"https://registry.npmmirror.com/-/binary/node"</span><span class="token assign-left variable">NVM_NODEJS_ORG_MIRROR</span><span class="token operator">=</span><span class="token string">"https://registry.npmmirror.com/-/binary/node"</span></code></pre><ul><li>è®¾ç½®å…¨å±€å®‰è£…åŠç¼“å­˜è·¯å¾„</li></ul><p><code>é…ç½®ä½¿ç”¨ setï¼ŒæŸ¥çœ‹ä½¿ç”¨ getã€‚é™¤äº†æŒ‡ä»¤è®¾ç½®é…ç½®é¡¹å¤–ï¼Œä¹Ÿå¯æ‰‹åŠ¨æ·»åŠ é…ç½®ï¼Œæ–‡ä»¶ä½ç½®ï¼š~/.npmrc ~/.yarnrc</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ¸…é™¤ç¼“å­˜</span><span class="token function">npm</span> cache clean --force<span class="token function">yarn</span> cache clean<span class="token comment"># è®¾ç½®å…¨å±€å®‰è£…ä½ç½®</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> prefix <span class="token string">'C:\Users\xx\AppData\Roaming\npm'</span><span class="token function">yarn</span> config <span class="token builtin class-name">set</span> global-folder <span class="token string">"D:\yarn\yarnDate"</span><span class="token comment"># è®¾ç½®ç¼“å­˜è·¯å¾„ï¼Œé»˜è®¤åœ¨ c ç›˜</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> cache <span class="token string">"C:\Users\xx\AppData\Roaming<span class="token entity" title="\n">\n</span>pm_cache"</span><span class="token function">yarn</span> config <span class="token builtin class-name">set</span> cache-folder e:<span class="token punctuation">\</span>YarnCache<span class="token comment"># æŸ¥çœ‹é…ç½®ä¿¡æ¯ --global or -l</span><span class="token function">npm</span> config <span class="token function">ls</span><span class="token function">yarn</span> config list</code></pre>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> ç¯å¢ƒæ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
            <tag> yarn </tag>
            
            <tag> nvm </tag>
            
            <tag> node </tag>
            
            <tag> nrm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoçš„æœåŠ¡æ­å»ºå’Œç®€å•ä½¿ç”¨</title>
      <link href="/share/hexo/"/>
      <url>/share/hexo/</url>
      
        <content type="html"><![CDATA[<h3 id="What-is-Hexo"><a href="#What-is-Hexo" class="headerlink" title="What is Hexo?"></a>What is Hexo?</h3><p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚<a href="https://hexo.io/docs/">è¯¦è§æ–‡æ¡£</a></p><span id="more"></span><h3 id="å¼€å§‹æ­å»ºä½ çš„HexoæœåŠ¡"><a href="#å¼€å§‹æ­å»ºä½ çš„HexoæœåŠ¡" class="headerlink" title="å¼€å§‹æ­å»ºä½ çš„HexoæœåŠ¡"></a>å¼€å§‹æ­å»ºä½ çš„<code>Hexo</code>æœåŠ¡</h3><h4 id="å®‰è£…è„šæ‰‹æ¶"><a href="#å®‰è£…è„šæ‰‹æ¶" class="headerlink" title="å®‰è£…è„šæ‰‹æ¶"></a>å®‰è£…è„šæ‰‹æ¶</h4><blockquote><p>npm install -g hexo-cli<br>npm install hexo</p></blockquote><h4 id="åˆå§‹åŒ–ä½ çš„åšå®¢é¡¹ç›®"><a href="#åˆå§‹åŒ–ä½ çš„åšå®¢é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–ä½ çš„åšå®¢é¡¹ç›®"></a>åˆå§‹åŒ–ä½ çš„åšå®¢é¡¹ç›®</h4><blockquote><p>hexo init <blogName><br>cd blogName<br>yarn or npm i</p></blockquote><h4 id="é…ç½®ä½ çš„åšå®¢ä¿¡æ¯"><a href="#é…ç½®ä½ çš„åšå®¢ä¿¡æ¯" class="headerlink" title="é…ç½®ä½ çš„åšå®¢ä¿¡æ¯"></a>é…ç½®ä½ çš„åšå®¢ä¿¡æ¯</h4><p><code>_config.yml</code>å³ä¸ºåšå®¢çš„é…ç½®ä¿¡æ¯æ–‡ä»¶ï¼Œè¯¦è§<a href="https://hexo.io/zh-cn/docs/configuration">é…ç½®</a> ã€‚</p><h4 id="ä¸»è¦æ–‡ä»¶å¤¹è¯´æ˜"><a href="#ä¸»è¦æ–‡ä»¶å¤¹è¯´æ˜" class="headerlink" title="ä¸»è¦æ–‡ä»¶å¤¹è¯´æ˜"></a>ä¸»è¦æ–‡ä»¶å¤¹è¯´æ˜</h4><p><code>scaffolds</code>æ–‡ä»¶å¤¹å¯ä»¥é…ç½®ä½ çš„æ–‡ç« æ¨¡æ¿ï¼Œå³æ¯æ¬¡ hexo æ–°å»ºæ–‡ç« éƒ½ä¼šæ ¹æ®æ­¤æ–‡ä»¶å¤¹é…ç½®å»ºç«‹æ–‡ä»¶ã€‚</p><p><code>source</code>å°±æ˜¯ä½ çš„æ–‡ç« ç›¸å…³çš„èµ„æºæ–‡ä»¶ã€‚</p><p><code>themes</code>ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆå¯¹åº”é™æ€é¡µé¢ã€‚</p><h4 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h4><p>åœ¨<code>package.json</code>ä¸­å¯ä»¥å‘ç°ç¨‹åºçš„å¯åŠ¨æŒ‡ä»¤ã€‚</p><blockquote><p>hexo server [hexo s] [yarn server]</p></blockquote><p>åœ¨<code>terminal</code>ä¸­æ‰¾åˆ°æœåŠ¡åœ°å€ï¼Œé»˜è®¤<code>http://localhost:4000/</code>,æ‰“å¼€æµè§ˆå™¨å³å¯æµè§ˆä½ çš„åšå®¢</p><h3 id="æ ¹æ®ä½ çš„å£å‘³é…ç½®æƒ³è¦çš„ä¸»é¢˜æ¨¡æ¿"><a href="#æ ¹æ®ä½ çš„å£å‘³é…ç½®æƒ³è¦çš„ä¸»é¢˜æ¨¡æ¿" class="headerlink" title="æ ¹æ®ä½ çš„å£å‘³é…ç½®æƒ³è¦çš„ä¸»é¢˜æ¨¡æ¿"></a>æ ¹æ®ä½ çš„å£å‘³é…ç½®æƒ³è¦çš„ä¸»é¢˜æ¨¡æ¿</h3><ul><li><p>æ‰“å¼€<code>github</code>ï¼Œæœç´¢<code>hexo-theme</code>ï¼Œæ ¹æ®<code>star</code>çš„æ•°é‡æ’ä¸ªåºï¼ŒæŒ¨ä¸ªå»çœ‹æ•ˆæœï¼Œé€‰æ‹©è‡ªå·±å¿ƒä»ªçš„ä¸»é¢˜</p></li><li><p><code>cd themes &amp;&amp; git clone xxx</code>ï¼Œå°†æ‰¾åˆ°çš„ä¸»é¢˜æ–‡ä»¶èµ„æºå…‹éš†åˆ°<code>themes</code>æ–‡ä»¶å¤¹ä¸‹</p></li><li><p>æ ¹æ®ä¸»é¢˜çš„ç›¸å…³é…ç½®é¡¹æç¤ºè¿›è¡Œé…ç½®ï¼Œé‡å¯æœåŠ¡å³å¯çœ‹åˆ°æ•ˆæœã€‚(æ¯ä¸ªä¸»é¢˜å¯èƒ½é…ç½®æ–¹å¼ä¸ä¸€æ ·ï¼Œå¤§åŒå°å¼‚)</p></li></ul><h3 id="å¼€å¯ä½ çš„åšå®¢ä¹‹è·¯"><a href="#å¼€å¯ä½ çš„åšå®¢ä¹‹è·¯" class="headerlink" title="å¼€å¯ä½ çš„åšå®¢ä¹‹è·¯"></a>å¼€å¯ä½ çš„åšå®¢ä¹‹è·¯</h3><blockquote><p>æ–°å»ºæ–‡ç« ï¼Œ<code>layout</code>å¯¹åº”<code>draftã€postã€page(è‰ç¨¿source/_draftsã€æ–‡ç« source/_postsã€é¡µé¢source)</code></p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash">hexo new <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>title<span class="token operator">></span></code></pre><p>å…¶ä»–è¾…åŠ©å‚æ•°ï¼š</p><pre class="language-none"><code class="language-none">-p, --pathè‡ªå®šä¹‰æ–°æ–‡ç« çš„è·¯å¾„-r, --replaceå¦‚æœå­˜åœ¨åŒåæ–‡ç« ï¼Œå°†å…¶æ›¿æ¢-s, --slugæ–‡ç« çš„ Slugï¼Œä½œä¸ºæ–°æ–‡ç« çš„æ–‡ä»¶åå’Œå‘å¸ƒåçš„ URL</code></pre><p><code>eg</code>. æˆ‘æƒ³åœ¨<code>_posts/share</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ç‰‡<code>a.md</code>çš„æ–‡ç« ï¼Œä¸”æ–‡ç« çš„é¡µé¢<code>title</code>ä¸ºâ€˜è¿™æ˜¯ Aâ€™</p><pre class="language-bash" data-language="bash"><code class="language-bash">hexo new post -p share/a <span class="token string">'è¿™æ˜¯A'</span><span class="token comment"># åˆ›å»ºä¸€ç¯‡è‰ç¨¿</span>hexo new draft <span class="token punctuation">..</span>.<span class="token comment"># å‘å¸ƒ</span>hexo publish <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>title<span class="token operator">></span></code></pre><blockquote><p>å…¶ä»–å¸¸ç”¨æŒ‡ä»¤è¯´æ˜ï¼š</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œåœ¨ public æ–‡ä»¶å¤¹ä¸‹</span>hexo generatehexo g<span class="token comment"># æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)</span>hexo clean<span class="token comment"># éƒ¨ç½²ç½‘ç«™ -g, --generateéƒ¨ç½²ä¹‹å‰é¢„å…ˆç”Ÿæˆé™æ€æ–‡ä»¶</span>hexo deploy<span class="token comment"># è‰ç¨¿å‘è¡¨ï¼Œç§»åŠ¨åˆ° source/_posts æ–‡ä»¶å¤¹</span>hexo publish <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>filename<span class="token operator">></span></code></pre><h3 id="å°†Hexoéƒ¨ç½²åˆ°GitHub-Pages"><a href="#å°†Hexoéƒ¨ç½²åˆ°GitHub-Pages" class="headerlink" title="å°†Hexoéƒ¨ç½²åˆ°GitHub Pages"></a><a href="https://hexo.io/zh-cn/docs/github-pages">å°†<code>Hexo</code>éƒ¨ç½²åˆ°<code>GitHub Pages</code></a></h3>]]></content>
      
      
      <categories>
          
          <category> åœŸè±†ã®æ•™ç¨‹åˆ†äº« </category>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo-cli </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
