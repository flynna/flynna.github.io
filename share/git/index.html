<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#4d1e90"><meta name="author" content="会飞的土豆"><meta name="copyright" content="会飞的土豆"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>git 的基本使用 | 土豆子的躺平日常</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/png" href="/images/avatar.jpg"><link rel="mask-icon" href="/images/avatar.jpg" color="#4d1e90"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"flynna.github.io","root":"/","title":"相信土豆真的会飞","version":"1.10.4","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":null},"vendors":{"darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="stylesheet" href="/font/iconfont.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js"></script><script src="/font/iconfont.js"></script><meta name="description" content="Git is a free and open source distributed version control system  Git是用来做什么的? 托管代码到远程，分布式托管，避免本机磁盘损坏造成不可挽回的局面。  版本控制，可以发布多个版本并且实现在各个版本之间来回穿梭（实现原理：文件快照，每个版本都会有一个文件快照，比直接备份文件快速便捷。因此，Git 仓库又被称为版本库）。  团队">
<meta property="og:type" content="article">
<meta property="og:title" content="git 的基本使用">
<meta property="og:url" content="https://flynna.github.io/share/git/index.html">
<meta property="og:site_name" content="土豆子的躺平日常">
<meta property="og:description" content="Git is a free and open source distributed version control system  Git是用来做什么的? 托管代码到远程，分布式托管，避免本机磁盘损坏造成不可挽回的局面。  版本控制，可以发布多个版本并且实现在各个版本之间来回穿梭（实现原理：文件快照，每个版本都会有一个文件快照，比直接备份文件快速便捷。因此，Git 仓库又被称为版本库）。  团队">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://flynna.github.io/images/share/git/p1.png">
<meta property="article:published_time" content="2022-07-24T05:44:42.000Z">
<meta property="article:modified_time" content="2022-08-14T14:12:13.000Z">
<meta property="article:author" content="会飞的土豆">
<meta property="article:tag" content="git">
<meta property="article:tag" content="git指令">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://flynna.github.io/images/share/git/p1.png"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="会飞的土豆"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="会飞的土豆"><span class="site-author-status" title="Looking for dawn.">🍋</span></a><div class="site-author-name"><a href="/about/">会飞的土豆</a></div><span class="site-name">土豆子的躺平日常</span><sub class="site-subtitle">just do it</sub><div class="site-description">星光不问赶路人, 岁月不负有心人</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">38</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">56</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="留言板"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:clipboard-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=2274105875&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/flynna" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="flynnzhl@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/flynna" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=502374002" title="网易云音乐" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/flynn-zhl" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/482340176" title="哔哩哔哩动画" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Git%E6%98%AF%E7%94%A8%E6%9D%A5%E5%81%9A%E4%BB%80%E4%B9%88%E7%9A%84"><span class="toc-number">1.</span> <span class="toc-text">Git是用来做什么的?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">指令使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="toc-number">2.1.</span> <span class="toc-text">配置信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE%E4%BB%93%E5%BA%93"><span class="toc-number">2.2.</span> <span class="toc-text">初始化项目仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%8B%E9%9A%86%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.3.</span> <span class="toc-text">克隆一个项目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E6%AC%A1%E6%8F%90%E4%BA%A4%E6%B5%81%E7%A8%8B"><span class="toc-number">2.4.</span> <span class="toc-text">一次提交流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E6%97%A5%E5%BF%97"><span class="toc-number">2.5.</span> <span class="toc-text">查看提交日志</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E3%80%81%E9%87%8D%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6"><span class="toc-number">2.6.</span> <span class="toc-text">移动、重命名文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E6%96%87%E4%BB%B6%E6%94%B9%E5%8A%A8"><span class="toc-number">2.7.</span> <span class="toc-text">存储文件改动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E6%9F%90%E6%AC%A1%E6%8F%90%E4%BA%A4%E5%90%88%E5%B9%B6%E8%87%B3%E5%BD%93%E5%89%8D%E5%88%86%E6%94%AF"><span class="toc-number">2.8.</span> <span class="toc-text">将某次提交合并至当前分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E9%80%80%E7%89%88%E6%9C%AC"><span class="toc-number">2.9.</span> <span class="toc-text">回退版本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%98%E5%8E%9F%E6%9F%90%E4%B8%80%E6%AC%A1%E6%8F%90%E4%BA%A4"><span class="toc-number">2.10.</span> <span class="toc-text">还原某一次提交</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="toc-number">2.11.</span> <span class="toc-text">分支管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E6%9F%A5%E7%9C%8B"><span class="toc-number">2.11.1.</span> <span class="toc-text">分支查看</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E5%88%9B%E5%BB%BA"><span class="toc-number">2.11.2.</span> <span class="toc-text">分支创建</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E5%88%87%E6%8D%A2"><span class="toc-number">2.11.3.</span> <span class="toc-text">分支切换</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E6%9B%B4%E6%96%B0"><span class="toc-number">2.11.4.</span> <span class="toc-text">分支更新</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E5%88%A0%E9%99%A4"><span class="toc-number">2.11.5.</span> <span class="toc-text">分支删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6"><span class="toc-number">2.11.6.</span> <span class="toc-text">分支合并</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E6%9F%90%E6%AC%A1%E6%8F%90%E4%BA%A4%E6%89%93%E6%A0%87%E7%AD%BE"><span class="toc-number">2.12.</span> <span class="toc-text">为某次提交打标签</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E6%9F%A5%E7%9C%8B"><span class="toc-number">2.12.1.</span> <span class="toc-text">标签查看</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%88%9B%E5%BB%BA"><span class="toc-number">2.12.2.</span> <span class="toc-text">标签创建</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%85%B1%E4%BA%AB%EF%BC%88%E6%8E%A8%E9%80%81%E8%BF%9C%E7%A8%8B%EF%BC%89"><span class="toc-number">2.12.3.</span> <span class="toc-text">标签共享（推送远程）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%88%A0%E9%99%A4"><span class="toc-number">2.12.4.</span> <span class="toc-text">标签删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A3%80%E5%87%BA%E6%A0%87%E7%AD%BE"><span class="toc-number">2.12.5.</span> <span class="toc-text">检出标签</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83"><span class="toc-number">3.</span> <span class="toc-text">代码提交规范</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#4d1e90;"><link itemprop="mainEntityOfPage" href="https://flynna.github.io/share/git/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="会飞的土豆"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="土豆子的躺平日常"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">git 的基本使用</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="创建时间：2022-07-24 13:44:42" itemprop="dateCreated datePublished" datetime="2022-07-24T13:44:42+08:00">2022-07-24</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="修改时间：2022-08-14 22:12:13" itemprop="dateModified" datetime="2022-08-14T22:12:13+08:00">2022-08-14</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="本文字数">2.5k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="阅读时长">9m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%9C%9F%E8%B1%86%E3%81%AE%E6%95%99%E7%A8%8B%E5%88%86%E4%BA%AB/" style="--text-color:null" itemprop="url" rel="index"><span itemprop="text">土豆の教程分享</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%9C%9F%E8%B1%86%E3%81%AE%E6%95%99%E7%A8%8B%E5%88%86%E4%BA%AB/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">工具使用</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/git/" style="--text-color:#F14E32"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">git</span></a><a class="tag-item" href="/tags/git%E6%8C%87%E4%BB%A4/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">git指令</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><blockquote>
<p>Git is a free and open source distributed version control system</p>
</blockquote>
<h3 id="Git是用来做什么的"><a href="#Git是用来做什么的" class="headerlink" title="Git是用来做什么的?"></a><code>Git</code>是用来做什么的?</h3><ul>
<li><p>托管代码到远程，分布式托管，避免本机磁盘损坏造成不可挽回的局面。</p>
</li>
<li><p>版本控制，可以发布多个版本并且实现在各个版本之间来回穿梭（实现原理：文件快照，每个版本都会有一个文件快照，比直接备份文件快速便捷。因此，Git 仓库又被称为版本库）。</p>
</li>
<li><p>团队协作，强大的分支功能，可以快速实现团队协作</p>
</li>
</ul>
<span id="more"></span>

<p>环境搭建：<a href="/share/git-install-and-terminal-config">-&gt; 戳这里</a></p>
<hr>
<h3 id="指令使用"><a href="#指令使用" class="headerlink" title="指令使用"></a>指令使用</h3><h4 id="配置信息"><a href="#配置信息" class="headerlink" title="配置信息"></a>配置信息</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config <span class="token operator">&lt;</span>scope<span class="token operator">></span> <span class="token operator">&lt;</span>key<span class="token operator">></span> <span class="token operator">&lt;</span>value<span class="token operator">></span>
<span class="token comment"># 列出用户级的所有配置信息</span>
<span class="token function">git</span> config --global -l
<span class="token comment"># 增加配置项 默认是获取local配置中内容</span>
<span class="token function">git</span> config <span class="token punctuation">[</span>--local<span class="token operator">|</span>--global<span class="token operator">|</span>--system<span class="token punctuation">]</span> --get section.key
<span class="token comment"># 获取一个配置项</span>
<span class="token function">git</span> config <span class="token punctuation">[</span>--local<span class="token operator">|</span>--global<span class="token operator">|</span>--system<span class="token punctuation">]</span> --get section.key
<span class="token comment"># 删除一个配置项</span>
<span class="token function">git</span> config <span class="token punctuation">[</span>--local<span class="token operator">|</span>--global<span class="token operator">|</span>--system<span class="token punctuation">]</span> --unset section.key</code></pre>

<p><code>git</code>的配置级别主要有三类，按优先级顺序分为：<code>local(仓库级)、global(用户级)、system(系统级)</code>：</p>
<blockquote>
<p><code>local</code>(仓库级)：对应的配置文件是当前仓库下的<code>.git/config</code> （默认是隐藏的）</p>
</blockquote>
<blockquote>
<p><code>global</code>(用户级)：对应的配置文件是用户宿主目录下的<code>~/.gitconfig</code></p>
</blockquote>
<blockquote>
<p><code>system</code>(系统级)：对应的配置文件是<code>git</code>安装目录下的<code>/etc/gitconfig</code></p>
</blockquote>
<h4 id="初始化项目仓库"><a href="#初始化项目仓库" class="headerlink" title="初始化项目仓库"></a>初始化项目仓库</h4><p>区别于克隆，初始化仓库通常是在新建项目时使用。</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 第一步：初始化仓库</span>
<span class="token function">git</span> init

<span class="token comment"># 第二步：建立本地仓库与远程仓库的关联</span>
<span class="token function">git</span> remote <span class="token function">add</span> origin <span class="token punctuation">[</span>线上仓库地址<span class="token punctuation">]</span>
<span class="token comment"># 如果此命令抛出 fatal: remote origin already exists. 异常，那么继续执行：</span>
<span class="token function">git</span> remote <span class="token function">rm</span> origin
<span class="token function">git</span> remote <span class="token function">add</span> origin <span class="token punctuation">[</span>线上仓库的SSH地址<span class="token punctuation">]</span></code></pre>

<p><code>注意：.git 文件不能嵌套（仓库不能嵌套）</code></p>
<h4 id="克隆一个项目"><a href="#克隆一个项目" class="headerlink" title="克隆一个项目"></a>克隆一个项目</h4><p>克隆一个已经存在的项目到本地。</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone <span class="token punctuation">[</span>url<span class="token punctuation">]</span></code></pre>

<h4 id="一次提交流程"><a href="#一次提交流程" class="headerlink" title="一次提交流程"></a>一次提交流程</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 先拉取目标分支的最新代码，拉取之后直接合并。可以简写为 git pull</span>
<span class="token function">git</span> pull origin <span class="token punctuation">[</span>分支名<span class="token punctuation">]</span>
<span class="token comment"># git pull = git fetch + git merge</span>
<span class="token comment"># git fetch origin [分支名] ：先拉取目标分支的最新代码，拉取之后由用户决定是否合并</span>

<span class="token comment"># 将改动的代码文件添加至暂存区</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token comment"># 也可以 git add [文件名] 来单独添加某一个文件</span>
<span class="token function">git</span> <span class="token function">add</span> -A

<span class="token comment"># 将暂存区的文件提交至本地仓库</span>
<span class="token function">git</span> commit -m <span class="token string">'这次提交的描述信息'</span>

<span class="token comment"># 将代码推送到远程 如果不是该分支的第一次推送，可以简写为 git push</span>
<span class="token function">git</span> push origin <span class="token punctuation">[</span>分支名<span class="token punctuation">]</span>

<span class="token comment"># 当然这个过程你也可以查看当前仓库的状态</span>
<span class="token function">git</span> status</code></pre>

<p>如图：</p>
<p><a href="/images/share/git/p1.png"><img src="/images/share/git/p1.png" alt="git-p1" loading="lazy"></a></p>
<h4 id="查看提交日志"><a href="#查看提交日志" class="headerlink" title="查看提交日志"></a>查看提交日志</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log</code></pre>

<h4 id="移动、重命名文件"><a href="#移动、重命名文件" class="headerlink" title="移动、重命名文件"></a><strong>移动、重命名文件</strong></h4><div class="success">

<blockquote>
<p><code>git mv</code>命令用于移动或重命名一个文件、目录或软连接，可以解决<code>windows</code>环境下<code>git</code>对文件及文件夹大小写不敏感问题。（<del>当然删除再提交，重新添加再提交也是可以滴 😂😂😂</del>）</p>
</blockquote>
</div>

<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 先 cd 到你要重命名的文件夹，然后执行下面命令</span>
<span class="token function">git</span> <span class="token function">mv</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token punctuation">[</span>newfile<span class="token punctuation">]</span>
<span class="token comment"># eg. root/static/images -> root/static/image</span>
<span class="token builtin class-name">cd</span> ./static
<span class="token function">git</span> <span class="token function">mv</span> images image

<span class="token comment"># 重命名的文件夹 已存在，此时的 mv 就是移动指令指--移动到--   如果想移动到 上一级：</span>
<span class="token function">git</span> <span class="token function">mv</span> files <span class="token punctuation">..</span>
<span class="token comment"># 对于文件而言，如果已存在，添加 -f 强制修改</span>
<span class="token function">git</span> <span class="token function">mv</span> -f <span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token punctuation">[</span>newfile<span class="token punctuation">]</span></code></pre>

<h4 id="存储文件改动"><a href="#存储文件改动" class="headerlink" title="存储文件改动"></a>存储文件改动</h4><p>场景：当前工作区被污染，内容未完成，不想直接提交， 需要切到指定分支版本紧急解决其他需求。</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 存储当前工作区的改动（不存储新文件及 ignore 的文件</span>
<span class="token function">git</span> stash

<span class="token comment"># 存储所有改动</span>
<span class="token function">git</span> stash -a

<span class="token comment"># 指定版本 test 并存储</span>
<span class="token function">git</span> stash save <span class="token string">'test'</span>

<span class="token comment"># 查看当前存储的所有版本</span>
<span class="token function">git</span> stash list

<span class="token comment"># 弹出最新的存储内容至工作区 并删除存储对应的版本的存储</span>
<span class="token function">git</span> stash pop

<span class="token comment"># 应用指定版本的存储内容至工作区 不删除存储 version 对应存储的版本号 0、1、、</span>
<span class="token function">git</span> stash apply stash@<span class="token punctuation">&#123;</span>version<span class="token punctuation">&#125;</span>

<span class="token comment"># 删除指定的存储版本内容 0 为版本号</span>
<span class="token function">git</span> stash drop stash@<span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span>

<span class="token comment"># 删除所有的存储</span>
<span class="token function">git</span> stash <span class="token function">clear</span>
<span class="token comment"># ...</span></code></pre>

<h4 id="将某次提交合并至当前分支"><a href="#将某次提交合并至当前分支" class="headerlink" title="将某次提交合并至当前分支"></a>将某次提交合并至当前分支</h4><p>场景：在某个功能分支<code>A</code>上新增了一个功能提交，想在另外一个分支<code>B</code>使用，但又不想让另外这个分支<code>B</code>合并<code>A</code>的其他功能，此时，可以通过<code>cherry-pick</code>将<code>A</code>的某次提交合并到<code>B</code>。</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 切换到分支 B</span>
<span class="token function">git</span> checkout B

<span class="token comment"># 将分支 A 提交的 asgasgasgnajsgank 内容合并当当前的 B 分支</span>
<span class="token function">git</span> cherry-pick asgasgasgnajsgank

<span class="token comment"># 遇到冲突</span>
<span class="token comment"># 解决冲突 先打开编辑器解决冲突</span>
<span class="token comment"># -- 工作区是干净的</span>
<span class="token function">git</span> cherry-pick --continue
<span class="token comment"># -- 工作区不干净</span>
<span class="token function">git</span> <span class="token function">add</span> xxx
<span class="token function">git</span> commit -m <span class="token string">''</span>
<span class="token function">git</span> push 或 <span class="token function">git</span> push origin B

<span class="token comment"># 不解决冲突</span>
<span class="token comment"># -- 退回到 cherry-pick 之前的状态</span>
<span class="token function">git</span> cherry-pick --abort
<span class="token comment"># -- 退出 cherry-pick 但不回到之前的状态</span>
<span class="token function">git</span> cherry-pick --quit</code></pre>

<h4 id="回退版本"><a href="#回退版本" class="headerlink" title="回退版本"></a>回退版本</h4><p>回退到指定版本后，指定版本的后续版本将被删除</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 查看版本号</span>
<span class="token function">git</span> log

<span class="token comment"># 版本回退至 asgasjgajsga</span>
<span class="token function">git</span> reset --hard asgasjgajsga

<span class="token comment"># 推送更改</span>
<span class="token comment"># 直接 git push 会报错，因为此时本地的 HEAD 指向版本和远程不一样</span>
<span class="token function">git</span> push origin A  <span class="token operator">||</span> <span class="token function">git</span> push -f</code></pre>

<h4 id="还原某一次提交"><a href="#还原某一次提交" class="headerlink" title="还原某一次提交"></a>还原某一次提交</h4><p>场景：用于回退之前的错误提交或者取消某一次的内容提交，不影响其他的提交内容</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 取消 asgasgasgjaj 这次提交</span>
<span class="token function">git</span> revert -n asgasgasgjaj

<span class="token comment"># 遇到冲突先解决</span>
<span class="token comment"># 提交这次 revert</span>
<span class="token function">git</span> commit -m <span class="token string">'Revert: 取消 asgasgasgjaj 的提交内容'</span>

<span class="token comment"># 推送</span>
<span class="token function">git</span> push</code></pre>

<h4 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a><strong>分支管理</strong></h4><h5 id="分支查看"><a href="#分支查看" class="headerlink" title="分支查看"></a>分支查看</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 查看本地分支列表</span>
<span class="token function">git</span> branch 或 <span class="token function">git</span> branch -a

<span class="token comment"># 查看所有分支</span>
<span class="token function">git</span> branch -l</code></pre>

<h5 id="分支创建"><a href="#分支创建" class="headerlink" title="分支创建"></a>分支创建</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 创建分支 A</span>
<span class="token function">git</span> branch A

<span class="token comment"># 指定以 asgasgl 这次提交的内容 创建的分支名 A</span>
<span class="token function">git</span> branch A asgasgl

<span class="token comment"># 创建并切换至分支 B</span>
<span class="token function">git</span> checkout -b B</code></pre>

<h5 id="分支切换"><a href="#分支切换" class="headerlink" title="分支切换"></a>分支切换</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 切换至分支 B</span>
<span class="token function">git</span> checkout B</code></pre>

<h5 id="分支更新"><a href="#分支更新" class="headerlink" title="分支更新"></a>分支更新</h5><p>场景：远程分支被删除，但自己本地显示远程分支存在</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 更新远程分支</span>
<span class="token function">git</span> remote update origin --prune

<span class="token comment"># 查看需要清理的本地分支</span>
<span class="token function">git</span> remote prune origin --dry-run

<span class="token comment"># 删除本地存在，但远程不存在的分支</span>
<span class="token function">git</span> remote prune origin -n</code></pre>

<h5 id="分支删除"><a href="#分支删除" class="headerlink" title="分支删除"></a>分支删除</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 删除本地分支 B, 需要先切到一个非 B 的分支 A</span>
<span class="token function">git</span> checkout A
<span class="token function">git</span> branch -d B

<span class="token comment"># 删除远程分支 B</span>
<span class="token function">git</span> push origin --delete B</code></pre>

<h5 id="分支合并"><a href="#分支合并" class="headerlink" title="分支合并"></a>分支合并</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 功能分支的代码推送至远端</span>
<span class="token function">git</span> push origin feature/xxx

<span class="token comment"># 切换至主分支</span>
<span class="token function">git</span> checkout develop

<span class="token comment"># 拉取主分支最新代码</span>
<span class="token function">git</span> pull origin develop <span class="token operator">||</span> <span class="token function">git</span> pull

<span class="token comment"># 合并功能分支至 develop</span>
<span class="token function">git</span> merge feature/xxx

<span class="token comment"># 遇到冲突 --- 丢弃 不合并了</span>
<span class="token function">git</span> merge --abort

<span class="token comment"># 另外一种变基合并</span>
<span class="token function">git</span> rebase branch</code></pre>

<h4 id="为某次提交打标签"><a href="#为某次提交打标签" class="headerlink" title="为某次提交打标签"></a>为某次提交打标签</h4><p>标签分为<strong>轻量标签（<code>lightweight</code>）</strong>与附注标签 <strong>（<code>annotated</code>）</strong></p>
<h5 id="标签查看"><a href="#标签查看" class="headerlink" title="标签查看"></a>标签查看</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 列出所有标签</span>
<span class="token function">git</span> tag

<span class="token comment"># 按照通配符列出标签需要 -l 或 --list 选项（下面通配符指 v1.0.0 开头的所有标签）</span>
<span class="token function">git</span> tag -l <span class="token string">'v1.0.0*'</span>

<span class="token comment"># 查看具体某一个标签（v1.0.0）信息和与之对应的提交信息</span>
<span class="token function">git</span> show v1.0.0</code></pre>

<h5 id="标签创建"><a href="#标签创建" class="headerlink" title="标签创建"></a>标签创建</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># -a 创建附注标签（v1.0.0） -m 指定了一条将会存储在标签中的信息</span>
<span class="token function">git</span> tag -a v1.0.0 -m <span class="token string">"my version 1.4"</span>

<span class="token comment"># 创建轻量标签（v1.0.0），不包含任何其他信息</span>
<span class="token function">git</span> tag v1.0.0

<span class="token comment"># 针对历史提交记录的某一次的提交，创建标签（v1.0.0）</span>
<span class="token function">git</span> tag -a v1.0.0 9fceb02xxx</code></pre>

<h5 id="标签共享（推送远程）"><a href="#标签共享（推送远程）" class="headerlink" title="标签共享（推送远程）"></a>标签共享（推送远程）</h5><p>注意需要显式的推送，不能简写为<code>git push</code>.</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 将标签 v1.0.0 推送到远程，方便其他人共享</span>
<span class="token function">git</span> push origin v1.0.0

<span class="token comment"># 将所有标签推送至远程</span>
<span class="token function">git</span> push origin --tags</code></pre>

<h5 id="标签删除"><a href="#标签删除" class="headerlink" title="标签删除"></a>标签删除</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 删除本地标签 v1.0.0</span>
<span class="token function">git</span> tag -d v1.0.0

<span class="token comment"># 删除远程的一个标签 git push &lt;remote> :refs/tags/&lt;tagname></span>
<span class="token function">git</span> push origin :refs/tags/v1.0.0
<span class="token comment"># 或者</span>
<span class="token function">git</span> push origin --delete v1.0.0</code></pre>

<h5 id="检出标签"><a href="#检出标签" class="headerlink" title="检出标签"></a>检出标签</h5><p>在标签创建完成后，你在上线之前又做过多次修改。这时你可以检出你之前那个准备发布的版本（打标签的版本）进行部署。</p>
<p><code>Git</code>中不能真的检出一个标签，因为他们并不能像分支一样来回移动。如果你切换到某个标签后又提交了新东西，那么这些新的提交将不属于任何分支，并且无法访问，除非通过确切的提交哈希才能访问。</p>
<p>那么<strong>如果真的需要在某一个标签版本修复一些内容：那么推荐的做法是基于这个标签版本创建一个新的分支。</strong>如下：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># git checkout -b [分支名] [标签名]</span>
<span class="token function">git</span> checkout -b version1 v1.0.0</code></pre>

<div class="success">

<blockquote>
<p>说了这么多指令，不用刻意去记，孰能生巧。另外：安利 vscode 的插件 Git Graph、GitLens — Git supercharged，所有的<code>git</code>指令都能通过界面操作。可以看一下我另外一篇文章： <a href="/posts/vscode-setting-and-plugins">vscode 的使用，设置分享以及插件推荐</a></p>
</blockquote>
</div>

<h3 id="代码提交规范"><a href="#代码提交规范" class="headerlink" title="代码提交规范"></a>代码提交规范</h3><p>每一次提交代码时都会写<code>commit message</code>，如果书写风格不统一，十分不利于阅读和维护。推荐格式：</p>
<blockquote>
<p>type(scope) : subject</p>
</blockquote>
<p><code>type</code>：指<code>commit</code>的类别，此项必填。</p>
<ul>
<li><p><code>feat</code>: 新功能</p>
</li>
<li><p><code>fix</code>: 修复 bug</p>
</li>
<li><p><code>docs</code>: 文档改变</p>
</li>
<li><p><code>style</code>: 代码格式改变</p>
</li>
<li><p><code>refactor</code>: 某个已有功能重构</p>
</li>
<li><p><code>perf</code>: 性能优化</p>
</li>
<li><p><code>test</code>: 增加测试</p>
</li>
<li><p><code>build</code>: 改变了 build 工具 如 grunt 换成了 npm</p>
</li>
<li><p><code>revert</code>: 撤销上一次的 commit</p>
</li>
<li><p><code>chore</code>: 构建过程或辅助工具的变动</p>
</li>
</ul>
<p><code>scope</code>：说明<code>commit</code>影响的范围，此项选题</p>
<p><code>subject</code>：<code>commit</code>的简短描述，不超过<code>50</code>个字符</p>
<blockquote>
<p>tips：仅作为一个推荐的规范格式，并不会对你的 commit-message 做任何校验，自觉遵守即可；另外如果你的团队有自己的提交规范，请优先以团队提交规范为主。</p>
</blockquote>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>会飞的土豆</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://flynna.github.io/share/git/" title="git 的基本使用">https://flynna.github.io/share/git/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/github-create-pr/" rel="prev" title="github 上如何为开源项目提交 pr?"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">github 上如何为开源项目提交 pr?</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/share/npm-link/" rel="next" title="手把手教你使用 npm-link 软链"><span class="post-nav-text">手把手教你使用 npm-link 软链</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>如果您有任何关于博客内容的相关讨论，欢迎前往 <a href="https://github.com/flynna/flynna.github.io/discussions" target="_blank">GitHub Discussions</a> 与我交流。</span><br></div><style>.utterances {
  max-width: 100%;
}</style><script src="https://giscus.app/client.js" data-repo="flynna/flynna.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkzNDE0MDgyNjE=" data-category="Announcements" data-category-id="DIC_kwDOFFl6Bc4CQHuO" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-theme="light" crossorigin="anonymous" async></script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2022 – 2023 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> 会飞的土豆</span></div><div class="live-time"><span>本博客已萌萌哒地运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2022-07-07T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} 天 ${passHour} 小时 ${passMinute} 分 ${passSecond} 秒`;
}
blog_live_time();
</script></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#4d1e90" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="搜索..." value=""></div><div class="search-result-container"></div></div><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body></html>